Translate the given pseudocode into clean, idiomatic, and efficient Python code that precisely implements the described logic. Your solution must adhere to these requirements:

- Use only Python 3 standard library modules; no external dependencies.
- Use plain input() calls without any prompt strings.
- Enclose the entire solution in a single Python code block starting with ```python and ending with ``` with no extra text outside.
- Prioritize readability, correctness, and optimized performance to comfortably run within 5 seconds on typical inputs.
- Carefully handle edge cases and avoid redundant or unnecessary computations.
- Utilize appropriate data structures, algorithmic patterns, and Pythonic idioms to maximize both clarity and speed.
- Import only what is strictly needed from standard libraries.
- Do not output any explanations, comments, or debugging printsâ€”only the final working code.

Focus on faithful and idiomatic implementation of the logic as described by the pseudocode, while balancing clarity and computational efficiency. The output must be concise and solely the Python code.