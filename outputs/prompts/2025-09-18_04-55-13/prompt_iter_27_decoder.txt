Translate the provided pseudocode into precise, fully working, and optimized Python code with absolute fidelity to the original class names, function names, method signatures, and class/object hierarchies given. Your translation must:

- Preserve all identifiers (class names, function names, variable names) exactly as in the pseudocode unless a change is clearly necessary to meet Python syntax or typing standards. When in doubt, prefer exact preservation.
- Replicate all control flow structures (loops, conditionals, recursions, exceptions) exactly as described, ensuring correctness, robustness, and efficient execution under a 5-second runtime constraint.
- Correctly infer and handle all implicit and explicit edge cases, including null/None, empty inputs, boundary conditions, and invalid inputs without modifying the method signatures.
- Maintain data structures consistent with pseudocode semantics; use Pythonic equivalents only when fully unambiguous and beneficial to correctness or performance.
- Employ full and accurate Python type hints wherever determinable; omit or simplify only if pseudocode is ambiguous.
- Include all necessary standard library or widely accepted third-party imports only if they clearly enhance correctness, performance, or clarity; do not add any unused imports or dependencies.
- Avoid introducing any new classes, functions, or parameters not cited in the pseudocode.
- Make the code ready to run and test immediately without any further edits or preprocessing.
- Gracefully translate common pseudocode literals such as null, None, or similar to correct Python equivalents.
- When constructing auxiliary functions (e.g., helpers like tree_node, list_node), ensure edge cases and data conversions are fully handled as expected.
- Produce clean, readable, idiomatic Python code without unnecessary comments or print/debug statements.
- Enclose the entire code output within one single Python code block exactly as shown:

```python
# your translated code here
```

- Provide only the code inside the code block; no additional text, explanation, comments outside the block, or formatting.

This translation prompt aims to maximize correctness, clarity, fidelity, and runtime efficiency simultaneously for arbitrary pseudocode inputs.