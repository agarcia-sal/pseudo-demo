Translate the given pseudocode into a **complete, efficient, and robust Python 3 program** that:

- Strictly uses `input()` without prompts for **all inputs**;
- Produces output exactly as the pseudocode implies, with no extra text or formatting;
- Implements **all explicitly stated and logically deduced steps**, handling edge and corner cases thoroughly;
- Is self-contained and runnable immediately, requiring no code changes or additional setup beyond standard Python 3 and widely used libraries;
- Is optimized for clarity, correctness, and performance within a 5-second runtime limit on typical competitive programming inputs;
- Uses clean, idiomatic Python 3 style, including appropriate built-ins, standard libraries, or popular third-party packages if they simplify, clarify, or accelerate the solution;
- Contains **no explanations, comments (except minimal ones clarifying complex logic), or any text outside a single Python code block**.

Output your solution **only** as shown below:

```python
# full Python code implementing the pseudocode here
```

No extra output, commentary, or separators. Your code must be ready-to-run as-is.