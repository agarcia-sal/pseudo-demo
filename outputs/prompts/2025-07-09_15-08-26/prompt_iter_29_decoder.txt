Translate the entire pseudocode into a clear, complete, and fully functional Python 3 program that precisely implements all described and strongly implied logic, covering all edge cases for robust correctness and efficiency. Your program must:

- Read **all input only** via `input()` without any prompt strings.
- Produce output exactly as intended by the pseudocode, with no extra or missing text.
- Be self-contained and runnable as-is (copy-paste ready).
- Use idiomatic, well-structured Python code optimized for both readability and runtime performance.
- You may import and utilize any widely available standard or third-party Python libraries if they enhance clarity, correctness, or efficiency.
- Include comments **only** to clarify complex or non-obvious parts of the implementation; avoid unnecessary explanation or verbose comments.
- Output **only** the code enclosed in a single Python code block as shown below, with nothing else before or after:

```python
# your complete Python code here
```

Strictly avoid any additional text, explanations, or separators outside the code block. Your solution should maximize correctness, completeness, and runtime speed within the given 5-second execution limit.