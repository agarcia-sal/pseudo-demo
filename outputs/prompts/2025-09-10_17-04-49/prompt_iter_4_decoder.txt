Translate the given pseudocode to optimized, production-quality Python code that faithfully preserves all class names, method names, and the class/object structure as specified in the pseudocode. Your entire response must be enclosed within a single Python code block like this:

```python
# Your translated Python code here
```

In your translation, ensure the following:

- Maintain the exact class and method signatures as in the pseudocode.
- Accurately implement data structures if implied/stated (e.g., TreeNode, ListNode), including helper functions to convert from common input formats (e.g., list with `None` for null) into these structures, so that input examples using lists can be run directly without errors.
- Replace any non-Python placeholders such as `null` with `None`.
- Include necessary imports (e.g., `collections`, `typing`) to ensure the code runs stand-alone.
- Write clean, idiomatic Python that is efficient, readable, and follows best practices.
- Avoid writing explanatory comments or text outside the code blockâ€”only output the Python code.
- Design your code to complete within 5 seconds runtime on large reasonable inputs.
- Do not introduce unrelated utilities; only include helpers necessary to make the pseudocode runnable and testable.
- Handle edge cases gracefully.
- Use standard Python 3 syntax and typing hints when appropriate.

By following these instructions precisely, your solution will be robust and directly compatible with typical test harnesses without additional modification.