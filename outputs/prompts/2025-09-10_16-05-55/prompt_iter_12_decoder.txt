Translate the given pseudocode into a fully functional, runnable, and optimized Python implementation adhering strictly to the following instructions:

- Implement exactly the function whose name and parameters are specified in the pseudocode; do not define any classes or wrappers unless explicitly mentioned.
- Define all necessary helper functions, custom data structures (e.g., TreeNode), and imports within the same code block.
- If the pseudocode inputs are abstract or use generic formats, transform these inputs into idiomatic Python types that make the function directly callable with natural arguments.
- Use the most efficient and pythonic constructs and standard libraries available; your code must complete within 5 seconds on typical inputs.
- Output only the pure Python code without any explanations, comments, print statements, or additional text.
- Always enclose your entire solution in a single triple-backtick Python code block.
- Use type hints where they clarify usage without compromising conciseness or readability.

Example output format:

```python
def functionName(parameters):
    # optimized, runnable Python code implementing the pseudocode
    ...
```

Now produce the requested Python function implementation exactly as specified above.