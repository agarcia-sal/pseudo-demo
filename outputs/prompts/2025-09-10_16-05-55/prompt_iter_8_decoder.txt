Translate the given pseudocode into a **fully functional, efficient, and directly runnable Python function** by strictly adhering to these guidelines:

- Preserve the **function name and parameter list exactly as specified in the pseudocode**.
- Implement the entire logic within this function only—do **not** wrap it inside any class unless explicitly directed.
- If the pseudocode implies using helper data structures or classes (e.g., TreeNode), define them clearly and include all necessary imports at the top.
- Convert any implicit or assumed input formats (like lists representing trees) into appropriate Python data structures so the function can be called with natural Python values.
- Use any standard or external Python libraries responsibly to maximize clarity, correctness, and performance—your code should complete within 5 seconds on typical inputs.
- Your output must be a single, complete, correct Python implementation enclosed in a single triple-backtick code block with `python` denoted, **without any explanations, comments, or extra text**.

Example output format:

```python
def functionName(parameters):
    # precise implementation from pseudocode, optimized and runnable
    ...
```

Now, produce the Python code implementing the pseudocode exactly in this specified format.