Translate this pseudocode into a **complete, optimized, and directly runnable Python function** with the **exact function name and parameters specified** (no wrapping classes unless explicitly instructed). Follow these requirements exactly:

- Implement the full logic inside the function only.
- If the pseudocode involves custom data structures (e.g. TreeNode), define any needed classes or helper functions **inside the same code block**.
- Include all necessary standard or external library imports at the top.
- When inputs are implicit or assumed in formats like arrays representing trees or other structures, convert these inputs into idiomatic Python data structures so the function is callable directly with natural Python arguments.
- Use Pythonic, efficient, and concise code idioms and libraries for clarity and speed; your code must run within 5 seconds for typical input sizes.
- Do NOT include any explanations, comments, print statements, or additional textâ€”output ONLY the final code.
- Enclose your entire implementation in a single triple-backtick Python code block.
- Use consistent Python naming conventions and type hints if they improve readability without verbosity.

Example output format:

```python
def functionName(parameters):
    # optimized, runnable pure Python code implementing the given pseudocode
    ...
```

Now, provide the requested Python implementation exactly as specified.