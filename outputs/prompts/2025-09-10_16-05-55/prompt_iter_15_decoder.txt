Translate the provided pseudocode into a complete, efficient, and executable Python function matching exactly the function name and parameters stated in the pseudocode. Follow these rules precisely:

- Implement **only** the specified function. Do **not** include any classes, wrappers, or code outside the function unless the pseudocode explicitly requires it.
- Include all necessary imports, helper functions, and custom type definitions (e.g., TreeNode) **within the same single Python code block**.
- Convert any abstract or generic inputs in the pseudocode into idiomatic and natural Python types and structures so the function can be directly called with standard Python arguments.
- Use the most efficient, pythonic style and leverage standard libraries or well-known packages (if needed) to ensure the solution runs correctly and fast (under 5 seconds on typical inputs).
- Use type hints judiciously to clarify input and output where it improves readability without redundant verbosity.
- Do not include any explanation, comments, debug prints, or extra textâ€”output strictly the pure Python code only.
- Place your entire solution inside a **single** triple-backtick Python code block formatted like this:

```python
def functionName(parameters):
    # optimized implementation here
    ...
```

Your implementation must be self-contained, runnable as-is, and match the pseudocode functionality exactly with clear, idiomatic Python.  
Produce the Python code now.