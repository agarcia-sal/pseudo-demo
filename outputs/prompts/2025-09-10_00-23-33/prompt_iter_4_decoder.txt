Translate the given pseudocode into fully working, syntactically correct Python code.  
- Preserve all function and variable names exactly as in the pseudocode.  
- Include any necessary class or helper definitions implied by the pseudocode (e.g., ListNode for linked lists).  
- Implement all control structures and logic exactly, ensuring correctness and clarity.  
- Optimize for readability and efficiency without changing the underlying algorithm.  
- Use built-in or standard Python libraries if helpful, but no external dependencies beyond the standard library.  
- Enclose the entire solution in a single Python code block formatted as ```python ... ```.  
- Provide only the codeâ€”no explanations, comments, or additional text.  
- Make sure the code runs independently and respects a 5-second execution time limit on typical inputs.  

Pseudocode:  
```  
{Insert pseudocode here}  
```