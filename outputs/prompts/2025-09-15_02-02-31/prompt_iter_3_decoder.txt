Translate the following pseudocode into clean, efficient Python code. Enclose the entire code output within a single Python code block starting with ```python and ending with ```. Optimize for clarity and performance, ensuring the function runs within a 5-second timeout. Do not include any explanation or comments outside the code block. Only provide the code.