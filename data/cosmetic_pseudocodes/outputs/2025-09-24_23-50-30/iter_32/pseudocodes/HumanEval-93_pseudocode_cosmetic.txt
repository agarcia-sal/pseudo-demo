```
FUNCTION encode(chat)
    SET tomek TO "aeiouAEIOU"
    SET cimzo TO EMPTY MAP
    FOR eachLetter IN tomek DO
        cimzo[eachLetter] = CHAR(ORD(eachLetter) + 2)
    END FOR
    SET clibu TO EMPTY STRING
    FOR keyp IN chat DO
        IF keyp IN tomek THEN
            clibu = clibu + cimzo[keyp]
        ELSE
            clibu = clibu + keyp
        END IF
    END FOR
    SET phuvo TO EMPTY STRING
    FOR maddo IN clibu DO
        IF maddo >= "A" AND maddo <= "Z" THEN
            phuvo = phuvo + LOWERCASE(maddo)
        ELSE IF maddo >= "a" AND maddo <= "z" THEN
            phuvo = phuvo + UPPERCASE(maddo)
        ELSE
            phuvo = phuvo + maddo
        END IF
    END FOR
    RETURN phuvo
END FUNCTION
```