```
FUNCTION is_sorted(sequence)
    SET tracker TO empty map
    FOR element IN sequence DO
        IF element IS IN tracker THEN
            SET tracker[element] TO tracker[element] + 1
        ELSE
            SET tracker[element] TO 1
    END FOR
    FOR key IN tracker KEYS DO
        IF tracker[key] > 2 THEN
            RETURN False
    END FOR
    SET idx TO 1
    WHILE idx < LENGTH(sequence) DO
        IF NOT (sequence[idx - 1] <= sequence[idx]) THEN
            RETURN False
        SET idx TO idx + 1
    END WHILE
    RETURN True
END FUNCTION
```