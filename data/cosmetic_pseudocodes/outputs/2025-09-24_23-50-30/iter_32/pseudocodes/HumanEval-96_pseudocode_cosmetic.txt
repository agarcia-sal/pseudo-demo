```
FUNCTION count_up_to(x)
    SET w TO 2
    SET s TO []
    WHILE w < x
        SET q TO 2
        SET r TO true
        WHILE q < w AND r
            SELECT (w MOD q) 
                CASE 0:
                    SET r TO false
                DEFAULT:
                    SET r TO r AND true
            END SELECT
            IF r = false THEN 
                q = x 
            ELSE 
                q = q + 1
            END IF
        END WHILE
        IF r THEN 
            s = s + [w]
        END IF
        w = w + 1
    END WHILE
    RETURN s
END FUNCTION
```