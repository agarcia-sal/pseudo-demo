```
FUNCTION sort_array(gamma)
    IF LENGTH OF gamma = 0 THEN
        RETURN []
    ELSE
        SET phi TO gamma[0] + gamma[LENGTH OF gamma - 1]
        SET delta TO (phi MOD 2 = 0) ? TRUE : FALSE
        SET epsilon TO SORT(gamma)
        IF delta THEN
            epsilon ‚Üê REVERSE(epsilon)
        END IF
        RETURN epsilon
    END IF
END FUNCTION
```