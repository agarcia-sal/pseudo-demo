```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime(y)
        SET a TO 2
        WHILE a LESS THAN y
            IF y MODULO a EQUALS 0
                RETURN False
            SET a TO a PLUS 1
        IF NOT (y GREATER THAN 1)
            RETURN False
        RETURN True
    END FUNCTION

    SET b TO 1
    FOR c FROM 2 TO x
        IF (x MODULO c EQUALS 0) AND (is_prime(c) EQUALS True)
            IF b LESS THAN c
                SET b TO c
    RETURN b
END FUNCTION
```