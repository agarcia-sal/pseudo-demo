FUNCTION derivative(formal_parameter)
  DEFINE auxiliary(result, index) = 
    IF index < LENGTH(formal_parameter) THEN
      auxiliary(result + [index * formal_parameter[index]], index + 1)
    ELSE
      result
    END IF
  END DEFINE
  RETURN auxiliary([], 1)
END FUNCTION