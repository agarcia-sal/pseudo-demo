FUNCTION prime_fib(integer_n)
    IMPORT mathematical_functions_module

    FUNCTION is_prime(integer_p)
        SWITCH
            CASE integer_p < 2:
                RETURN False
            DEFAULT:
                SET integer_h TO MIN(INTEGER_SQRT(integer_p) + 1, integer_p - 1)
                SET integer_j TO 2
                WHILE integer_j <= integer_h
                    IF 0 == (integer_p MODULO integer_j)
                        RETURN False
                    SET integer_j TO integer_j + 1
                END WHILE
                RETURN True
        END SWITCH
    END FUNCTION

    SET list_fibonacci TO [0,1]

    FUNCTION generate_fib_and_check(param_x)
        IF param_x == 0 THEN RETURN list_fibonacci[-1]
        SET next_val TO list_fibonacci[-1] + list_fibonacci[-2]
        APPEND next_val TO list_fibonacci
        IF is_prime(next_val)
            SET param_x TO param_x - 1
        RETURN generate_fib_and_check(param_x)
    END FUNCTION

    RETURN generate_fib_and_check(integer_n)
END FUNCTION