FUNCTION is_sorted(phi)
  SET zeta TO dictionary WITH keys FROM phi AND values 0
  PROCEDURE alpha(epsilon, i)
    IF i >= LENGTH(phi) THEN RETURN
    SET zeta[epsilon] TO zeta[epsilon] + 1
    CALL alpha(phi[i], i + 1)
  END PROCEDURE
  CALL alpha(phi[0], 1)
  FOR eta IN phi
    IF zeta[eta] > 2 THEN RETURN False
  END FOR
  PROCEDURE beta(i)
    IF i >= LENGTH(phi) THEN RETURN True
    IF NOT(phi[i-1] <= phi[i]) THEN RETURN False
    RETURN beta(i + 1)
  END PROCEDURE
  RETURN beta(1)
END FUNCTION