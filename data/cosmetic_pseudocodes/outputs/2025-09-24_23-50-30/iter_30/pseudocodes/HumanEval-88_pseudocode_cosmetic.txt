```
FUNCTION sort_array(data)
    SWITCH LENGTH OF data
        CASE 0:
            RETURN []
        DEFAULT:
            LET x = data[0] + data[(LENGTH OF data) - 1]
            LET order_flag =
                SWITCH (x MOD 2) 
                    CASE 0: TRUE
                    DEFAULT: FALSE
                END SWITCH
            LET sorted_result = SORT data BY order_flag DESCENDING ELSE ASCENDING
            RETURN sorted_result
    END SWITCH
END FUNCTION
```