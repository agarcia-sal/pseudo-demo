```
FUNCTION is_sorted(sequence)
    INITIALIZE frequency_map AS mapping FROM elements IN sequence TO 0
    FOR element IN sequence DO
        SET frequency_map[element] TO frequency_map[element] + 1
    END FOR

    FOR key IN sequence DO
        IF frequency_map[key] > 2 THEN
            RETURN False
        END IF
    END FOR

    SWITCH
        CASE NOT EXISTS i IN RANGE(1, LENGTH(sequence)-1) WHERE sequence[i-1] > sequence[i]:
            RETURN True
        DEFAULT:
            RETURN False
    END SWITCH
END FUNCTION
```