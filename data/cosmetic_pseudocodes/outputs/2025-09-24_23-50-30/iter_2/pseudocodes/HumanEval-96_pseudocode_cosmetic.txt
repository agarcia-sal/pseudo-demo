```
FUNCTION count_up_to(n)
    DECLARE primes AS empty queue
    DEFINE FUNCTION check_divisor(x, y)
        IF y * y > x
            RETURN true
        ELSE IF x MODULO y = 0
            RETURN false
        ELSE
            RETURN check_divisor(x, y + 1)
        END IF
    END FUNCTION

    DECLARE current_number = n - 1
    WHILE current_number >= 2
        IF check_divisor(current_number, 2) = true
            ENQUEUE primes WITH current_number
        END IF
        DECREMENT current_number BY 1
    END WHILE

    DECLARE result AS empty stack
    WHILE NOT primes IS empty
        PUSH result WITH DEQUEUE primes
    END WHILE

    RETURN result
END FUNCTION
```