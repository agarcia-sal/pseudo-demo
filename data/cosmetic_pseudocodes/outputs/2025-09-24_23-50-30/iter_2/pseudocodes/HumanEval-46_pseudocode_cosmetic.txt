```
FUNCTION fib4(integer_n)
    DEFINE calcFib(currentIndex, queue)
        IF currentIndex GREATER THAN integer_n THEN
            RETURN queue[3]
        ELSE
            LET newVal BE queue[0] + queue[1] + queue[2] + queue[3]
            LET newQueue BE [queue[1], queue[2], queue[3], newVal]
            RETURN calcFib(currentIndex + 1, newQueue)
        END IF
    END DEFINE

    LET initQueue BE [0, 0, 2, 0]
    IF NOT (integer_n >= 4) THEN
        RETURN initQueue[integer_n]
    END IF

    RETURN calcFib(4, initQueue)
END FUNCTION
```