```
FUNCTION sort_array(arr)
    IF NOT (LENGTH arr > 0) THEN
        RETURN []
    END IF
    LET first_element = arr[0]
    LET last_element = arr[LENGTH arr - 1]
    LET parity_check = (first_element + last_element) MOD 2
    LET descending_mode = FALSE
    IF parity_check = 0 THEN
        descending_mode = TRUE
    END IF
    LET sorted_arr = arr SORTED BY VALUE
    IF descending_mode THEN
        LET result = []
        FOR index FROM LENGTH sorted_arr - 1 DOWNTO 0 STEP -1 DO
            APPEND sorted_arr[index] TO result
        END FOR
        RETURN result
    ELSE
        RETURN sorted_arr
    END IF
END FUNCTION
```