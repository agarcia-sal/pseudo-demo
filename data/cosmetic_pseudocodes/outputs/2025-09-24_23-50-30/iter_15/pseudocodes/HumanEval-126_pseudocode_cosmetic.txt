```
FUNCTION is_sorted(sequence)
  DECLARE frequencies AS map FROM elements IN sequence TO 0

  DECLARE idx AS 0
  WHILE idx < LENGTH(sequence)
    SET temp_val TO sequence[idx]
    SET frequencies[temp_val] TO frequencies[temp_val] + 1
    SET idx TO idx + 1
  END WHILE

  FOR EACH elem IN sequence
    IF frequencies[elem] > 2 THEN
      RETURN False
    END IF
  END FOR

  DECLARE pos AS 1
  WHILE pos < LENGTH(sequence)
    IF sequence[pos - 1] > sequence[pos] THEN
      RETURN False
    END IF
    INCREMENT pos BY 1
  END WHILE
  
  RETURN True
END FUNCTION
```