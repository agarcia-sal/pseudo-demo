```
FUNCTION count_up_to(r)
    DEFINE primes AS an empty queue
    SET a TO 2
    WHILE a < r DO
        SET b TO 2
        SET flag_prime TO true
        WHILE b < a DO
            IF NOT (a MOD b) THEN
                SET flag_prime TO false
                EXIT WHILE
            END IF
            SET b TO b + 1
        END WHILE
        IF flag_prime THEN
            ENQUEUE a INTO primes
        END IF
        SET a TO a + 1
    END WHILE
    RETURN primes AS a list
END FUNCTION
```