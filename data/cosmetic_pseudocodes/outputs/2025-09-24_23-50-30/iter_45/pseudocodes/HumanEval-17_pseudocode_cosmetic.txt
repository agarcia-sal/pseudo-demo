```
FUNCTION parse_music(music_string)
    DECLARE duration_map AS MAP
    SET duration_map TO EMPTY MAP
    INSERT KEY 'o' WITH VALUE 4 INTO duration_map
    INSERT KEY 'o|' WITH VALUE 2 INTO duration_map
    INSERT KEY '.|' WITH VALUE 1 INTO duration_map

    DECLARE tokens AS ARRAY
    SET tokens TO SPLIT music_string BY ' '

    DECLARE result_list AS LIST
    SET result_list TO EMPTY LIST

    FOR INDEX i FROM 0 TO LENGTH(tokens) - 1
        IF NOT tokens[i] EQUALS EMPTY_STRING THEN
            APPEND duration_map[tokens[i]] TO result_list
        END IF
    END FOR

    RETURN result_list
END FUNCTION
```