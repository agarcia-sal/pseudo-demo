```
FUNCTION fib4(integer_n)
    SET buffer TO ARRAY[0, 0, 2, 0]
    IF NOT (integer_n >= 4) THEN
        RETURN buffer[integer_n]
    ELSE
        FOR index FROM 4 TO integer_n DO
            SET total TO buffer[0] + buffer[1] + buffer[2] + buffer[3]
            buffer = [buffer[1], buffer[2], buffer[3], total]
        END FOR
        RETURN buffer[3]
    END IF
END FUNCTION
```