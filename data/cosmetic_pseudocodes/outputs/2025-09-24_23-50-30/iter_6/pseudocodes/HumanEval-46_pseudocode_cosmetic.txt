```
FUNCTION fib4(integer_n)
    INITIALIZE buffer TO ARRAY WITH ELEMENTS 0,0,2,0
    IF NOT integer_n GREATER OR EQUAL TO 4
        RETURN buffer[integer_n]
    END IF

    SET idx TO 4
    WHILE idx NOT GREATER THAN integer_n
        CALCULATE new_val AS buffer[0] PLUS buffer[1] PLUS buffer[2] PLUS buffer[3]
        INSERT new_val AT END OF buffer
        DELETE ELEMENT AT POSITION 0 FROM buffer
        INCREMENT idx BY 1
    END WHILE

    RETURN buffer[3]
END FUNCTION
```