```
FUNCTION count_up_to(p)
    primes_list ← []
    x ← 2
    WHILE x < p
        prime_flag ← 1
        y ← 2
        WHILE y < x AND prime_flag ≠ 0
            IF (x - (y * (x DIV y))) = 0 THEN
                prime_flag ← 0
            END IF
            y ← y + 1
        END WHILE
        IF prime_flag = 1 THEN
            primes_list.APPEND(x)
        END IF
        x ← x + 1
    END WHILE
    RETURN primes_list
END FUNCTION
```