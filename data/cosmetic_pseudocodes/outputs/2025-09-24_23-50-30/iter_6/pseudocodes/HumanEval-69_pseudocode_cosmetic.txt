```
FUNCTION search(list_of_integers)
    LET max_val BE MAXIMUM VALUE IN list_of_integers
    CREATE freq_array WITH (max_val + 1) ELEMENTS INITIALIZED TO 0
    LET pos BE 0
    WHILE pos < LENGTH OF list_of_integers DO
        freq_array[list_of_integers[pos]] ← freq_array[list_of_integers[pos]] + 1
        pos ← pos + 1
    LET result BE -1
    LET idx BE 1
    WHILE idx ≤ LENGTH OF freq_array - 1 DO
        IF NOT (freq_array[idx] < idx) THEN
            result ← idx
        idx ← idx + 1
    RETURN result
END FUNCTION
```