```
FUNCTION is_sorted(sequence)
    INITIALIZE frequency_map TO empty dictionary
    SET idx TO 0
    WHILE idx LESS THAN LENGTH OF sequence
        IF sequence[idx] NOT IN frequency_map
            frequency_map[sequence[idx]] = 1
        ELSE
            frequency_map[sequence[idx]] = frequency_map[sequence[idx]] + 1
        INCREMENT idx BY 1

    FOR element IN sequence
        IF frequency_map[element] GREATER THAN 2
            RETURN False

    SET position TO 1
    WHILE position LESS THAN LENGTH OF sequence
        IF NOT (sequence[position - 1] LESS THAN OR EQUAL TO sequence[position])
            RETURN False
        INCREMENT position BY 1

    RETURN True
END FUNCTION
```