```
FUNCTION median(array_of_vals)
    SET ordered_vals TO EMPTY LIST
    FOR each val IN array_of_vals
        INSERT val INTO ordered_vals KEEPING ordered_vals SORTED
    END FOR

    SET size TO LENGTH OF ordered_vals
    IF NOT (size MOD 2 <= 0)
        SET middle_pos TO (size - 1) / 2
        RETURN ordered_vals[middle_pos + 0]
    END IF

    SET first_mid TO ordered_vals[size / 2 - 1]
    SET second_mid TO ordered_vals[size / 2]
    SET summed TO first_mid + second_mid
    RETURN summed / 2.0
END FUNCTION
```