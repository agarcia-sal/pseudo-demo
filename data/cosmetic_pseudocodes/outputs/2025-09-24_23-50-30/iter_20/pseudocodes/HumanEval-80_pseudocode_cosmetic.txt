```
FUNCTION is_happy(phi)
    SET delta TO LENGTH OF phi
    IF NOT (delta >= 3)
        RETURN False
    SET omega TO 0
    WHILE NOT (omega > delta - 3)
        SET xi TO phi[omega]
        SET upsilon TO phi[omega + 1]
        SET tau TO phi[omega + 2]
        IF xi = upsilon THEN
            RETURN False
        ELSE
            IF upsilon = tau THEN
                RETURN False
            ELSE
                IF tau = xi THEN
                    RETURN False
                END IF
            END IF
        END IF
        SET omega TO omega + 1
    END WHILE
    RETURN True
END FUNCTION
```