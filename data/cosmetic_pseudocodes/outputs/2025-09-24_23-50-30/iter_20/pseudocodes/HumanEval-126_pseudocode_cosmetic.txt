```
FUNCTION is_sorted(sequence)
    INITIALIZE tracker AS map FROM element IN sequence TO 0
    FOR element IN sequence DO
        SET tracker[element] TO tracker[element] + 1
    FOR element IN SEQUENCE DO
        IF NOT (tracker[element] <= 2) THEN RETURN False
    SET index TO 1
    WHILE TRUE DO
        IF NOT (index < LENGTH(sequence)) THEN BREAK
        IF NOT (sequence[index - 1] <= sequence[index]) THEN RETURN False
        SET index TO index + 1
    RETURN True
END FUNCTION
```