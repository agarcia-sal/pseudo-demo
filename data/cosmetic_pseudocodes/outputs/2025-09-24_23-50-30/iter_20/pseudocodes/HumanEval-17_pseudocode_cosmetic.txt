```
FUNCTION parse_music(music_string)
    DEFINE tempo_dict AS MAP FROM 'o' TO 4, 'o|' TO 2, '.|' TO 1
    DEFINE idx AS 0
    DEFINE tokens AS []
    DEFINE split_chars AS [' ']
    DEFINE str_length AS LENGTH(music_string)
    
    WHILE idx < str_length DO
        DEFINE current_segment AS ""
        WHILE idx < str_length AND music_string[idx] NOT IN split_chars DO
            SET current_segment TO current_segment + music_string[idx]
            SET idx TO idx + 1
        END WHILE
        IF current_segment != "" THEN
            APPEND current_segment TO tokens
        END IF
        SET idx TO idx + 1
    END WHILE

    DEFINE output_list AS EMPTY LIST
    FOR EACH element IN tokens DO
        IF element IN tempo_dict THEN
            APPEND tempo_dict[element] TO output_list
        END IF
    END FOR

    RETURN output_list
END FUNCTION
```