```
FUNCTION encode(input_text)
    SET alpha_set TO "AEIOUaeiou"
    DEFINE mapping AS EMPTY DICTIONARY
    FOR EACH char IN alpha_set
        SET mapping[char] TO CHARACTER WITH ASCII VALUE (ASCII VALUE OF char + 2)
    END FOR
    SET toggled_text TO EMPTY STRING
    FOR EACH element IN input_text
        SET toggled_text TO toggled_text + (CASE WHEN element IS UPPERCASE THEN LOWERCASE(element) ELSE UPPERCASE(element))
    END FOR
    SET output_list TO EMPTY LIST
    FOR EACH symbol IN toggled_text
        IF symbol IN alpha_set THEN
            ADD mapping[symbol] TO output_list
        ELSE
            ADD symbol TO output_list
        END IF
    END FOR
    RETURN CONCATENATION OF ELEMENTS IN output_list
END FUNCTION
```