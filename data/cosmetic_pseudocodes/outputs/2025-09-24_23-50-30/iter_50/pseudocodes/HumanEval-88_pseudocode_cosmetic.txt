```
FUNCTION sort_array(input_sequence)
  DEFINE FUNCTION helper(seq_length, seq)
    IF seq_length = 0 THEN
      RETURN []
    ELSE
      DEFINE temp_sum ← (seq AT 0) + (seq AT (seq_length - 1))
      DEFINE descending_flag ← ((temp_sum % 2) = 0)
      RETURN sort(seq, order=IF descending_flag THEN "desc" ELSE "asc")
    END IF
  END FUNCTION

  RETURN helper(LENGTH input_sequence, input_sequence)
END FUNCTION
```