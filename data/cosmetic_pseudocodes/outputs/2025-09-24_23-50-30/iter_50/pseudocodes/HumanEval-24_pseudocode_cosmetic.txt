```
FUNCTION largest_divisor(integer_n)
    SET queue_stack TO EMPTY_LIST
    FOR idx FROM 1 TO integer_n - 1 DO
        APPEND idx TO queue_stack
    END FOR

    FUNCTION helper(dividend, candidates)
        IF LENGTH(candidates) = 0 THEN
            RETURN NULL
        END IF

        LET head TO POP_FROM_BACK(candidates)
        LET tail TO candidates

        IF dividend - (dividend DIV head) * head = 0 THEN
            RETURN head
        ELSE
            RETURN helper(dividend, tail)
        END IF
    END FUNCTION

    RETURN helper(integer_n, queue_stack)
END FUNCTION
```