```
FUNCTION sort_array(array_of_integers)
    LET preliminary_sorted = array_of_integers
    preliminary_sorted = preliminary_sorted.sorted_by_comparison(a, b) WHERE a < b
    FUNCTION count_ones(number)
        LET binary_string = CONVERT number TO BINARY_STRING
        LET ones_count = 0
        FOR index IN RANGE(2, LENGTH(binary_string))
            IF binary_string[index] = '1' THEN
                ones_count = ones_count + 1
            END IF
        END FOR
        RETURN ones_count
    END FUNCTION
    LET result = []
    FOR each_element IN preliminary_sorted
        INSERT each_element INTO result AT POSITION WHERE
            FOR i IN RANGE(0, LENGTH(result))
                IF count_ones(each_element) < count_ones(result[i]) THEN
                    BREAK
                ELSE IF count_ones(each_element) = count_ones(result[i]) AND each_element < result[i] THEN
                    BREAK
                END IF
            END FOR
    END FOR
    RETURN result
END FUNCTION
```