```
FUNCTION hex_key(string_num)
    DEFINE primes_arr = ['2', '3', '5', '7', 'B', 'D']
    SET count_prime_digits = 0
    FOR EACH ch IN string_num
        IF ch = '2' OR ch = '3' OR ch = '5' OR ch = '7' OR ch = 'B' OR ch = 'D' THEN
            count_prime_digits = count_prime_digits + 1
    RETURN count_prime_digits
END FUNCTION
```