```
FUNCTION histogram(test_string)
  LET freq_map BE NEW HASH_MAP
  LET elems BE ARRAY_OF_STRINGS FROM SPLIT(test_string, ' ')
  LET max_freq BE -1

  FOR idx FROM LENGTH(elems) - 1 DOWNTO 0 DO
    LET item BE elems[idx]
    IF item != "" THEN
      LET item_count BE 0
      FOR j FROM 0 TO LENGTH(elems) - 1 DO
        IF elems[j] == item THEN item_count <- item_count + 1
      IF max_freq < item_count THEN max_freq <- item_count

  IF max_freq > 0 THEN
    FOR idx2 FROM 0 TO LENGTH(elems) - 1 DO
      LET elem BE elems[idx2]
      LET freq BE 0
      FOR k FROM 0 TO LENGTH(elems) - 1 DO
        IF elems[k] == elem THEN freq <- freq + 1
      IF freq == max_freq THEN freq_map[elem] <- max_freq

  RETURN freq_map
END FUNCTION
```