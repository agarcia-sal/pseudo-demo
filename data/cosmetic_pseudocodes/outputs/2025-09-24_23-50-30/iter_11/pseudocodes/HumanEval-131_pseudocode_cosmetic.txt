```
FUNCTION digits(m)
    VARIABLE res := 1
    VARIABLE tally := 0
    VARIABLE digitsStr := TO_STRING(m)
    VARIABLE index := 0

    WHILE index < LENGTH(digitsStr) DO
        VARIABLE currentChar := GET_CHAR_AT(digitsStr, index)
        VARIABLE numVal := PARSE_INT(currentChar)

        IF NOT (numVal % 2 == 0) THEN
            res := res * numVal
            tally := tally + 1
        END IF

        index := index + 1
    END WHILE

    RETURN (tally == 0) ? 0 : res
END FUNCTION
```