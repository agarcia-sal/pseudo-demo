```
FUNCTION closest_integer(arg)
    IMPORT floor, ceil FROM math

    SET dots_found TO 0
    FOR char IN arg DO
        IF char = '.' THEN
            SET dots_found TO dots_found + 1
    END FOR

    IF dots_found = 1 THEN
        LOOP:
            IF arg[-1] â‰  '0' THEN BREAK LOOP
            SET arg TO arg[ : LENGTH(arg) - 1 ]
        END LOOP
    END IF

    SET number_val TO FLOAT(arg)

    SELECT
        CASE arg[-2 ..] = '.5':
            SET chosen_val TO (IF number_val > 0 THEN ceil(number_val) ELSE floor(number_val))
        CASE LENGTH(arg) > 0:
            SET chosen_val TO ROUND(number_val)
        DEFAULT:
            SET chosen_val TO 0
    END SELECT

    RETURN chosen_val
END FUNCTION
```