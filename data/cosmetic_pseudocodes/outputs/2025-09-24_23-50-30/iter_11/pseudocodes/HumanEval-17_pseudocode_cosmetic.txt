```
FUNCTION parse_music(music_string)
  DECLARE map_notes AS NEW HASHMAP
  map_notes['o|'] = 2
  map_notes['.|' ] = 1
  map_notes['o']  = 4
  DECLARE results AS EMPTY ARRAY
  DECLARE tokens_list AS SPLIT(music_string, ' ')
  FOR idx FROM 0 TO LENGTH(tokens_list) - 1
    IF tokens_list[idx] != ''
      results.APPEND(map_notes[tokens_list[idx]])
  END FOR
  RETURN results
END FUNCTION
```