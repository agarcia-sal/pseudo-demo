```
FUNCTION rounded_avg(p, q)
    IF NOT (p <= q) THEN RETURN -1
    SET aggregate TO 0
    SET iterator TO p
    WHILE iterator <= q DO
        SET aggregate TO aggregate + iterator
        SET iterator TO iterator + 1
    END WHILE
    SET count TO (q - p) + 1
    SET mean_val TO aggregate / count
    SET approx TO (mean_val >= FLOOR(mean_val) + 0.5) ? CEIL(mean_val) : FLOOR(mean_val)
    SET bin_output TO FORMAT_BINARY(approx)
    RETURN bin_output
END FUNCTION
```