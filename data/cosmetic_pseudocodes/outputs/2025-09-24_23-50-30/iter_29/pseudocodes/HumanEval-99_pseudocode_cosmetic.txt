```
FUNCTION closest_integer(x)
    IMPORT floor, ceil FROM math

    IF x HAS EXACTLY ONE '.' CHARACTER THEN
        WHILE x ENDS WITH '0' DO
              REMOVE LAST CHARACTER FROM x
        END WHILE
    END IF

    SET n TO CONVERT x TO FLOAT

    SWITCH 
        CASE x ENDS WITH '.5'
            IF n > 0 THEN
                SET r TO ceil(n)
            ELSE
                SET r TO floor(n)
            END IF
        CASE LENGTH OF x > 0
            SET r TO ROUND n TO NEAREST INTEGER
        DEFAULT
            SET r TO 0
    END SWITCH

    RETURN r
END FUNCTION
```