```
FUNCTION hex_key(string_num)
    SET primes_collection TO '2357BD'
    
    FUNCTION count_primes(pos, count)
        IF pos EQUALS LENGTH(string_num) THEN
            RETURN count
        ELSE
            RETURN count_primes(pos + 1, count + (IF string_num[pos] IN primes_collection THEN 1 ELSE 0))
    END FUNCTION

    RETURN count_primes(0, 0)
END FUNCTION
```