```
FUNCTION smallest_change(array_of_integers)
    DEFINE count_pairs(m, n) AS
        IF m >= n THEN RETURN 0
        ELSE RETURN (array_of_integers[m] != array_of_integers[n]) + count_pairs(m+1, n-1)
    END DEFINE
    RETURN count_pairs(0, LENGTH(array_of_integers) - 1)
END FUNCTION
```