```
FUNCTION fizz_buzz(integer_n)
    FUNCTION gather_numbers(current, collected)
        IF current >= integer_n THEN
            RETURN collected
        ELSE
            RETURN gather_numbers(current + 1, (current MOD 11 = 0 OR current MOD 13 = 0) ? collected + [current] : collected)
        END IF
    END FUNCTION

    FUNCTION build_string(index, numbers, accum)
        IF index >= LENGTH(numbers) THEN
            RETURN accum
        ELSE
            RETURN build_string(index + 1, numbers, accum + TO_STRING(numbers[index]))
        END IF
    END FUNCTION

    FUNCTION count_chars(index, string_val, tally)
        IF index >= LENGTH(string_val) THEN
            RETURN tally
        ELSE
            RETURN count_chars(index + 1, string_val, tally + (string_val[index] = '7' ? 1 : 0))
        END IF
    END FUNCTION

    SET filtered_numbers TO gather_numbers(0, [])
    SET flat_string TO build_string(0, filtered_numbers, "")
    SET result TO count_chars(0, flat_string, 0)
    RETURN result
END FUNCTION
```