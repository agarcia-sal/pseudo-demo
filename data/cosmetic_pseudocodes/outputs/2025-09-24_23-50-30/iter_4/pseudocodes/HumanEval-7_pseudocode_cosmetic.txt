```
FUNCTION filter_by_substring(collection, needle)
    filtered_result = []
    INDEX = 0
    WHILE INDEX < LENGTH(collection)
        ELEMENT = collection[INDEX]
        IF POSITION(needle, ELEMENT) != -1 THEN
            filtered_result.APPEND(ELEMENT)
        END IF
        INDEX = INDEX + 1
    END WHILE
    RETURN filtered_result
END FUNCTION
```