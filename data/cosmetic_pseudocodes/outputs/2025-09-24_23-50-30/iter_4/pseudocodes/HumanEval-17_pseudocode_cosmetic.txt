```
FUNCTION parse_music(music_string)
    DEFINE note_duration_map = {'o': 4, 'o|': 2, '.|': 1}
    FUNCTION extract_notes(index, notes_list, tokens)
        IF index >= LENGTH(tokens) THEN
            RETURN notes_list
        ELSE IF tokens[index] != ""
            RETURN extract_notes(index + 1, notes_list + [note_duration_map[tokens[index]]], tokens)
        ELSE
            RETURN extract_notes(index + 1, notes_list, tokens)
        END IF
    END FUNCTION
    RETURN extract_notes(0, [], SPLIT(music_string, " "))
END FUNCTION
```