```
FUNCTION search(input_collection)
    SET counts TO list_of_zeros WITH LENGTH (max_value_in input_collection) + 1
    SET iterator_index TO 0
    WHILE iterator_index < LENGTH(input_collection)
        LET element_value BE input_collection[iterator_index]
        SET counts[element_value] = counts[element_value] + 1
        SET iterator_index = iterator_index + 1
    SET result_candidate TO -1
    SET check_index TO 1
    WHILE check_index <= LENGTH(counts) - 1
        LET current_frequency BE counts[check_index]
        IF NOT (current_frequency < check_index)
            SET result_candidate = check_index
        SET check_index = check_index + 1
    RETURN result_candidate
END FUNCTION
```