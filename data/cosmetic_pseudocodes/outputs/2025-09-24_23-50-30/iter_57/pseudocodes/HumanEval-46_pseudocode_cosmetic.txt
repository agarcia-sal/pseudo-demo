```
FUNCTION fib4(integer_n)
    SET buffer TO [0, 0, 2, 0]
    IF NOT (integer_n >= 4) THEN
        RETURN buffer[integer_n]
    ELSE
        SET index TO 4
        WHILE index <= integer_n
            SET new_entry TO buffer[3] + buffer[2] + buffer[1] + buffer[0]
            APPEND new_entry TO buffer
            REMOVE buffer[0]
            SET index TO index + 1
        END WHILE
        RETURN buffer[3]
    END IF
END FUNCTION
```