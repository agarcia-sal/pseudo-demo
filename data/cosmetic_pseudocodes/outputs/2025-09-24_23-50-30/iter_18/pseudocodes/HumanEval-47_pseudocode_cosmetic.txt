```
FUNCTION median(collection)
    SET sorted_collection TO EMPTY ARRAY
    FOR EACH item IN collection
        ADD item TO sorted_collection
    sorted_collection = SORT(sorted_collection)

    SET count TO 0
    FOR EACH element IN sorted_collection
        INCREMENT count BY 1

    IF (count DIV 2) * 2 IS NOT EQUAL TO count
        RETURN sorted_collection[count DIV 2]
    
    SET lower_index TO (count DIV 2) - 1
    SET upper_index TO count DIV 2
    SET sum_of_mids TO sorted_collection[lower_index]
    sum_of_mids = sum_of_mids + sorted_collection[upper_index]
    RETURN sum_of_mids / 2.0
END FUNCTION
```