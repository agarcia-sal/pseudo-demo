```
FUNCTION hex_key(string_num)
    SET prime_map TO DICTIONARY WITH ('2' = TRUE, '3' = TRUE, '5' = TRUE, '7' = TRUE, 'B' = TRUE, 'D' = TRUE)
    SET accumulated_count TO 0
    SET position_cursor TO 0
    WHILE position_cursor < LENGTH OF string_num
        SET current_character TO string_num[position_cursor]
        IF NOT (prime_map CONTAINS current_character) THEN
            SET position_cursor TO position_cursor + 1
            CONTINUE
        END IF
        SET accumulated_count TO accumulated_count + 1
        SET position_cursor TO position_cursor + 1
    END WHILE
    RETURN accumulated_count
END FUNCTION
```