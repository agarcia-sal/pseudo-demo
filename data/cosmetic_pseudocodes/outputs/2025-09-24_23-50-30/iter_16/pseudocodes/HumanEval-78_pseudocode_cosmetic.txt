```
FUNCTION hex_key(string_num)
  CONST primes_list = ['2', '3', '5', '7', 'B', 'D']
  VAR count_digits := 0
  VAR pos := 0

  WHILE pos < LENGTH(string_num) DO
    IF NOT (string_num[pos] NOT IN primes_list) THEN
      count_digits := count_digits + 1
    ENDIF
    pos := pos + 1
  ENDWHILE

  RETURN count_digits
END FUNCTION
```