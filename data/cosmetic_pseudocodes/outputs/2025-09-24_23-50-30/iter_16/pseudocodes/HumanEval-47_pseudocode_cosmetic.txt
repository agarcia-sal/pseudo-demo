``` 
FUNCTION median(list_of_elements)
    SET sorted_sequence TO EMPTY SEQUENCE
    SET temp_map TO EMPTY MAP
    FOR each_key FROM 0 TO LENGTH(list_of_elements) - 1 DO
        temp_map[each_key] = list_of_elements[each_key]
    END FOR
    SET keys_sorted TO SORTED KEYS OF temp_map
    FOR key IN keys_sorted DO
        APPEND temp_map[key] TO sorted_sequence
    END FOR

    SET total_count TO LENGTH(sorted_sequence)
    SET half_index TO total_count DIV 2
    IF NOT (total_count MOD 2 == 0) THEN
        RETURN sorted_sequence[half_index]
    RETURN ((sorted_sequence[half_index - 1] + sorted_sequence[half_index]) * 0.5)
END FUNCTION
```