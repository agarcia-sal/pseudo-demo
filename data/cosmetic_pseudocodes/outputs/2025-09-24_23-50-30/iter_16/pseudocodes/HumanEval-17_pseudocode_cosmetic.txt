```
FUNCTION parse_music(music_string)
    DECLARE durationLookup AS MAP
    durationLookup[".|" ] ← 1
    durationLookup["o|" ] ← 2
    durationLookup["o"  ] ← 4

    DECLARE tokens AS LIST ← SPLIT music_string BY " "
    DECLARE result AS LIST ← EMPTY LIST

    FOR EACH token IN tokens
        IF NOT (token = "")
            APPEND durationLookup[token] TO result
        END IF
    END FOR

    RETURN result
END FUNCTION
```