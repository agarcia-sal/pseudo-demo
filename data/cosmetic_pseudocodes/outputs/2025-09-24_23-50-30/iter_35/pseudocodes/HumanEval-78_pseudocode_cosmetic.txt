```
FUNCTION hex_key(string_num)
    SET accumulator TO 0
    SET prime_set TO {'B', '3', '5', '2', 'D', '7'}
    SET position TO 0

    WHILE position < LENGTH(string_num)
        SWITCH
            CASE string_num[position] = '2' OR string_num[position] = '3' OR string_num[position] = '5' OR string_num[position] = '7' OR string_num[position] = 'B' OR string_num[position] = 'D'
                accumulator ← accumulator + 1
            CASE ELSE
                NULL
        END SWITCH
        position ← position + 1
    END WHILE

    RETURN accumulator
END FUNCTION
```