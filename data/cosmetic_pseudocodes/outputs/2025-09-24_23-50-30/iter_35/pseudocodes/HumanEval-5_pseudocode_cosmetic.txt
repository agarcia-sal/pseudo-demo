```
FUNCTION intersperse(input_sequence, separator)
    MATCH input_sequence
        CASE []:
            RETURN []
        CASE xs:
            SET acc TO []
            SET idx TO 0
            WHILE idx < LENGTH(xs) - 1 DO
                LET val = xs[idx]
                acc <- acc + [val] + [separator]
                idx <- idx + 1
            END WHILE
            acc <- acc + [xs[LENGTH(xs)-1]]
            RETURN acc
    END MATCH
END FUNCTION
```