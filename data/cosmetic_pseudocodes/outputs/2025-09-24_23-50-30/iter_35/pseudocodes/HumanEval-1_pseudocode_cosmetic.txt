```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET results_list TO []
    SET buffer_list TO []
    SET depth_count TO 0
    SET index_ptr TO 0
    WHILE index_ptr < LENGTH(string_of_parentheses)
        SET current_char TO string_of_parentheses[index_ptr]
        SWITCH current_char
            CASE '('
                depth_count <- depth_count + 1
                buffer_list <- CONCAT(buffer_list, [current_char])
            CASE ')'
                depth_count <- depth_count - 1
                buffer_list <- CONCAT(buffer_list, [current_char])
                IF depth_count = 0 THEN
                    CALL results_list.INSERT(LENGTH(results_list), 
                        JOIN(buffer_list, ""))
                    buffer_list <- []
                END IF
            DEFAULT
                NULL
        END SWITCH
        index_ptr <- index_ptr + 1
    END WHILE
    RETURN results_list
END FUNCTION
```