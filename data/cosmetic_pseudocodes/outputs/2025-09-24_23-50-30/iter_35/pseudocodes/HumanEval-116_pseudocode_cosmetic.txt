```
FUNCTION sort_array(list_of_ints)
    DEFINE key_function(value) RETURN LENGTH(FILTER(char -> char = '1', TO_LIST(STRING(BINARY(value))[3:])))
    
    SET first_sorted TO SORT list_of_ints BY value -> value ASC
    SET second_sorted TO SORT first_sorted BY key_function ASC

    RETURN second_sorted
END FUNCTION
```