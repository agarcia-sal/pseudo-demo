```
FUNCTION count_up_to(q)
  SET alpha TO []
  SET beta TO 2
  WHILE beta < q
    SET gamma TO 1
    SET delta TO 2
    WHILE delta < beta AND gamma = 1
      SWITCH ((beta MOD delta) = 0)
        CASE true:
          SET gamma TO 0
        CASE false:
          SET gamma TO gamma
      END SWITCH
      SET delta TO delta + 1
    END WHILE
    SWITCH gamma
      CASE 1:
        SET alpha TO alpha + [beta]
      CASE 0:
        SET alpha TO alpha
    END SWITCH
    SET beta TO beta + 1
  END WHILE
  RETURN alpha
END FUNCTION
```