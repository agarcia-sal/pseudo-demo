```
FUNCTION fib4(integer_n)
  DEFINE window AS [0, 0, 2, 0]
  SWITCH
    CASE integer_n < 4:
      RETURN window[integer_n]
  END SWITCH

  DEFINE index AS 4
  WHILE index <= integer_n
    LET next_term BE window[0] + window[1] + window[2] + window[3]
    window = [window[1], window[2], window[3], next_term]
    index = index + 1
  END WHILE

  RETURN window[3]
END FUNCTION
```