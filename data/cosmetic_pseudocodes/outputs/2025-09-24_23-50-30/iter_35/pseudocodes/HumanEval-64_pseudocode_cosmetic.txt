```
FUNCTION vowels_count(input_str)
    SET vowel_collection TO ['A','E','I','O','U','a','e','i','o','u']
    SET idx TO 0
    SET total_vowels TO 0
    WHILE idx < LENGTH(input_str) DO
        IF (EXISTS element IN vowel_collection WHERE element = input_str[idx]) THEN
            SET total_vowels TO total_vowels + 1
        END IF
        SET idx TO idx + 1
    END WHILE
    SWITCH input_str[LENGTH(input_str) - 1]
        CASE 'Y': 
        CASE 'y': 
            SET total_vowels TO total_vowels + 1
        DEFAULT:
            NO OPERATION
    END SWITCH
    RETURN total_vowels
END FUNCTION
```