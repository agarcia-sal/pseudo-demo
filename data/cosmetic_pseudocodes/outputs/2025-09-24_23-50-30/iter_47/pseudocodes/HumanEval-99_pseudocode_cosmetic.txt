```
FUNCTION closest_integer(delta)
    IMPORT floor, ceil FROM math

    SET dotCount TO 0
    FOR eachChar IN delta DO
        IF eachChar = '.' THEN
            SET dotCount TO dotCount + 1
        END IF
    END FOR

    IF NOT (dotCount â‰  1)
        WHILE delta IS NOT EMPTY AND delta[-1] = '0'
            SET delta TO SUBSTRING(delta, 0, LENGTH(delta) - 1)
        END WHILE
    END IF

    SET numericVal TO FLOAT(delta)

    SWITCH TRUE
      CASE LENGTH(delta) > 0 AND SUBSTRING(delta, LENGTH(delta) - 2, LENGTH(delta)) = '.5':
        SWITCH TRUE
          CASE numericVal > 0:
            SET returnVal TO ceil(numericVal)
          DEFAULT:
            SET returnVal TO floor(numericVal)
        END SWITCH
      CASE LENGTH(delta) > 0:
        SET returnVal TO ROUND(numericVal)
      DEFAULT:
        SET returnVal TO 0
    END SWITCH

    RETURN returnVal
END FUNCTION
```