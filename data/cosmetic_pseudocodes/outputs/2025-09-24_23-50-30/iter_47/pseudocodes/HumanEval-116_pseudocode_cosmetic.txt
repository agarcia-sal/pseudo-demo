```
FUNCTION sort_array(array_of_integers)
    DEFINE FUNCTION count_ones(binary_string)
        SET total_ones TO 0
        FOR each_char IN binary_string
            IF each_char = '1' THEN
                SET total_ones TO total_ones + 1
            END IF
        END FOR
        RETURN total_ones
    END FUNCTION

    SET temp_sorted_array TO array_of_integers
    CALL temp_sorted_array = SORT_ASCENDING(temp_sorted_array)

    DEFINE FUNCTION bit_count_key(element)
        SET bit_string TO CONVERT_TO_BINARY(element) 
        SET bit_substring TO SUBSTRING_FROM(bit_string, 3)
        RETURN count_ones(bit_substring)
    END FUNCTION

    SET result_array TO SORT_WITH_KEY(temp_sorted_array, bit_count_key)
    RETURN result_array
END FUNCTION
```