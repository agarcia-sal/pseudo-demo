```
FUNCTION parse_music(music_string)
    DEFINE get_duration(index, tokens_list, accum_list)
        IF index >= LENGTH(tokens_list)
            RETURN accum_list
        ELSE
            DEFINE current_token = tokens_list[index]
            IF current_token == ''
                RETURN get_duration(index + 1, tokens_list, accum_list)
            ELSE
                DEFINE durations_dict = {'o':4, 'o|':2, '.|':1}
                RETURN get_duration(index + 1, tokens_list, accum_list + [durations_dict[current_token]])
            END IF
        END IF
    END DEFINE

    RETURN get_duration(0, SPLIT(music_string, " "), [])
END FUNCTION
```