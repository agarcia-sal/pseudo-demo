```
FUNCTION count_up_to(q)
    SET x TO []
    SET a TO 2
    LOOP WHILE a < q
        SET b TO true
        SET c TO 2
        WHILE c < a
            IF NOT (a % c <> 0)
                SET b TO false
                EXIT WHILE
            END IF
            SET c TO c + 1
        END WHILE
        IF b
            SET x TO x + [a]
        END IF
        SET a TO a + 1
    END LOOP
    RETURN x
END FUNCTION
```