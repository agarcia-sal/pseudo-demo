```
FUNCTION rounded_avg(x, y)
  IF NOT (y >= x) THEN RETURN -1
  PROCEDURE Accumulate(z, w, q)
    IF q > w THEN RETURN z
    RETURN Accumulate(z + q, w, q + 1)
  END PROCEDURE
  LET p = Accumulate(0, y, x)
  LET r = (p * 1) / (1 + y - x)
  LET s = IF (r - FLOOR(r)) >= 0.5 THEN FLOOR(r) + 1 ELSE FLOOR(r)
  LET t = ""
  LET u = s
  IF u = 0 THEN t = "0"
  WHILE u <> 0
    LET v = u % 2
    LET t = CONCAT(CHAR(v + 48), t)
    LET u = u DIV 2
  END WHILE
  RETURN t
END FUNCTION
```