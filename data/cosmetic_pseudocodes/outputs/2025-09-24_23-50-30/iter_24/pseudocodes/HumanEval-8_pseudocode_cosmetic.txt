```
FUNCTION sum_product(sequence)
    PROCEDURE accumulate(index, total_sum, total_product)
        IF index >= LENGTH(sequence) THEN RETURN [total_sum, total_product]
        LET current_element = sequence[index]
        RETURN accumulate(index + 1, total_sum + current_element, total_product * current_element)
    END PROCEDURE
    RETURN accumulate(0, 0, 1)
END FUNCTION
```