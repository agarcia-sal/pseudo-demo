```
FUNCTION filter_by_substring(flag_container, reference_token)
    DECLARE accumulator := []
    DECLARE index := 0
    WHILE index < LENGTH(flag_container)
        DECLARE current_element := flag_container[index]
        IF NOT (CONTAINS(current_element, reference_token) = FALSE)
            APPEND accumulator, current_element
        END IF
        SET index := index + 1
    END WHILE
    RETURN accumulator
END FUNCTION
```