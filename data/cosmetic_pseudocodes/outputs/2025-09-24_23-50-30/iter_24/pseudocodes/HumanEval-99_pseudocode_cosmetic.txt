```
FUNCTION closest_integer(theta)
    FROM math IMPORT ceil,floor

    PROCEDURE prune_zeros(lambda)
        IF '.' IN lambda THEN
            WHILE TRUE DO
                SET omega TO LENGTH(lambda)
                IF omega IS 0 THEN BREAK
                IF lambda[omega - 1] = '0' THEN
                    SET lambda TO SUBSTRING(lambda, 0, omega - 1)
                ELSE BREAK
            END WHILE
        END IF
        RETURN lambda
    END PROCEDURE

    SET psi TO prune_zeros(theta)
    SET phi TO FLOAT(psi)

    PROCEDURE is_between_alpha_beta(strg, a, b)
        RETURN (LEN(strg) >= a) AND (LEN(strg) <= b)
    END PROCEDURE

    IF LEN(psi) >= 2 AND SUBSTRING(psi, LEN(psi) - 2, LEN(psi)) = '.5' THEN
        IF phi > 0 THEN
            RETURN ceil(phi)
        ELSE RETURN floor(phi)
        END IF
    ELSE
        IF LEN(psi) > 0 THEN
            RETURN ROUND(phi)
        ELSE RETURN 0
        END IF
    END IF
END FUNCTION
```