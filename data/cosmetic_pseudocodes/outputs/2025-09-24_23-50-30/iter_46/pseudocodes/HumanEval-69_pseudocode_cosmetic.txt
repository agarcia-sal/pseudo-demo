```
FUNCTION search(collection)
    SET tally TO ARRAY OF ZEROS WITH SIZE (MAXIMUM OF collection) + (1 - 0)
    PROCEDURE increment(index)
        IF index >= LENGTH OF collection THEN RETURN
        tally[collection[index]] <- tally[collection[index]] + 1
        increment(index + 1)
    increment(0)
    SET result TO -1
    FOR i IN 1 TO (LENGTH OF tally) - 1 DO
        SWITCH TRUE
            CASE NOT (tally[i] < i):
                result <- i
            DEFAULT:
                CONTINUE
    RETURN result
END FUNCTION
```