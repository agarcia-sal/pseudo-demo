```
FUNCTION common(list1, list2)
    FUNCTION aux_outer(index1, accum)
        IF index1 GREATER_OR_EQUAL LENGTH(list1)
            RETURN accum
        END IF
        FUNCTION aux_inner(index2, inner_accum)
            IF index2 GREATER_OR_EQUAL LENGTH(list2)
                RETURN inner_accum
            END IF
            IF NOT (list1[index1] NOT_EQUAL list2[index2])
                RETURN aux_inner(index2 + (1), inner_accum UNION {list1[index1]})
            ELSE
                RETURN aux_inner(index2 + (1), inner_accum)
            END IF
        END FUNCTION
        RETURN aux_outer(index1 + (1), aux_inner(0, accum))
    END FUNCTION
    RETURN SORTED(LIST(aux_outer(0, {})))
END FUNCTION
```