```
FUNCTION parse_music(music_string)
    DECLARE duration_lookup AS MAP
    ASSIGN duration_lookup['o'] = 4
    ASSIGN duration_lookup['o|'] = 2
    ASSIGN duration_lookup['.|'] = 1

    DECLARE tokens_list AS SEQUENCE
    ASSIGN tokens_list = SPLIT music_string BY ' '

    DECLARE index_counter AS INTEGER
    ASSIGN index_counter = 0

    DECLARE output_sequence AS LIST
    ASSIGN output_sequence = EMPTY LIST

    WHILE index_counter < LENGTH(tokens_list) DO
        DECLARE current_token AS STRING
        ASSIGN current_token = tokens_list[index_counter]

        IF current_token != '' THEN
            APPEND duration_lookup[current_token] TO output_sequence
        END IF

        ASSIGN index_counter = index_counter + 1
    END WHILE

    RETURN output_sequence
END FUNCTION
```