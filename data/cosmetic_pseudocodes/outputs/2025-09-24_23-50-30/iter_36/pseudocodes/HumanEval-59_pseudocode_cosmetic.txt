```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF k < 2 THEN
            RETURN False
        END IF

        FUNCTION check_divisor(x, limit)
            IF x = limit THEN
                RETURN True
            ELSE IF k MOD x = 0 THEN
                RETURN False
            ELSE
                RETURN check_divisor(x + 1, limit)
            END IF
        END FUNCTION

        RETURN check_divisor(2, k)
    END FUNCTION

    SET max_factor TO 1

    FUNCTION scan_divisor(y)
        IF y > n THEN
            RETURN
        ELSE
            IF n MOD y = 0 THEN
                IF is_prime(y) THEN
                    IF y > max_factor THEN
                        SET max_factor TO y
                    END IF
                END IF
            END IF
            scan_divisor(y + 1)
        END IF
    END FUNCTION

    scan_divisor(2)
    RETURN max_factor
END FUNCTION
```