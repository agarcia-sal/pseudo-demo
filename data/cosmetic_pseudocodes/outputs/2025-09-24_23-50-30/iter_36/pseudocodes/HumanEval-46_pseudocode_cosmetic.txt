```
FUNCTION fib4(integer_p)
  VAR buffer_seq ← [0, 0, 2, 0]

  IF NOT (integer_p ≥ 4)
    RETURN buffer_seq[integer_p]
  END IF

  VAR idx ← 4

  WHILE idx ≤ integer_p
    VAR acc ← buffer_seq[0] + buffer_seq[1] + buffer_seq[2] + buffer_seq[3]
    buffer_seq ← [buffer_seq[1], buffer_seq[2], buffer_seq[3], acc]
    idx ← idx + 1
  END WHILE

  RETURN buffer_seq[3]
END FUNCTION
```