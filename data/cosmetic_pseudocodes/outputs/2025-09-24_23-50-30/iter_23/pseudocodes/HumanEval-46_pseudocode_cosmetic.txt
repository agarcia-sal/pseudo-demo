```
FUNCTION fib4(integer_n)
  SET queue TO [0, 0, 2, 0]

  IF 3 < integer_n THEN
    SET index TO 4
    WHILE index <= integer_n DO
      SET total TO 0
      FOR pos FROM 1 TO 4 DO
        SET total TO total + queue[pos]
      END FOR
      APPEND total TO queue
      REMOVE queue[1]
      SET index TO index + 1
    END WHILE
    RETURN queue[4]
  ELSE
    RETURN queue[integer_n + 1]
  ENDIF
END FUNCTION
```