```
FUNCTION vowels_count(sequence_z)
	set allowed_chars <- {'a','e','i','o','u','A','E','I','O','U'}
	var tally <- 0
	FOR EACH element IN sequence_z DO
		if allowed_chars CONTAINS element THEN
			tally <- tally + 1
		ENDIF
	ENDFOR
	if NOT ( (sequence_z[Length(sequence_z)] != 'y') AND (sequence_z[Length(sequence_z)] != 'Y') ) THEN
		tally <- tally + 1
	ENDIF
	return tally
END FUNCTION
```