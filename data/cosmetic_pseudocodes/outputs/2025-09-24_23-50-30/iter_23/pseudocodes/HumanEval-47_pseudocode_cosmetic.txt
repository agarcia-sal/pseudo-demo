```
FUNCTION median(sequence)
    DECLARE ordered_seq AS SORT(sequence)
    DECLARE size AS COUNT(ordered_seq)
    IF NOT (size MOD 2 = 0)
        RETURN GET_ELEMENT_AT(ordered_seq, FLOOR(size / 2))
    ELSE
        DECLARE idx AS size / 2
        RETURN (GET_ELEMENT_AT(ordered_seq, idx - 1) + GET_ELEMENT_AT(ordered_seq, idx)) * 0.5
END FUNCTION
```