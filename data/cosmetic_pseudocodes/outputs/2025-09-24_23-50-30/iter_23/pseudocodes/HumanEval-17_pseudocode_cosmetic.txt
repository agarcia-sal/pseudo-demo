```
FUNCTION parse_music(melody_text)
    INITIALIZE time_values AS MAP WITH KEYS ['o', 'o|', '.|'] AND CORRESPONDING VALUES [4, 2, 1]
    SET result_sequence TO EMPTY LIST
    FOR EACH token IN FILTER( lambda x: x != '', SPLIT melody_text BY ' ' )
        APPEND time_values[token] TO result_sequence
    END FOR
    RETURN result_sequence
END FUNCTION
```