```
FUNCTION is_sorted(sequence)
  LET frequency_map = map FROM element IN sequence TO 0
  FOR element IN sequence
    frequency_map[element] = frequency_map[element] + 1

  FOR key IN sequence
    IF frequency_map[key] > 2 THEN RETURN False

  FOR index FROM 2 TO LENGTH(sequence)
    IF NOT (sequence[index - 1] <= sequence[index]) THEN RETURN False

  RETURN True
END FUNCTION
```