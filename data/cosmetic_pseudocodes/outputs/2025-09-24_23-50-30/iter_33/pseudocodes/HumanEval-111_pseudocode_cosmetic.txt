```
FUNCTION histogram(input_text)
    SET cache_map TO EMPTY DICTIONARY
    SET tokens TO SPLIT input_text BY ' '
    SET peak_frequency TO 0

    FOR each item IN tokens
        IF item IS NOT '' THEN
            IF (LET current_count = LENGTH(FILTER tokens WHERE element = item)) > peak_frequency THEN
                SET peak_frequency TO current_count
            ENDIF
        ENDIF
    ENDFOR

    IF peak_frequency > 0 THEN
        FOR each element IN tokens
            LET count_in_tokens = LENGTH(FILTER tokens WHERE val = element)
            SWITCH count_in_tokens = peak_frequency
                CASE TRUE:
                    SET cache_map[element] = peak_frequency
                DEFAULT:
                    NOOP
            END SWITCH
        ENDFOR
    ENDIF

    RETURN cache_map
END FUNCTION
```