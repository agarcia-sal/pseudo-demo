```
FUNCTION count_up_to(limit)
    SET collected TO empty list
    SET outer_index TO 2
    WHILE outer_index < limit
        SET prime_flag TO true
        SET inner_index TO 2
        WHILE inner_index < outer_index AND prime_flag
            SWITCH (outer_index MODULO inner_index = 0)
                CASE true:
                    SET prime_flag TO false
                CASE false:
                    NOOP
            END SWITCH
            SET inner_index TO inner_index + 1
        END WHILE
        IF prime_flag THEN
            SET collected TO collected + [outer_index]
        END IF
        SET outer_index TO outer_index + 1
    END WHILE
    RETURN collected
END FUNCTION
```