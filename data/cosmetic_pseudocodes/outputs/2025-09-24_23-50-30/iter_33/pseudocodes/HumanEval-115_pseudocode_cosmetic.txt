```
FUNCTION max_fill(source_grid, max_cap)
    SET aggregate_result TO 0
    FOR EACH single_list IN source_grid DO
        SET row_total TO 0
        FOR EACH element_value IN single_list DO
            SET row_total TO row_total + element_value
        END FOR
        SET div_result TO row_total / max_cap
        SET adjusted_value TO (IF div_result == INT(div_result) THEN div_result ELSE INT(div_result) + 1)
        SET aggregate_result TO aggregate_result + adjusted_value
    END FOR
    RETURN aggregate_result
END FUNCTION
```