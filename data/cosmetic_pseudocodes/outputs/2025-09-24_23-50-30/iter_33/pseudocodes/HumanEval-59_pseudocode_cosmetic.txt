```
FUNCTION largest_prime_factor(n_input)
    FUNCTION is_prime(test_num)
        SWITCH
            CASE test_num < 2
                RETURN False
            ELSE
                DECLARE idx = 2
                FUNCTION check_division(x)
                    IF x >= test_num THEN
                        RETURN True
                    ELSE IF test_num MODULO x = 0 THEN
                        RETURN False
                    ELSE
                        RETURN check_division(x + 1)
                RETURN check_division(idx)
    DECLARE candidate = 2
    DECLARE current_largest = 1
    WHILE candidate <= n_input DO
        IF (n_input MODULO candidate = 0) THEN
            IF is_prime(candidate) THEN
                current_largest = (candidate > current_largest) ? candidate : current_largest
        candidate = candidate + 1
    RETURN current_largest
END FUNCTION
```