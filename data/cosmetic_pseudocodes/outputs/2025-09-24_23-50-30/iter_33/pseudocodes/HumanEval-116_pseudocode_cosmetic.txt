```
FUNCTION sort_array(array_of_integers)
    FUNCTION count_ones(binary_string)
        SET counter TO 0
        FOR character IN binary_string
            IF character = '1' THEN
                SET counter TO counter + 1
            END IF
        END FOR
        RETURN counter
    END FUNCTION

    SET ascending_sorted TO SORT array_of_integers BY (a, b) => a <= b
    FUNCTION key_selector(element)
        SET bin_form TO TO_BINARY(element)
        SET trimmed_bin TO SUBSTRING(bin_form, 3, LENGTH(bin_form))
        RETURN count_ones(trimmed_bin)
    END FUNCTION

    SET fully_sorted TO SORT ascending_sorted BY key_selector
    RETURN fully_sorted
END FUNCTION
```