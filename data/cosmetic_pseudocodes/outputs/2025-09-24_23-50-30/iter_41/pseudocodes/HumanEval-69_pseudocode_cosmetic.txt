```
FUNCTION search(a)
	procedure computeFrequencies(b, c)
		IF c == LENGTH(b) THEN RETURN c
		SET d TO b[c]
		SET e TO a[d]
		a[d] = e + 1
		RETURN computeFrequencies(b, c + 1)
	END

	SET f TO MAXIMUM(a)
	SET a TO CREATE_ARRAY(f + 1, 0)
	_ = computeFrequencies(list_of_integers, 0)

	SET g TO -1
	SET h TO 1
	WHILE h < LENGTH(a)
		SELECT 
			CASE a[h] >= h:
				g = h
			CASE ELSE:
				NULL
		h = h + 1
	END WHILE
	RETURN g
END FUNCTION
```