```pseudocode
FUNCTION tri(x)
  FUNCTION loop(counter, acc)
    SWITCH (counter > x)
      CASE true:
        RETURN acc
      CASE false:
        SWITCH (counter MOD 2 = 0)
          CASE true:
            LET newVal = (counter / 2) + 1
            RETURN loop(counter + 1, acc + [newVal])
          CASE false:
            LET a = acc[counter - 1]
            LET b = acc[counter - 2]
            LET c = ((counter + 3) / 2)
            RETURN loop(counter + 1, acc + [a + b + c])
        END SWITCH
    END SWITCH
  END FUNCTION

  SWITCH (x = 0)
    CASE true:
      RETURN [1]
    CASE false:
      RETURN loop(2, [1, 3])
  END SWITCH
END FUNCTION
```