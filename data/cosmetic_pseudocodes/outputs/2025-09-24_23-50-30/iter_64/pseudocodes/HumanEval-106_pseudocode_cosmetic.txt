```
FUNCTION f(p)
	r ← []
	q ← 1
	WHILE q ≤ p DO
		SELECT TRUE
			CASE (q MOD 2 = 0):
				x ← 1
				k ← 1
				WHILE k ≤ q DO
					x ← x * k
					k ← k + 1
				END WHILE
				r ← r + [x]
			CASE ELSE:
				y ← 0
				a ← 1
				WHILE a ≤ q DO
					y ← y + a
					a ← a + 1
				END WHILE
				r ← r + [y]
		END SELECT
		q ← q + 1
	END WHILE
	RETURN r
END FUNCTION
```