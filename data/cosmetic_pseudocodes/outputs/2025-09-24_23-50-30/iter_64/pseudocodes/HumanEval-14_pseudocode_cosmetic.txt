```
FUNCTION all_prefixes(q)
    INITIALIZE A TO []
    FUNCTION recur(i)
        IF i < 0 THEN
            RETURN
        ELSE
            CALL recur(i - 1)
            SET v TO SUBSTRING(q, 0, i + 1)
            APPEND v TO A
        END IF
    END FUNCTION
    CALL recur(LENGTH(q) - (1 - 0))
    RETURN A
END FUNCTION
```