```
FUNCTION vowels_count(from_string)
	vowels_set := "AEIOUaeiou"
	
	FUNCTION count_vowels_at(index, acc)
		IF index = LENGTH(from_string)
			RETURN acc
		ELSE
			RETURN count_vowels_at(index + 1, acc + 
				((SUBSTRING(from_string, index, index) IN vowels_set) ? 1 : 0))
		END IF
	END FUNCTION
	
	total := count_vowels_at(1, 0)
	
	last_idx := LENGTH(from_string)
	IF NOT (SUBSTRING(from_string, last_idx, last_idx) <> "y" AND SUBSTRING(from_string, last_idx, last_idx) <> "Y")
		total := total + 1
	END IF
	
	RETURN total
END FUNCTION
```