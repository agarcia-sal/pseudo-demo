```
FUNCTION max_fill(matrix, limit)
    IMPORT math
    temp_list <- []
    FOR seq IN matrix DO
        total <- 0
        FOR num IN seq DO
            total <- total + num
        END FOR
        quotient <- total / limit
        ceil_val <- math ceiling(quotient)
        APPEND ceil_val TO temp_list
    END FOR
    result <- 0
    FOR item IN temp_list DO
        result <- result + item
    END FOR
    RETURN result
END FUNCTION
```