```
FUNCTION search(array_of_nums)
  SET freq_array TO [0] * (MAXIMUM OF array_of_nums + 1)
  FOR element IN array_of_nums DO
    freq_array[element] = freq_array[element] + 1
  SET result TO -1
  FOR counter IN RANGE FROM 1 TO LENGTH(freq_array) - 1 DO
    IF NOT (freq_array[counter] < counter) THEN
      result = counter
  RETURN result
END FUNCTION
```