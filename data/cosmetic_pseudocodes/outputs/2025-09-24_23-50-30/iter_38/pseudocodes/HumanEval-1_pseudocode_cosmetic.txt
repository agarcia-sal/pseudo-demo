```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET array_of_results TO []
    SET buffer_of_chars TO []
    SET depth_counter TO 0

    DEFINE traverse(index)
        IF index >= LENGTH(string_of_parentheses)
            RETURN
        END IF

        SET current_char TO string_of_parentheses[index]
        SWITCH current_char
            CASE '('
                SET depth_counter TO depth_counter + 1
                APPEND current_char TO buffer_of_chars
                BREAK
            CASE ')'
                SET depth_counter TO depth_counter - 1
                APPEND current_char TO buffer_of_chars
                IF depth_counter == 0
                    APPEND JOIN(buffer_of_chars) TO array_of_results
                    SET buffer_of_chars TO []
                END IF
                BREAK
            DEFAULT
                BREAK
        END SWITCH
        CALL traverse(index + 1)
    END DEFINE

    CALL traverse(0)
    RETURN array_of_results
END FUNCTION
```