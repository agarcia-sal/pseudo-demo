```
FUNCTION closest_integer(value)
    IMPORT ceil, floor FROM math

    SWITCH (COUNT('.', value))
        CASE 1:
            WHILE value[-1] = '0'
                SET value = value[0 : LENGTH(value) - 1]
            END WHILE
            BREAK
    END SWITCH

    SET x = FLOAT(value)

    IF value[-2:] = '.5' THEN
        SET result = (x > 0) ? ceil(x) : floor(x)
    ELSE
        SET result = (LENGTH(value) > 0) ? ROUND(x) : 0
    END IF

    RETURN result
END FUNCTION
```