```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET collection_of_fragments TO new empty list
    SET temp_buffer TO new empty list
    SET depth_counter TO 0

    DEFINE PROCESS(index)
        IF index IS EQUAL TO LENGTH(string_of_parentheses) THEN
            RETURN
        END IF

        LET symbol BE string_of_parentheses[index]

        SWITCH TRUE
            CASE symbol IS '(':
                depth_counter <- depth_counter + 1
                temp_buffer APPEND symbol
            CASE symbol IS ')':
                depth_counter <- depth_counter - 1
                temp_buffer APPEND symbol
                IF depth_counter EQ 0 THEN
                    collection_of_fragments APPEND CONCAT(temp_buffer)
                    temp_buffer CLEAR
                END IF
            DEFAULT:
                NO OP
        END SWITCH
        
        PROCESS(index + 1)
    END DEFINE

    PROCESS(0)
    RETURN collection_of_fragments
END FUNCTION
```