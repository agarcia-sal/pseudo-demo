```
FUNCTION sort_array(list_of_numbers)
  SET interim_list TO SORT(list_of_numbers) BY COMPARISON (x,y) -> x < y
  FUNCTION count_ones(str)
    SET idx TO 0
    SET total TO 0
    WHILE idx < LENGTH(str)
      IF str[idx] = '1'
        total = total + 1
      END IF
      idx = idx + 1
    END WHILE
    RETURN total
  END FUNCTION
  FUNCTION key_func(num)
    SET bin_rep TO SUBSTRING(TO_BINARY(num), 2, LENGTH(TO_BINARY(num)))
    RETURN count_ones(bin_rep)
  END FUNCTION
  SET sorted_final TO SORT(interim_list) BY key_func
  RETURN sorted_final
END FUNCTION
```