```
FUNCTION encode(inputText)
  DEFINE alphabetMap AS MAP FROM c TO CHAR(ASCII(c)+2) FOR EACH c IN "aeiouAEIOU"
  LET swappedText BE ""
  FOR index FROM 0 TO LENGTH(inputText)-1
    LET charOriginal BE inputText[index]
    LET charSwapped BE IF charOriginal IS UPPERCASE THEN TO_LOWERCASE(charOriginal) ELSE TO_UPPERCASE(charOriginal)
    swappedText = swappedText + charSwapped
  END FOR
  LET resultBuffer BE EMPTY LIST
  FOR idx FROM 0 TO LENGTH(swappedText)-1
    LET currentChar BE swappedText[idx]
    LET replacedChar BE IF currentChar IN alphabetMap THEN alphabetMap[currentChar] ELSE currentChar
    APPEND replacedChar TO resultBuffer
  END FOR
  RETURN CONCATENATE(resultBuffer)
END FUNCTION
```