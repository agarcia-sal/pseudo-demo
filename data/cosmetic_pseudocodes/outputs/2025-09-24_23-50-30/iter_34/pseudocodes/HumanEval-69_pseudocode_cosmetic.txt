```
FUNCTION search(sequence_of_numbers)
    LET tally_map BE A MAP FROM INTEGER TO INTEGER WITH NO ENTRIES
    LET highest_val BE 0
    FOR item IN sequence_of_numbers DO
        LET count_val BE tally_map[item] IF item IN tally_map ELSE 0
        SET tally_map[item] TO count_val + 1
        IF highest_val < item THEN
            SET highest_val TO item
    LET candidate_result BE -1
    LET key_list BE KEYS OF tally_map AS A LIST
    LET checked_indices BE 0
    WHILE checked_indices < LENGTH key_list DO
        LET key_element BE key_list[checked_indices]
        LET current_count BE tally_map[key_element]
        IF NOT (current_count < key_element) THEN
            SET candidate_result TO key_element
        SET checked_indices TO checked_indices + 1
    RETURN candidate_result
END FUNCTION
```