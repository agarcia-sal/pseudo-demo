```
FUNCTION how_many_times(foo, bar)
    SET baz TO 0
    DEFINE count_occurrences(qux)
        IF qux > LENGTH(foo) - LENGTH(bar)
            RETURN 0
        ELSE
            RETURN (SUBSTRING(foo, qux, qux + LENGTH(bar)) = bar ? 1 : 0) + count_occurrences(qux + 1)
    SET baz TO count_occurrences(0)
    RETURN baz
END FUNCTION
```