```
FUNCTION largest_prime_factor(a)
    FUNCTION is_prime(b)
        SWITCH
            CASE b < 2:
                RETURN False
            DEFAULT:
                SET m TO 2
                WHILE m < b
                    IF b MOD m == 0 THEN RETURN False
                    SET m TO m + 1
                END WHILE
        END SWITCH
        RETURN True
    END FUNCTION

    SET c TO 1
    SET d TO 2
    WHILE d <= a
        IF (a MOD d == 0) AND is_prime(d)
            IF d > c THEN SET c TO d
        SET d TO d + 1
    END WHILE
    RETURN c
END FUNCTION
```