```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET accumulator TO empty list
    SET segment TO empty list
    SET depth_counter TO 0
    SET index_pointer TO 0

    WHILE index_pointer LESS THAN length of string_of_parentheses
        SET current_char TO string_of_parentheses at index_pointer

        SWITCH current_char
            CASE '(':
                depth_counter <- depth_counter + 1
                segment APPEND current_char
            CASE ')':
                segment APPEND current_char
                depth_counter <- depth_counter - 1
                IF NOT (depth_counter â‰  0)
                    accumulator APPEND JOIN segment
                    segment CLEAR
                END IF
            DEFAULT:
                // No action
        END SWITCH

        index_pointer <- index_pointer + 1
    END WHILE

    RETURN accumulator
END FUNCTION
```