```
FUNCTION encode(inputText)
	vowelsList := ["a","e","i","o","u","A","E","I","O","U"]
	vowelMap := {}
	index := 0
	WHILE index < LENGTH(vowelsList)
		currentChar := vowelsList[index]
		vowelMap[currentChar] := CHAR(CHAR_CODE(currentChar) + 2)
		index := index + 1
	END WHILE

	alteredText := ""
	position := 0
	WHILE position < LENGTH(inputText)
		origChar := inputText[position]
		IF origChar IS UPPERCASE
			convertedChar := LOWERCASE(origChar)
		ELSE
			convertedChar := UPPERCASE(origChar)
		END IF
		alteredText := alteredText + convertedChar
		position := position + 1
	END WHILE

	outputText := ""
	FOREACH character IN alteredText
		outputText := outputText + (IF character IN vowelsList THEN vowelMap[character] ELSE character)
	END FOREACH

	RETURN outputText
END FUNCTION
```