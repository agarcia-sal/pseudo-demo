```
FUNCTION median(list_of_elements)
    SET sorted_list TO EMPTY ARRAY
    FOR EACH element IN list_of_elements
        INSERT element INTO sorted_list AT CORRECT POSITION TO KEEP sorted_list SORTED
    END FOR

    SET n TO LENGTH OF sorted_list
    SET middle_index TO n DIVIDED BY 2
    
    IF (n MOD 2) NOT EQUAL TO 0 THEN
        RETURN sorted_list AT INDEX middle_index
    ELSE
        SET first_middle TO sorted_list AT INDEX (middle_index MINUS 1)
        SET second_middle TO sorted_list AT INDEX middle_index
        RETURN (first_middle PLUS second_middle) TIMES 0.5
    END IF
END FUNCTION
```