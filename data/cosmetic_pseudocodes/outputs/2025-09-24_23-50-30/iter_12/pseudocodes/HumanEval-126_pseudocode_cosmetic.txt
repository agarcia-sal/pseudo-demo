```
FUNCTION is_sorted(source_array)
    SET frequency_map TO map WITH default 0
    FOR position FROM 0 TO LENGTH(source_array) - 1
        SET element TO source_array[position]
        SET frequency_map[element] TO frequency_map[element] + 1
    FOR element_key IN source_array
        IF NOT (frequency_map[element_key] <= 2)
            RETURN False
    DEFINE predicate(index)
        RETURN NOT (source_array[index] < source_array[index - 1])
    FOR idx FROM 1 TO LENGTH(source_array) - 1
        IF NOT predicate(idx)
            RETURN False
    RETURN True
END FUNCTION
```