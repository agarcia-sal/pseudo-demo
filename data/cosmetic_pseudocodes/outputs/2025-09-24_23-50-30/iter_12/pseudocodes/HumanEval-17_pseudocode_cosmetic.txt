```
FUNCTION parse_music(music_string)
  DECLARE map_notes AS DICTIONARY
  ASSIGN map_notes['o'] = 4
  ASSIGN map_notes['o|'] = 2
  ASSIGN map_notes['.|'] = 1

  DECLARE parts_list AS ARRAY = []
  FOR i FROM 0 TO LENGTH(music_string) - 1 DO
    // No action here, just placeholder for loop structure
  END FOR

  DECLARE raw_elements AS ARRAY = []
  DECLARE index_var AS INTEGER = 0
  WHILE index_var < LENGTH(music_string) DO
    DECLARE temp_str AS STRING = ""
    WHILE index_var < LENGTH(music_string) AND music_string[index_var] != ' ' DO
      ASSIGN temp_str = temp_str + music_string[index_var]
      ASSIGN index_var = index_var + 1
    END WHILE
    IF temp_str != "" THEN
      APPEND temp_str TO raw_elements
    END IF
    ASSIGN index_var = index_var + 1
  END WHILE

  DECLARE results AS ARRAY = []
  FOR each element_var IN raw_elements DO
    APPEND map_notes[element_var] TO results
  END FOR

  RETURN results
END FUNCTION
```