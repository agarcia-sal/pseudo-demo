```
FUNCTION vowels_count(text)
\tLET vowel_set BE {'a','e','i','o','u','A','E','I','O','U'}
\tLET count_accumulator BE 0
\tFOR index FROM 0 TO LENGTH(text) - 1 DO
\t\tLET letter BE text[index]
\t\tIF vowel_set CONTAINS letter THEN
\t\t\tcount_accumulator = count_accumulator + 1
\t\tEND IF
\tEND FOR
\tLET last_char BE text[LENGTH(text) - 1]
\tIF last_char = 'y' OR last_char = 'Y' THEN
\t\tcount_accumulator = count_accumulator + 1
\tEND IF
\tRETURN count_accumulator
END FUNCTION
```