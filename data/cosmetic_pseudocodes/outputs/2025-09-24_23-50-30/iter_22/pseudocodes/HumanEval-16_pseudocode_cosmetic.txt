```
FUNCTION count_distinct_characters(text)
    DECLARE unique_chars AS DICTIONARY WITH DEFAULT FALSE
    DECLARE index AS INTEGER = 0
    WHILE index < LENGTH(text) DO
        DECLARE character AS CHARACTER = LOWERCASE(text[index])
        IF unique_chars[character] IS FALSE THEN
            unique_chars[character] = TRUE
        END IF
        index = index + 1
    END WHILE

    DECLARE count AS INTEGER = 0
    FOR key IN KEYS(unique_chars) DO
        IF unique_chars[key] THEN
            count = count + 1
        END IF
    END FOR

    RETURN count
END FUNCTION
```