```
FUNCTION solution(p0)
  FUNCTION p1(p2, p3, p4)
    SWITCH TRUE
      CASE NOT (p3 MODULO 2 EQUALS 0 AND p4 MODULO 2 EQUALS 1):
        RETURN 0
      DEFAULT:
        RETURN p2
    END SWITCH
  END FUNCTION
  RETURN FOLD_LEFT(p0, 0, LAMBDA (p5, p6, p7)
    p5 + p1(p6, p7, p6)
  )
END FUNCTION
```