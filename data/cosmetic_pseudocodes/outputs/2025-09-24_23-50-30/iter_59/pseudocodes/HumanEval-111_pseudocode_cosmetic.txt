```
FUNCTION histogram(x1)
    SET x2 TO new queue
    FOR x3 IN x1 SPLIT BY " "
        ENQUEUE x3 INTO x2
    SET x4 TO 0

    FUNCTION x5(q1, q2, q3)
        IF q3 IS EMPTY
            RETURN q2
        ELSE
            SET q4 TO DEQUEUE FROM q3
            SWITCH NOT (q4 = "")
                CASE TRUE:
                    IF (COUNT OF q4 IN q1) > q2
                        SET q2 TO COUNT OF q4 IN q1
            RETURN x5(q1, q2, q3)
    SET x4 TO x5(x2, x4, COPY OF x2)

    FUNCTION x6(q5, q6, q7)
        IF q7 IS EMPTY
            RETURN q6
        ELSE
            SET q8 TO DEQUEUE FROM q7
            IF (COUNT OF q8 IN q5) = q4
                SET q6[q8] TO q4
            RETURN x6(q5, q6, q7)

    SET x7 TO empty dictionary
    IF 0 < x4
        SET x7 TO x6(x2, x7, COPY OF x2)
    RETURN x7
END FUNCTION
```