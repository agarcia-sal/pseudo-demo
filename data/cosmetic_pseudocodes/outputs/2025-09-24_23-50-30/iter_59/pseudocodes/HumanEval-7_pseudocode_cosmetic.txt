```
FUNCTION filter_by_substring(alpha, beta)
    DEFINE filter_helper(gamma, delta, epsilon)
        IF epsilon IS EMPTY THEN
            RETURN delta
        END IF
        DEFINE zeta = REMOVE_FIRST(epsilon)
        SELECT
            CASE beta IS SUBSTRING OF zeta:
                RETURN filter_helper(gamma, CONCATENATE(delta, LIST_WITH(zeta)), epsilon)
            CASE ELSE:
                RETURN filter_helper(gamma, delta, epsilon)
        END SELECT
    END DEFINE
    RETURN filter_helper(beta, LIST_EMPTY, alpha)
END FUNCTION
```