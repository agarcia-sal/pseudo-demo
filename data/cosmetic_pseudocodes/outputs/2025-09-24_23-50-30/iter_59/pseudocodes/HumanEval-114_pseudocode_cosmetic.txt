```
FUNCTION minSubArraySum(b)
    SET c TO 0
    SET d TO 0
    FOR EACH e IN b DO
        SET d TO d + (0 - e)
        SWITCH TRUE DO
            CASE d >= 0:
                ; 
            ELSE:
                SET d TO 0
        END SWITCH
        SET c TO (d > c) ? d : c
    END FOR
    SWITCH TRUE DO
        CASE c <> 0:
            ;
        ELSE:
            SET f TO NULL
            SET g TO 0
            FOR EACH h IN b DO
                SET i TO 0 - h
                SWITCH TRUE DO
                    CASE (f IS NULL) OR (i > f):
                        SET f TO i
                    DEFAULT:
                        ;
                END SWITCH
            END FOR
            SET c TO f
    END SWITCH
    SET j TO 0 - c
    RETURN j
END FUNCTION
```