```
FUNCTION common(A, B)
    SET C TO {}
    FUNCTION check(D)
        IF D = LENGTH(A) THEN RETURN
        ELSE
            FUNCTION inner(E)
                IF E = LENGTH(B) THEN RETURN
                ELSE
                    SWITCH NOT (A[D] = B[E])
                        CASE TRUE:
                            inner(E + 1)
                        CASE FALSE:
                            C <- C âˆª {A[D]}
                            inner(E + 1)
            inner(0)
            check(D + 1)
    check(0)
    RETURN SORT(LIST(C))
END FUNCTION
```