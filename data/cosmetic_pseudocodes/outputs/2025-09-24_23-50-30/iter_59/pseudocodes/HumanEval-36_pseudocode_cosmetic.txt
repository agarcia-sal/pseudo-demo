```
FUNCTION fizz_buzz(b1)
	VAR a1 ← []
	VAR a2 ← 0
	VAR a3 ← ""
	VAR a4 ← 0

	L1: WHILE (a2 < b1) DO
		CASE NOT ((a2 MODULO 11) ≠ 0 AND (a2 MODULO 13) ≠ 0) OF
			TRUE:
				a1 ← a1 + [a2]
		END CASE
		a2 ← a2 + 1
	END WHILE L1

	F1(k1) =
		IF k1 = [] THEN
			""
		ELSE 
			STRING(k1[0]) + F1(k1 REST)
		END IF
	a3 ← F1(a1)

	F2(d1, e1) =
		IF d1 = LENGTH(a3) THEN e1
		ELSE F2(d1 + 1, e1 + (a3[d1] = '7'))
		END IF
	RETURN F2(0, a4)
END FUNCTION
```