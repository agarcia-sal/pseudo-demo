```
FUNCTION count_distinct_characters(n1)
    FUNCTION q2(r3, p4, s5, t6)
        IF (t6 = LENGTH(r3)) THEN RETURN p4
        SELECT r3[t6]
            CASE _  WHEN s5.CONTAINS(LOWERCASE(r3[t6]))
                RETURN q2(r3, p4, s5, t6 + 1)
            CASE ELSE
                RETURN q2(r3, p4 + 1, s5 + LOWERCASE(r3[t6]), t6 + 1)
        END SELECT
    END FUNCTION
    RETURN q2(n1, 0, {}, 0)
END FUNCTION
```