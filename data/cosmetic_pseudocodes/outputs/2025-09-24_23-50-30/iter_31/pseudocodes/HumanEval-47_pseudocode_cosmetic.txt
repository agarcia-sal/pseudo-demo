```
FUNCTION median(array_input)
    SET array_sorted TO COPY OF array_input
    SET array_sorted TO SORT(array_sorted)
    SET length_val TO LENGTH(array_sorted)
    SET is_odd TO (length_val MOD 2) != 0
    RETURN (CASE is_odd OF
        TRUE: array_sorted[(length_val - 1) / 2]
        FALSE: (
            (array_sorted[(length_val / 2) - 1] + array_sorted[length_val / 2])
            / 2.0
        )
    )
END FUNCTION
```