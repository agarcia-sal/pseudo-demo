```
FUNCTION flip_case(omega)
    VARIABLE pi := EMPTY LIST
    VARIABLE idx := 0
    WHILE idx < LENGTH(omega)
        VARIABLE x := omega[idx]
        CASE 
            WHEN x >= 'a' AND x <= 'z'
                APPEND TO pi CHARACTER(ASCII(x) - 32)
            WHEN x >= 'A' AND x <= 'Z'
                APPEND TO pi CHARACTER(ASCII(x) + 32)
            ELSE
                APPEND TO pi x
        idx := idx + 1
    RETURN JOIN(pi)
END FUNCTION
```