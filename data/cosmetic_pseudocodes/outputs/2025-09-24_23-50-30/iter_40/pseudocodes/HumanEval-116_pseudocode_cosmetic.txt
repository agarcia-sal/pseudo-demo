```
FUNCTION sort_array(seq)
    DEFINE countOnes(x) AS
        SET bits TO CONVERT x TO BINARY STRING
        SET tally TO 0
        FOR EACH character IN bits
            IF character EQUALS '1' THEN
                SET tally TO tally + 1
            END IF
        END FOR
        RETURN tally
    END DEFINE

    SET interim_sorted TO JOIN(
        SORTED(
            list(seq),
            (a, b) -> a < b
        )
    )

    SET result TO SORTED(
        interim_sorted,
        (p, q) -> countOnes(p) < countOnes(q)
    )
    RETURN result
END FUNCTION
```