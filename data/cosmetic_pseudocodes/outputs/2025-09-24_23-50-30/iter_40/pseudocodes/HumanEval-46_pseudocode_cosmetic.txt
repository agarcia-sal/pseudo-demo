```
FUNCTION fib4(integer_n)
    DEFINE buffer AS ARRAY WITH ELEMENTS [0, 0, 2, 0]

    IF NOT (integer_n >= 4) THEN
        RETURN buffer[integer_n]
    END IF

    SET counter TO 4
    WHILE counter <= integer_n DO
        SET temp TO buffer[3] + buffer[2] + buffer[1] + buffer[0]
        buffer[0] = buffer[1]
        buffer[1] = buffer[2]
        buffer[2] = buffer[3]
        buffer[3] = temp
        INCREMENT counter BY 1
    END WHILE

    RETURN buffer[3]
END FUNCTION
```