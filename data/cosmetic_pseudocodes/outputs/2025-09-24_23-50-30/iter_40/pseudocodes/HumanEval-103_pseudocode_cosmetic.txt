```
FUNCTION rounded_avg(p, q)
  IF NOT (p <= q) THEN RETURN -1
  SET total := 0
  SET current := p
  WHILE current <= q DO
    SET total := total + current
    SET current := current + 1
  END WHILE
  SET count := q - p + 1
  SET mean := total / count
  SET nearest_int := (mean + 0.5) - ((mean + 0.5) % 1)
  SET bin_str := FORMAT nearest_int IN BINARY
  RETURN bin_str
END FUNCTION
```