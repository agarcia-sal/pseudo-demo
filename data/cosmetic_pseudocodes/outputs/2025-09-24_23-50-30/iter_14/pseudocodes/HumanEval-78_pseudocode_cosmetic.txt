```
FUNCTION hex_key(string_num)
    primes_set ← {'2', '3', '5', '7', 'B', 'D'}
    FUNCTION count_primes(position, tally)
        IF position = LENGTH(string_num) THEN RETURN tally
        IF string_num[position] ∈ primes_set THEN RETURN count_primes(position + 1, tally + 1)
        RETURN count_primes(position + 1, tally)
    END FUNCTION
    RETURN count_primes(0, 0)
END FUNCTION
```