```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF 1 >= k THEN RETURN False
        SET x TO 2
        WHILE x < k DO
            IF (k - (k / x) * x) = 0 THEN RETURN False
            SET x TO x + 1
        RETURN True
    END FUNCTION

    SET result TO 1
    SET divisor TO 2
    WHILE divisor <= n DO
        IF (n - (n / divisor) * divisor) = 0 THEN
            IF is_prime(divisor) THEN
                IF divisor > result THEN
                    SET result TO divisor
        SET divisor TO divisor + 1
    RETURN result
END FUNCTION
```