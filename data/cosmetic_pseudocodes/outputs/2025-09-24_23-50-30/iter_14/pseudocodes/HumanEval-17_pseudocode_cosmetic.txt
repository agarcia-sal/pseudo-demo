```
FUNCTION parse_music(music_string)
	note_map := { 'o' : 4,  'o|' : 2,  '.|' : 1 }
	TEMP result := []
	index := 0
	tokens := SPLIT music_string BY ' '
	WHILE index < LENGTH(tokens)
		current_token := tokens[index]
		IF LENGTH(TRIM(current_token)) = 0 THEN
			index := index + 1
			CONTINUE
		END IF
		APPEND note_map[current_token] TO result
		index := index + 1
	END WHILE
	RETURN result
END FUNCTION
```