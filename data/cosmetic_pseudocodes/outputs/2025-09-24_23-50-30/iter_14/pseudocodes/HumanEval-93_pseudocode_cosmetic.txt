```
FUNCTION encode(text)
	vowels_set ← {'a','e','i','o','u','A','E','I','O','U'}

	vowel_map ← EMPTY DICTIONARY
	FOR letter IN vowels_set DO
		vowel_map[letter] ← CHAR(ORD(letter) + 2)
	END FOR

	transformed ← ""
	INDEX ← 0

	WHILE INDEX < LENGTH(text) DO
		ch ← text[INDEX]
		swapped ← IF ch IS UPPERCASE THEN TO_LOWERCASE(ch) ELSE TO_UPPERCASE(ch)
		INCORPORATE swapped INTO transformed
		INDEX ← INDEX + 1
	END WHILE

	result ← ""
	LOOP over sym IN transformed DO
		IF sym IN vowels_set THEN
			result ← CONCATENATE(result, vowel_map[sym])
		ELSE
			result ← CONCATENATE(result, sym)
		END IF
	END LOOP

	RETURN result
END FUNCTION
```