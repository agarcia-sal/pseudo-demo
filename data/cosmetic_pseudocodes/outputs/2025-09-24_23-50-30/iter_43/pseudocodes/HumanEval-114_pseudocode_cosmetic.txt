```
FUNCTION minSubArraySum(array_of_numbers)
    SET acc TO 0
    SET peak TO 0
    SET idx TO 0
    WHILE idx < LENGTH(array_of_numbers)
        SET acc TO acc + (0 - array_of_numbers[idx])
        SWITCH TRUE
            CASE acc < 0:
                SET acc TO 0
            CASE ELSE:
                // do nothing
        END SWITCH
        IF acc > peak
            SET peak TO acc
        END IF
        SET idx TO idx + 1
    END WHILE
    IF peak == 0
        SET temp_max TO -array_of_numbers[0]
        SET pos TO 1
        WHILE pos < LENGTH(array_of_numbers)
            SET candidate TO -array_of_numbers[pos]
            IF candidate > temp_max
                SET temp_max TO candidate
            END IF
            SET pos TO pos + 1
        END WHILE
        SET peak TO temp_max
    END IF
    SET result TO 0 - peak
    RETURN result
END FUNCTION
```