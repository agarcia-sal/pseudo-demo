```
FUNCTION rounded_avg(p, q)
    SWITCH q < p
        CASE TRUE: RETURN -1
    DECLARE r = 0
    DECLARE s = p
    WHILE s <= q
        r = r + s
        s = s + 1
    DECLARE t = r / (q - p + 1)
    DECLARE u = ROUND(t)
    DECLARE v = TO_BINARY(u)
    RETURN v
END FUNCTION
```