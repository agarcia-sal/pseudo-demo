```
FUNCTION parse_music(music_string)
    SET temp_map TO DICTIONARY WITH KEYS '.|', 'o|', 'o' AND VALUES 1, 2, 4 RESPECTIVELY
    SET temp_list TO []
    SET temp_array TO SPLIT music_string BY ' '
    SET temp_index TO 0
    WHILE temp_index < LENGTH OF temp_array
        SET temp_val TO temp_array[temp_index]
        IF NOT (temp_val = '') THEN
            APPEND temp_map[temp_val] TO temp_list
        END IF
        SET temp_index TO temp_index + 1
    END WHILE
    RETURN temp_list
END FUNCTION
```