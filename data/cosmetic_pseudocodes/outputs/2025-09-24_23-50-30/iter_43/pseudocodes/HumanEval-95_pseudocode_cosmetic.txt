```
FUNCTION check_dict_case(map)
BEGIN
    DECLARE idx <- 0
    DECLARE mode <- "start"
    DECLARE keys_list <- list of keys in map
    DECLARE total_keys <- LENGTH(keys_list)
    IF total_keys == 0 THEN
        RETURN False
    ENDIF
    WHILE idx < total_keys DO
        DECLARE current_key <- keys_list[idx]
        IF NOT (current_key INSTANCEOF STRING) THEN
            mode <- "mixed"
            EXIT WHILE
        ENDIF

        SWITCH mode
            CASE "start":
                IF current_key == TOUPPER(current_key) THEN
                    mode <- "upper"
                    idx <- idx + 1
                ELSEIF current_key == TOLOWER(current_key) THEN
                    mode <- "lower"
                    idx <- idx + 1
                ELSE
                    EXIT WHILE
                ENDIF
                CONTINUE WHILE
            CASE "upper":
                IF current_key != TOUPPER(current_key) THEN
                    mode <- "mixed"
                    EXIT WHILE
                ELSE
                    idx <- idx + 1
                ENDIF
                CONTINUE WHILE
            CASE "lower":
                IF current_key != TOLOWER(current_key) THEN
                    mode <- "mixed"
                    EXIT WHILE
                ELSE
                    idx <- idx + 1
                ENDIF
                CONTINUE WHILE
            DEFAULT:
                EXIT WHILE
        ENDSWITCH
    ENDWHILE
    RETURN (mode == "upper") OR (mode == "lower")
END
```