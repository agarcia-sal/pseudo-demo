```
FUNCTION search(input_sequence)
    SET counts TO array_of_zeros WITH LENGTH (maximum_element_in input_sequence) + 1
    DEFINE index_tracker AS LENGTH(counts) - 1
    DEFINE recursive_check(pos, current_result)
        IF pos < 1 THEN RETURN current_result
        LET updated_result = IF counts[pos] >= pos THEN pos ELSE current_result
        RETURN recursive_check(pos - 1, updated_result)
    FOR element IN input_sequence DO
        counts[element] = counts[element] + 1
    RETURN recursive_check(index_tracker, -1)
END FUNCTION
```