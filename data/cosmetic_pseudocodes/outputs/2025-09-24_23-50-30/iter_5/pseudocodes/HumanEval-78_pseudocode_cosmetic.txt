```
FUNCTION hex_key(string_num)
    SET prime_chars TO ['2', '3', '5', '7', 'B', 'D']
    SET count_primes TO 0
    SET position TO 0
    
    WHILE position < LENGTH(string_num)
        SWITCH string_num[position]
            CASE '2', '3', '5', '7', 'B', 'D':
                count_primes = count_primes + 1
            DEFAULT:
                NOOP
        END SWITCH
        position = position + 1
    END WHILE
    
    RETURN count_primes
END FUNCTION
```