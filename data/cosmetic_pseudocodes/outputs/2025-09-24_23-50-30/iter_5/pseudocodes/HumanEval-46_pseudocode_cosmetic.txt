```
FUNCTION fib4(integer_n)
    SET cache TO [0, 0, 2, 0]

    IF integer_n >= 4 THEN
        SET index TO 4
        WHILE index <= integer_n DO
            LET sum_four = cache[0] + cache[1] + cache[2] + cache[3]
            cache = cache[1..3] + [sum_four]
            index = index + 1
        END WHILE
        RETURN cache[3]
    ELSE
        RETURN cache[integer_n]
    END IF
END FUNCTION
```