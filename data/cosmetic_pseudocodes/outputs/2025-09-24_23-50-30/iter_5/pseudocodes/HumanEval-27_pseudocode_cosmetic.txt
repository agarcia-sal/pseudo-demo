```
FUNCTION flip_case(x)
    SET accumulator TO empty list
    SET index TO 0
    WHILE index < LENGTH(x) DO
        SET current_char TO GET x AT index
        IF current_char >= 'a' AND current_char <= 'z' THEN
            APPEND TO accumulator CHAR_TO_UPPER(current_char)
        ELSE IF current_char >= 'A' AND current_char <= 'Z' THEN
            APPEND TO accumulator CHAR_TO_LOWER(current_char)
        ELSE
            APPEND TO accumulator current_char
        END IF
        SET index TO index + 1
    END WHILE
    RETURN JOIN accumulator TO STRING
END FUNCTION
```