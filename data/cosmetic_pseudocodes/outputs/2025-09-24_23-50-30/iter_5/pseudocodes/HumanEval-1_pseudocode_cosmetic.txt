```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET result_collection TO empty list
    SET buffer_chars TO empty list
    SET depth_counter TO 0

    SET idx TO 0
    WHILE idx < LENGTH(string_of_parentheses)
        SET current_char TO string_of_parentheses[idx]

        SELECT current_char
            CASE '(':
                SET depth_counter TO depth_counter + 1
                APPEND current_char TO buffer_chars
            CASE ')':
                SET depth_counter TO depth_counter - 1
                APPEND current_char TO buffer_chars
                IF depth_counter = 0 THEN
                    APPEND JOIN(buffer_chars, "") TO result_collection
                    SET buffer_chars TO empty list
                END IF
        END SELECT

        SET idx TO idx + 1
    END WHILE

    RETURN result_collection
END FUNCTION
```