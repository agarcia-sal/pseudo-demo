```
FUNCTION vowels_count(input_string)
    SET vowel_chars TO ['a','e','i','o','u','A','E','I','O','U']
    
    FUNCTION count_vowels_at(index, tally)
        IF index >= LENGTH(input_string)
            RETURN tally
        ELSE
            SET increment TO 1 IF input_string[index] IN vowel_chars ELSE 0
            RETURN count_vowels_at(index + 1, tally + increment)
        END IF
    END FUNCTION
    
    SET total_vowels TO count_vowels_at(0, 0)

    SWITCH input_string[LENGTH(input_string) - 1]
        CASE 'y'
        CASE 'Y'
            SET total_vowels TO total_vowels + 1
    END SWITCH

    RETURN total_vowels
END FUNCTION
```