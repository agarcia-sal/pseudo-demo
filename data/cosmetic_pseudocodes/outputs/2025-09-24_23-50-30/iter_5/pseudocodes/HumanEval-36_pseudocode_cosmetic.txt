```
FUNCTION fizz_buzz(integer_n)
    DEFINE FUNCTION gather_divisible(index, collected)
        IF index >= integer_n THEN
            RETURN collected
        ELSE
            IF (index MOD 11 = 0) OR (index MOD 13 = 0) THEN
                RETURN gather_divisible(index + 1, collected + [index])
            ELSE
                RETURN gather_divisible(index + 1, collected)
            END IF
        END IF
    END FUNCTION

    LET filtered_values = gather_divisible(0, [])
    LET combined_text = ""
    LET pos = 0

    WHILE pos < LENGTH(filtered_values)
        combined_text = combined_text + STRING(filtered_values[pos])
        pos = pos + 1
    END WHILE

    LET total_count = 0
    LET idx = 0

    WHILE idx < LENGTH(combined_text)
        IF combined_text[idx] = '7' THEN
            total_count = total_count + 1
        END IF
        idx = idx + 1
    END WHILE

    RETURN total_count
END FUNCTION
```