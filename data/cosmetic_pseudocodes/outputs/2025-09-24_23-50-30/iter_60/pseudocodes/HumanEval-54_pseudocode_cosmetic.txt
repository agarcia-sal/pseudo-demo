```
FUNCTION same_chars(arg_a, arg_b)
    FUNCTION fold_chars(seq, acc, idx)
        IF idx = LENGTH(seq) THEN
            RETURN acc
        ELSE
            RETURN fold_chars(seq, acc UNION {seq[idx]}, idx + 1)
        END IF
    END FUNCTION

    VAR accumulated_1 ← fold_chars(arg_a, {}, 0)
    VAR accumulated_2 ← fold_chars(arg_b, {}, 0)

    SWITCH (accumulated_1 = accumulated_2)
        CASE TRUE: RETURN TRUE
        CASE FALSE: RETURN FALSE
    END SWITCH
END FUNCTION
```