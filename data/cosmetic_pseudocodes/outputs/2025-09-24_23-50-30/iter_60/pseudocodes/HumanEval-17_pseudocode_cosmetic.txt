```
FUNCTION parse_music(kappa)
    SET psi TO DICTIONARY
    SET psi['o'] = 4
    SET psi['o|'] = 2
    SET psi['.|'] = 1

    FUNCTION unfold(delta, omega)
        IF omega IS EMPTY THEN
            RETURN delta
        ELSE
            SET zeta TO FIRST ELEMENT OF omega
            SET upsilon TO REST OF omega
            IF zeta != '' THEN
                PREPEND psi[zeta] TO delta
            END IF
            RETURN unfold(delta, upsilon)
        END IF
    END FUNCTION

    SET eta TO SPLIT kappa BY ' '
    SET lambda TO REVERSE unfold([], eta)
    RETURN lambda
END FUNCTION
```