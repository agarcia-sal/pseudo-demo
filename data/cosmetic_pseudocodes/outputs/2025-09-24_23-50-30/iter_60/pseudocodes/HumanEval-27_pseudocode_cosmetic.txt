```
FUNCTION flip_case(alpha)
  FUNCTION toggle_char(ch)
    SWITCH
      CASE ch >= "a" AND ch <= "z"
        RETURN ch - ("a" - "A")
      CASE ch >= "A" AND ch <= "Z"
        RETURN ch + ("a" - "A")
      DEFAULT
        RETURN ch
    END SWITCH
  END FUNCTION

  FUNCTION recurse(idx, acc)
    IF idx = LENGTH(alpha)
      RETURN acc
    ELSE
      RETURN recurse(idx + 1, acc + toggle_char(alpha[idx]))
    END IF
  END FUNCTION

  RETURN recurse(0, "")
END FUNCTION
```