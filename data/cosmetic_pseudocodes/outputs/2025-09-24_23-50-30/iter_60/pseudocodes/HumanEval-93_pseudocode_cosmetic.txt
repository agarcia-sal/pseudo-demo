```
FUNCTION encode(mu)
  SET fq TO "aeiouAEIOU"
  SET ab TO EMPTY DICTIONARY
  SET bp TO 0
  REPEAT PROCESS_LOOP:
    IF bp < LENGTH(fq)
      SET ik TO fq[bp]
      SET ab[ik] TO CHAR(ASCII(ik) + 2)
      SET bp TO bp + 1
      GOTO PROCESS_LOOP
    END IF
  END REPEAT
  SET gu TO ""
  SET rn TO 0
  REPEAT SWAP_LOOP:
    IF rn < LENGTH(mu)
      SET vj TO mu[rn]
      IF (vj IN fq) = FALSE
        SET gu TO gu + (IF vj = LOWERCASE(vj) THEN UPPERCASE(vj) ELSE LOWERCASE(vj))
      ELSE
        SET gu TO gu + (IF vj = LOWERCASE(vj) THEN UPPERCASE(vj) ELSE LOWERCASE(vj))
      END IF
      SET rn TO rn + 1
      GOTO SWAP_LOOP
    END IF
  END REPEAT
  SET no TO ""
  SET ep TO 0
  REPEAT MAP_LOOP:
    IF ep < LENGTH(gu)
      SET md TO gu[ep]
      SWITCH [md IN fq, md NOT IN fq]:
        CASE [TRUE, _]:
          SET no TO no + ab[md]
        CASE [FALSE, _]:
          SET no TO no + md
      END SWITCH
      SET ep TO ep + 1
      GOTO MAP_LOOP
    END IF
  END REPEAT
  RETURN no
END FUNCTION
```