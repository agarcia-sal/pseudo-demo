```
FUNCTION intersperse(theta, omega)
    DEFINE helper(alpha, beta, gamma)
        SWITCH True CASE
            WHEN alpha IS EMPTY
                RETURN beta
            DEFAULT
                RETURN helper(
                    alpha[1:], 
                    beta + [alpha[0]] + [gamma], 
                    gamma
                )
        END SWITCH
    END DEFINE

    SWITCH True CASE
        WHEN theta IS EMPTY
            RETURN []
        DEFAULT
            RETURN helper(theta[:-1], [], omega) + [theta[-1]]
    END SWITCH
END FUNCTION
```