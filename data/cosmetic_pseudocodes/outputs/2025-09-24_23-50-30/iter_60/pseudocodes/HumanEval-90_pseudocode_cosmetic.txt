```
FUNCTION next_smallest(omega)
x
  := (f
      o
        l
          d
            (
              \ (c, d)-> 
                IF d ∈ c THEN c ELSE c ∪ {d}, 
              ∅, omega
            )
         )  
           |> (lambda s -> SORTED s)
u
  := x
π
  := LENGTH u
CASE 
  TRUE OF
    (π >= 2):
       y := INDEX u 1
       RETURN y

    DEFAULT:
      RETURN None
END CASE
END FUNCTION
```