```
FUNCTION all_prefixes(omega) 
  FUNCTION loop(delta, sigma)
    IF delta > LENGTH(omega) - 1 THEN
      RETURN sigma
    ELSE
      SET gamma TO sigma + [SUBSTRING(omega, 0, delta + 1)]
      RETURN loop(delta + 1, gamma)
    END IF
  END FUNCTION
  RETURN loop(0, [])
END FUNCTION
```