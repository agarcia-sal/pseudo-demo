```
FUNCTION intersperse(sequence, glue)
    MATCH sequence WITH
        CASE []:
            RETURN []
        CASE elements:
            DEFINE FUNCTION helper(idx, acc)
                IF idx EQUALS LENGTH(elements) MINUS 1 THEN
                    RETURN acc + [elements[idx]]
                END IF
                RETURN helper(idx + 1, acc + [elements[idx], glue])
            END FUNCTION
            RETURN helper(0, [])
    END MATCH
END FUNCTION
```