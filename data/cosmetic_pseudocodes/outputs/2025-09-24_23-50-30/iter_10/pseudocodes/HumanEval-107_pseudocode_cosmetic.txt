```
FUNCTION even_odd_palindrome(q)
  FUNCTION is_palindrome(x)
    SET s TO STRING(x)
    RETURN s = (FORWARD s FROM LENGTH(s) TO 1 STEP -1 COLLECTED INTO STRING)
  END FUNCTION

  FUNCTION count_palindromes(r, evens_acc, odds_acc)
    IF r > q THEN 
      RETURN TUPLE(evens_acc, odds_acc)
    ELSE
      SET incremented_sets TO
        CASE (r % 2 = 0, is_palindrome(r)) OF
          (TRUE, TRUE) : TUPLE(evens_acc + 1, odds_acc)
          (FALSE, TRUE): TUPLE(evens_acc, odds_acc + 1)
          DEFAULT      : TUPLE(evens_acc, odds_acc)
        ENDCASE
      RETURN count_palindromes(r + 1, incremented_sets[0], incremented_sets[1])
    ENDIF
  END FUNCTION

  RETURN count_palindromes(1, 0, 0)
END FUNCTION
```