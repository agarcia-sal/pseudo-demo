```
FUNCTION is_sorted(sequence)
    DEFINE frequency_map AS empty dictionary
    FOR element IN sequence
        IF element IN frequency_map THEN
            frequency_map[element] = frequency_map[element] + 1
        ELSE
            frequency_map[element] = 1
    FOR key IN sequence
        IF frequency_map[key] > 2 THEN RETURN False
    DEFINE INDEX = 1
    WHILE INDEX < LENGTH(sequence)
        IF NOT (sequence[INDEX - 1] <= sequence[INDEX]) THEN RETURN False
        INDEX = INDEX + 1
    RETURN True
END FUNCTION
```