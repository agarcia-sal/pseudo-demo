```
FUNCTION parse_music(input_sequence)
    DEFINE translate_map = { 'o': 4, 'o|': 2, '.|': 1 }
    
    FUNCTION helper(index, accumulated)
        IF index >= LENGTH(SPLIT input_sequence BY ' ')
            RETURN accumulated
        END IF

        SET current_token TO ELEMENT AT index OF SPLIT input_sequence BY ' '
        IF current_token != ''
            APPEND translate_map[current_token] TO accumulated
        END IF

        RETURN helper(index + 1, accumulated)
    END FUNCTION

    RETURN helper(0, [])
END FUNCTION
```