```
FUNCTION rounded_avg(p, q)
    IF NOT (p <= q) THEN
        RETURN -1
    END IF
    SET w TO 0
    SET x TO p
    WHILE (x - (q + 1)) â‰  0 DO
        SET w TO w + x
        SET x TO x + 1
    END WHILE
    SET y TO w * 1 / (q - p + 1)
    SET z TO (y + 0.5) - ((y + 0.5) MOD 1)
    SET result TO ""
    IF z = 0 THEN
        SET result TO "0"
    ELSE
        SET digits TO []
        SET temp TO z
        WHILE NOT (temp = 0) DO
            SET remainder TO temp MOD 2
            APPEND remainder TO digits
            SET temp TO (temp - remainder) / 2
        END WHILE
        SET idx TO LENGTH(digits) - 1
        WHILE idx >= 0 DO
            SET result TO CONCATENATE result AND STRING(digits[idx])
            SET idx TO idx - 1
        END WHILE
    END IF
    RETURN result
END FUNCTION
```