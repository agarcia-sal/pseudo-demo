```
FUNCTION search(container_of_numbers)
    PROCEDURE accumulateCounts(position)
        IF position > LENGTH container_of_numbers THEN
            RETURN
        END IF
        LET currentNumber BE container_of_numbers[position]
        LET tempCounts BE counts
        SET counts TO tempCounts WITH currentNumber UPDATED TO (tempCounts[currentNumber] + 1)
        CALL accumulateCounts(position + 1)
    END PROCEDURE

    LET counts BE array_of_zeroes OF SIZE (MAXIMUM OF container_of_numbers + 1)

    CALL accumulateCounts(1)

    FUNCTION findAnswer(idx, acc)
        IF idx > LENGTH counts - 1 THEN
            RETURN acc
        ELSE
            LET acc2 BE acc
            IF counts[idx] >= idx THEN
                SET acc2 TO idx
            END IF
            RETURN findAnswer(idx + 1, acc2)
        END IF
    END FUNCTION

    RETURN findAnswer(1, -1)
END FUNCTION
```