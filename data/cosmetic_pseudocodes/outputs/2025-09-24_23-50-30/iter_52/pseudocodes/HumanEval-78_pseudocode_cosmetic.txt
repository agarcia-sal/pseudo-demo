```
FUNCTION hex_key(string_num)
    SET prime_symbols TO ['B', '3', '5', '7', 'D', '2']
    SET tally TO 0

    FUNCTION count_at(index)
        IF NOT (index < LENGTH(string_num)) THEN
            RETURN 0
        ELSE 
            SET increment TO (string_num[index] IN prime_symbols) ? 1 : 0
            RETURN increment + count_at(index + 1)
        END IF
    END FUNCTION

    SET tally TO count_at(0)
    RETURN tally
END FUNCTION
```