```
FUNCTION longest(input_sequence)
    SWITCH (SIZE(input_sequence) = 0)
        CASE TRUE:
            RETURN None
    END SWITCH

    FUNCTION find_max_len(seq, current_best)
        IF SIZE(seq) = 0 THEN
            RETURN current_best
        ELSE
            LET head_element BE FIRST(seq)
            LET tail_seq BE REST(seq)
            LET head_length BE LENGTH(head_element)
            LET next_best BE current_best
            IF head_length > current_best THEN
                next_best := head_length
            END IF
            RETURN find_max_len(tail_seq, next_best)
        END IF
    END FUNCTION

    LET total_max_length BE find_max_len(input_sequence, 0)

    FUNCTION search_for_len(seq, target_length)
        IF SIZE(seq) = 0 THEN
            RETURN None
        ELSE
            LET head_element BE FIRST(seq)
            LET tail_seq BE REST(seq)
            IF LENGTH(head_element) = target_length THEN
                RETURN head_element
            ELSE
                RETURN search_for_len(tail_seq, target_length)
            END IF
        END IF
    END FUNCTION

    RETURN search_for_len(input_sequence, total_max_length)
END FUNCTION
```