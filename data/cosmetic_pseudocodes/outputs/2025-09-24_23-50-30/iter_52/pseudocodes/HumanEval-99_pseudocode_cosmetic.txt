```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    FUNCTION trim_trailing_zeros(str_val)
        IF COUNT OF '.' IN str_val IS NOT 1
            RETURN str_val
        END IF

        FUNCTION recursive_trim(s)
            IF LENGTH OF s IS 0 OR LAST CHARACTER OF s IS NOT '0' 
                RETURN s
            ELSE
                RETURN recursive_trim(SUBSTRING OF s FROM START TO LENGTH OF s MINUS 1)
            END IF
        END FUNCTION

        RETURN recursive_trim(str_val)
    END FUNCTION

    SET temp_str TO trim_trailing_zeros(value)
    SET float_num TO FLOAT CONVERSION OF temp_str

    FUNCTION determine_result(s, number)
        SWITCH TRUE
            CASE LAST TWO CHARACTERS OF s ARE '.5':
                RETURN (number > 0) ? ceil(number) : floor(number)
            CASE LENGTH OF s > 0:
                RETURN INTEGER ROUND OF number
            DEFAULT:
                RETURN 0
        END SWITCH
    END FUNCTION

    RETURN determine_result(temp_str, float_num)
END FUNCTION
```