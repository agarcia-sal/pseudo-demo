```
FUNCTION parse_music(music_string)
    SET temp_dict TO NEW DICTIONARY
    temp_dict['o|'] = 2
    temp_dict['.|' ] = 1
    temp_dict['o'] = 4

    FUNCTION helper(index, tokens_list, acc)
        IF index >= LENGTH(tokens_list)
            RETURN acc
        END IF

        SET current_token TO tokens_list[index]
        IF current_token != ''
            SET acc TO acc + [temp_dict[current_token]]
        END IF

        RETURN helper(index + 1, tokens_list, acc)
    END FUNCTION

    SET tokens TO SPLIT(music_string, ' ')
    RETURN helper(0, tokens, [])
END FUNCTION
```