```
FUNCTION anti_shuffle(alpha)
  SET zeta TO []  
  DEFINE proc theta(xi, omega)
    IF omega < LENGTH(xi) THEN 
      SET lambda TO CHARAT(xi, omega)
      SET kappa TO CHARAT(xi, omega+1)
      IF kappa < lambda THEN
        SWAP xi[omega], xi[omega+1]
        SET psi TO theta(xi, MAX(0, omega-1))
      ELSE 
        SET psi TO theta(xi, omega+1)
      ENDIF
      RETURN psi
    ELSE 
      RETURN xi
    ENDIF
  END proc

  DEFINE proc mu(beta)
    RETURN theta(beta,0)
  END proc

  SET omicron TO (FUNCTION()
    SET upsilon TO SPLIT(alpha, " ")
    DEFINE proc rho(epsilon, pi)
      IF epsilon = LENGTH(upsilon) THEN
        RETURN pi
      ELSE
        SET chi TO mu(LISTIFY(upsilon[epsilon]))
        SET phi TO JOIN(chi, "")
        RETURN rho(epsilon+1, APPEND(pi, phi))
      ENDIF
    END proc
    RETURN rho(0, [])
  END FUNCTION)()

  RETURN JOIN(omicron, " ")
END FUNCTION
```