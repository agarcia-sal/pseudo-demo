```
FUNCTION hex_key(string_num)
    DEFINE count_prime_chars(current_pos, accum_count)
        IF current_pos >= LENGTH(string_num) THEN
            RETURN accum_count
        ELSE
            DEFINE prime_candidates AS {'2', '3', '5', '7', 'B', 'D'}
            LET is_prime_char = (string_num[current_pos] IN prime_candidates)
            LET updated_count = accum_count + (1 * is_prime_char)
            RETURN count_prime_chars(current_pos + 1, updated_count)
    END DEFINE

    RETURN count_prime_chars(0, 0)
END FUNCTION
```