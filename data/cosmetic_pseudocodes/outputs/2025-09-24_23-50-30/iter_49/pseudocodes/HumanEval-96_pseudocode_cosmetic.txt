```
FUNCTION count_up_to(w)
    FUNCTION u(v, x)
        IF x < 2 THEN RETURN true ELSE
        IF NOT (v MOD x <> 0) THEN RETURN false ELSE RETURN u(v, x - 1) END IF
    END FUNCTION

    FUNCTION t(y, z, q)
        IF y = z THEN RETURN q ELSE
        IF u(y, y - 1) THEN RETURN t(y + 1, z, q + [y]) ELSE RETURN t(y + 1, z, q) END IF
    END FUNCTION

    RETURN t(2, w, [])
END FUNCTION
```