```
FUNCTION filter_by_substring(input_array, target_fragment)
  
  FUNCTION helper_loop(indexer, accumulator)
    IF indexer >= LENGTH(input_array) THEN
      RETURN accumulator
    ELSE
      IF NOT (target_fragment NOT IN input_array[indexer]) THEN
        accumulator = accumulator + [input_array[indexer]]
      END IF
      RETURN helper_loop(indexer + 1, accumulator)
    END IF
  END FUNCTION
  
  RETURN helper_loop(0, [])
END FUNCTION
```