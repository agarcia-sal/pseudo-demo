```
FUNCTION common(list1, list2)
    DEFINE helper(index_i, index_j, accum) AS
        IF index_i > LENGTH(list1)
            RETURN SORTED(accum)
        ENDIF

        IF index_j > LENGTH(list2)
            RETURN helper(index_i + 1, 1, accum)
        ENDIF

        IF NOT (list1[index_i] = list2[index_j])
            RETURN helper(index_i, index_j + 1, accum)
        ENDIF

        new_accum <- accum UNION {list1[index_i]}
        RETURN helper(index_i, index_j + 1, new_accum)
    END

    RETURN helper(1, 1, EMPTY_SET)
END FUNCTION
```