```
FUNCTION is_sorted(arr)
    SET frequency_map TO dictionary MAPPING each element IN arr TO 0
    FOR element IN arr DO
        SET frequency_map[element] TO frequency_map[element] + 1

    FOR index FROM 0 TO LENGTH(arr) - 1 DO
        IF frequency_map[arr[index]] > 2 THEN
            RETURN False

    FOR i FROM 1 TO LENGTH(arr) - 1 DO
        IF NOT (arr[i - 1] <= arr[i]) THEN
            RETURN False

    RETURN True
END FUNCTION
```