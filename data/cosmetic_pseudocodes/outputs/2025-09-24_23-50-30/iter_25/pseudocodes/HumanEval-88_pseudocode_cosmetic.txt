```
FUNCTION sort_array(sequence)
    IF NOT (LENGTH(sequence) > 0) THEN
        RETURN []
    END IF

    LET edge_sum = sequence[0] + sequence[(LENGTH(sequence) - 1)]
    LET is_descending = (edge_sum MOD 2 = 0)

    RETURN sequence SORTED BY order DESCENDING IF is_descending IS TRUE ELSE ASCENDING
END FUNCTION
```