```
FUNCTION histogram(test_string)
    INITIALIZE freq_map AS empty dictionary
    SPLIT test_string BY " " INTO letters_list
    SET max_frequency TO 0

    SET idx TO 0
    WHILE idx < LENGTH(letters_list) DO
        SET current_letter TO letters_list[idx]
        IF NOT (current_letter = "") AND (COUNT current_letter IN letters_list) > max_frequency THEN
            SET max_frequency TO COUNT current_letter IN letters_list
        ENDIF
        INCREMENT idx BY 1
    ENDWHILE

    IF NOT (max_frequency <= 0) THEN
        SET j TO 0
        WHILE j < LENGTH(letters_list) DO
            SET candidate TO letters_list[j]
            IF (COUNT candidate IN letters_list) = max_frequency THEN
                SET freq_map[candidate] TO max_frequency
            ENDIF
            INCREMENT j BY 1
        ENDWHILE
    ENDIF

    RETURN freq_map
END FUNCTION
```