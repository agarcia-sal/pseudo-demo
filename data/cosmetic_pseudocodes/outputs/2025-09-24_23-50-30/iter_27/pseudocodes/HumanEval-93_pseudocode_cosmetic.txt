```
FUNCTION encode(inputText)
  DEFINE vowelCollection AS "aeiouAEIOU"
  DEFINE vowelMapping AS EMPTY_DICTIONARY
  INITIALIZE indexCounter TO 0
  WHILE indexCounter < LENGTH OF vowelCollection DO
    SET vowelChar TO vowelCollection[indexCounter]
    SET vowelMapping[vowelChar] TO CHAR(ASCII(vowelChar) + 2)
    INCREMENT indexCounter BY 1
  END WHILE
  SET invertedText TO EMPTY_STRING
  DEFINE position AS 0
  WHILE position < LENGTH OF inputText DO
    SET currentChar TO inputText[position]
    IF currentChar IS LOWERCASE LETTER THEN
      APPEND TO invertedText CHARACTER_UPPERCASE(currentChar)
    ELSE IF currentChar IS UPPERCASE LETTER THEN
      APPEND TO invertedText CHARACTER_LOWERCASE(currentChar)
    ELSE 
      APPEND TO invertedText currentChar
    END IF
    INCREMENT position BY 1
  END WHILE

  SET resultString TO EMPTY_STRING
  DEFINE idx AS 0
  WHILE idx < LENGTH OF invertedText DO
    SET chr TO invertedText[idx]
    IF vowelCollection CONTAINS chr THEN
      APPEND TO resultString vowelMapping[chr]
    ELSE
      APPEND TO resultString chr
    END IF
    INCREMENT idx BY 1
  END WHILE

  RETURN resultString
END FUNCTION
```