```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime(y)
        SWITCH TRUE
            CASE NOT (y >= 2):
                RETURN False
            DEFAULT:
                LET m = 2
                WHILE m < y
                    IF (y % m) = 0 THEN
                        RETURN False
                    LET m = m + 1
                END WHILE
                RETURN True
        END SWITCH
    END FUNCTION

    LET w = 1
    LET z = 2
    WHILE z <= x
        IF ((x % z) = 0) AND is_prime(z)
            LET w = (w > z) ? w : z
        LET z = z + 1
    END WHILE
    RETURN w
END FUNCTION
```