```
FUNCTION get_odd_collatz(p)
    DEFINE FUNCTION aux(q, r)
        SWITCH NOT (q > 1)
            CASE TRUE:
                RETURN r
            CASE FALSE:
                SWITCH q MOD 2
                    CASE 0:
                        LET s = q / 2
                    CASE 1:
                        LET s = 3 * q + 1
                END SWITCH
                LET t = r
                IF s MOD 2 = 1 THEN
                    LET t = r + [s]
                END IF
                RETURN aux(s, t)
        END SWITCH
    END FUNCTION

    LET u = IF p MOD 2 = 1 THEN [p] ELSE []
    LET v = aux(p, u)
    RETURN SORT(v)
END FUNCTION
```