```
FUNCTION rounded_avg(p, q)
    IF NOT (p <= q)
        RETURN -1
    ENDIF

    VAR idx <- p
    VAR totalSum <- 0

    WHILE idx <= q
        totalSum <- totalSum + idx
        idx <- idx + 1
    ENDWHILE

    VAR countElements <- (q - p + 1)
    VAR meanValue <- totalSum * 1.0 / countElements
    VAR nearestInteger <- (meanValue + 0.5) - ((meanValue + 0.5) MOD 1)
    VAR binString <- ""
    VAR tempVal <- nearestInteger

    IF tempVal = 0
        binString <- "0"
    ELSE
        WHILE tempVal > 0
            binString <- ((tempVal MOD 2) + binString)
            tempVal <- tempVal \ 2
        ENDWHILE
    ENDIF

    RETURN binString
END FUNCTION
```