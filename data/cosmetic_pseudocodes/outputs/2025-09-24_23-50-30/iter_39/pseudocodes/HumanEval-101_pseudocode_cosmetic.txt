```
FUNCTION words_string(foo)
    IF NOT (foo <> "")
        RETURN []
    END IF

    SET cache TO []

    SET i TO 0
    WHILE i < LENGTH(foo)
        SET sym TO foo[i]
        IF sym = ','
            cache.APPEND(" ")
        ELSE
            cache.APPEND(sym)
        END IF
        SET i TO i + 1
    END WHILE

    SET res TO ""
    FOR idx FROM 0 TO LENGTH(cache) - 1
        res = res + cache[idx]
    END FOR

    RETURN SPLIT(res, WHITESPACE)
END FUNCTION
```