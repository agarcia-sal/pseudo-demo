```
FUNCTION sort_array(psi)
	IF 0 = LENGTH OF psi THEN
		RETURN []
	END IF
	SET omega TO psi[0] + psi[LENGTH OF psi - 1]
	SET kappa TO (omega MOD 2 = 0)
	RETURN psi SORTED BY (kappa ? DESCENDING : ASCENDING)
END FUNCTION
```