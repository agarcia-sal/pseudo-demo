```
FUNCTION sum_product(array_values)
    FUNCTION accumulator(state, index)
        IF index == LENGTH(array_values)
            RETURN state
        SET partial_sum TO state[0] + array_values[index]
        SET partial_product TO state[1] * array_values[index]
        RETURN accumulator([partial_sum, partial_product], index + 1)
    END FUNCTION
    SET initial_state TO [0, 1]
    SET final_state TO accumulator(initial_state, 0)
    RETURN (final_state[0], final_state[1])
END FUNCTION
```