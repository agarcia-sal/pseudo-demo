```
FUNCTION flip_case(beta)
    FUNCTION aux(alpha, omega)
        IF LENGTH(alpha) = 0 THEN
            RETURN omega
        ELSE
            VAR delta <- HEAD(alpha)
            VAR epsilon <- TAIL(alpha)
            VAR zeta <- (delta >= 'a' AND delta <= 'z') ? TO_UPPER(delta) : ((delta >= 'A' AND delta <= 'Z') ? TO_LOWER(delta) : delta)
            RETURN aux(epsilon, omega + zeta)
        END IF
    END FUNCTION
    RETURN aux(beta, "")
END FUNCTION
```