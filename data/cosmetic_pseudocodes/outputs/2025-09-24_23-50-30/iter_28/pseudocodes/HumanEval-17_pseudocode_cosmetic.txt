```
FUNCTION parse_music(alpha_input)
    PROCEDURE aux(current_list, remaining_list, accumulator)
        IF remaining_list IS EMPTY THEN
            RETURN accumulator
        ELSE
            SET first_elem TO HEAD of remaining_list
            SET tail_elems TO TAIL of remaining_list
            IF first_elem IS NOT EQUAL TO EMPTY STRING THEN
                SET updated_acc TO APPEND(accumulator, gamma_map[first_elem])
                RETURN aux(current_list, tail_elems, updated_acc)
            ELSE
                RETURN aux(current_list, tail_elems, accumulator)
            END IF
        END IF
    END PROCEDURE

    SET gamma_map TO NEW HASH MAP
    ASSIGN gamma_map['.|' ] = 1
    ASSIGN gamma_map['o'] = 4
    ASSIGN gamma_map['o|'] = 2

    SET tokens TO NEW SEQUENCE FROM SPLIT(alpha_input, " ")
    RETURN aux(tokens, tokens, NEW EMPTY ARRAY)
END FUNCTION
```