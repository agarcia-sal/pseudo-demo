```
FUNCTION fib4(integer_n)
    DEFINE helper(queue_values, current_index)
        IF current_index == integer_n THEN
            RETURN queue_values[3]
        END IF

        SET computed_value TO queue_values[0] + queue_values[1] + queue_values[2] + queue_values[3]

        SET updated_queue TO [queue_values[1], queue_values[2], queue_values[3], computed_value]

        RETURN helper(updated_queue, current_index + 1)
    END DEFINE

    IF integer_n < 4 THEN
        SELECT
            CASE integer_n == 0: RETURN 0
            CASE integer_n == 1: RETURN 0
            CASE integer_n == 2: RETURN 2
            CASE integer_n == 3: RETURN 0
        END SELECT
    END IF

    RETURN helper([0, 0, 2, 0], 4)
END FUNCTION
```