```
FUNCTION count_up_to(limit)
  SET collected_primes TO empty queue
  SET current_num TO 2
  WHILE current_num < limit DO
    CALL check_prime(current_num, 2) RETURNING prime_flag
    IF prime_flag THEN
      ENQUEUE current_num INTO collected_primes
    END IF
    SET current_num TO current_num + 1
  END WHILE

  FUNCTION check_prime(target, divisor)
    IF divisor * divisor > target THEN
      RETURN true
    ELSE IF target MOD divisor == 0 THEN
      RETURN false
    ELSE
      RETURN check_prime(target, divisor + 1)
    END IF
  END FUNCTION

  RETURN collected_primes AS list
END FUNCTION
```