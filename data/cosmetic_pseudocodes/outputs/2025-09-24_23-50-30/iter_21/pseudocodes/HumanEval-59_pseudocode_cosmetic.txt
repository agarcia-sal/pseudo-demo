```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF NOT (k GREATER THAN OR EQUAL TO 2)
            RETURN False
        FUNCTION check_divisor(divisor)
            IF divisor EQUALS k
                RETURN True
            IF k MODULO divisor EQUALS 0
                RETURN False
            RETURN check_divisor(divisor + 1)
        END FUNCTION
        RETURN check_divisor(2)
    END FUNCTION

    SET candidate TO 2
    SET max_factor TO 1
    WHILE candidate LESS THAN OR EQUAL TO n
        IF n MODULO candidate EQUALS 0
            IF is_prime(candidate) IS True
                max_factor = (max_factor > candidate) ? max_factor : candidate
        candidate = candidate + 1
    END WHILE
    RETURN max_factor
END FUNCTION
```