```
FUNCTION parse_music(music_string)
    DECLARE mapping_dict AS DICTIONARY
    mapping_dict['o']  = 4
    mapping_dict['o|'] = 2
    mapping_dict['.|'] = 1

    DECLARE result_list AS LIST
    DECLARE tokens_queue AS QUEUE
    tokens_queue = QUEUE()
    FOR char_array IN SPLIT(music_string, ' ') DO
        IF LENGTH(char_array) > 0 THEN
            ENQUEUE tokens_queue WITH char_array
        ENDIF
    ENDFOR

    DECLARE current_token AS STRING
    WHILE NOT IS_EMPTY(tokens_queue) DO
        current_token = DEQUEUE(tokens_queue)
        APPEND mapping_dict[current_token] TO result_list
    ENDWHILE

    RETURN result_list
END FUNCTION
```