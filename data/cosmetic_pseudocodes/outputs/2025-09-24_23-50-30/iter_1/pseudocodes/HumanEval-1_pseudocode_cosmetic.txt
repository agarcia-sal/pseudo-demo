```
FUNCTION separate_paren_groups(string_of_parentheses)
    INITIALIZE list_of_results AS []
    INITIALIZE list_current_string AS []
    INITIALIZE integer_current_depth AS 0

    FOR index FROM 0 TO LENGTH(string_of_parentheses) - 1
        SET character TO string_of_parentheses[index]

        SWITCH character
            CASE '(':
                integer_current_depth = integer_current_depth + 1
                list_current_string.ADD(character)
                BREAK

            CASE ')':
                integer_current_depth = integer_current_depth - 1
                list_current_string.ADD(character)

                IF integer_current_depth == 0 THEN
                    SET group AS CONCATENATE(list_current_string)
                    list_of_results.ADD(group)
                    list_current_string = []
                END IF
                BREAK

            DEFAULT:
                CONTINUE
        END SWITCH
    END FOR

    RETURN list_of_results
END FUNCTION
```