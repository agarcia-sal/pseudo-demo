```
FUNCTION encode(message)
    DEFINE vowels AS "aeiouAEIOU"
    INITIALIZE vowels_replace AS EMPTY DICTIONARY
    FOR EACH char IN vowels DO
        SET ascii_val TO ASCII OF char
        SET vowels_replace[char] TO CHARACTER CORRESPONDING TO (ascii_val + 2)
    END FOR
    INITIALIZE swapped_message AS EMPTY STRING
    FOR EACH letter IN message DO
        IF letter IS UPPERCASE THEN
            APPEND LOWERCASE OF letter TO swapped_message
        ELSE IF letter IS LOWERCASE THEN
            APPEND UPPERCASE OF letter TO swapped_message
        ELSE
            APPEND letter TO swapped_message
        END IF
    END FOR
    INITIALIZE result AS EMPTY STRING
    FOR EACH ch IN swapped_message DO
        IF ch EXISTS IN vowels_replace KEYS THEN
            APPEND vowels_replace[ch] TO result
        ELSE
            APPEND ch TO result
        END IF
    END FOR
    RETURN result
END FUNCTION
```