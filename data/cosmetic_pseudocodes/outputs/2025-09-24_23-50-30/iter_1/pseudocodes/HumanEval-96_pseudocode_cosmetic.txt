```
FUNCTION count_up_to(n)
    INITIALIZE primes AS []
    SET current TO 2
    WHILE current < n
        SET prime_flag TO true
        SET divisor TO 2
        WHILE divisor < current AND prime_flag
            IF (current % divisor) == 0 THEN
                prime_flag = false
            END IF
            divisor = divisor + 1
        END WHILE
        IF prime_flag THEN
            INSERT current INTO primes AT END
        END IF
        current = current + 1
    END WHILE
    RETURN primes
END FUNCTION
```