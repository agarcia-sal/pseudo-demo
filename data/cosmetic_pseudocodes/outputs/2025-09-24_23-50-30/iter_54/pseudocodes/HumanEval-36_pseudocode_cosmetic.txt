```
FUNCTION fizz_buzz(integer_n)
  DEFINE FUNCTION extract_multiples(curr_idx, limit, acc_list)
    IF NOT (curr_idx < limit) THEN RETURN acc_list END IF
    IF NOT ((curr_idx MOD 11) AND (curr_idx MOD 13)) = 0 THEN
      SET new_list TO acc_list + [curr_idx]
    ELSE
      SET new_list TO acc_list
    END IF
    RETURN extract_multiples(curr_idx + 1, limit, new_list)
  END FUNCTION

  DEFINE FUNCTION join_numbers(num_list, acc_str)
    IF num_list = [] THEN RETURN acc_str END IF
    RETURN join_numbers(tail(num_list), acc_str + TO_STRING(head(num_list)))
  END FUNCTION

  DEFINE FUNCTION count_char_7(str, idx, acc_count)
    IF NOT (idx < LENGTH(str)) THEN RETURN acc_count END IF
    SET increment TO 0
    IF str[idx] = '7' THEN SET increment TO 1 END IF
    RETURN count_char_7(str, idx + 1, acc_count + increment)
  END FUNCTION

  SET multiples_list TO extract_multiples(0, integer_n, [])
  SET merged_string TO join_numbers(multiples_list, "")
  RETURN count_char_7(merged_string, 0, 0)
END FUNCTION
```