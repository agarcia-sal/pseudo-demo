```
FUNCTION count_up_to(m)
    SET result TO []
    SET index TO 2
    WHILE index < m
        SET prime_flag TO 1 = 1
        SET divisor TO 2
        WHILE divisor < index AND prime_flag
            IF 0 = index MOD divisor
                SET prime_flag TO NOT (0 = 1)
                SET divisor TO index
            END IF
            SET divisor TO divisor + 1
        END WHILE
        IF prime_flag
            SET result TO result + [index]
        END IF
        SET index TO index + 1
    END WHILE
    RETURN result
END FUNCTION
```