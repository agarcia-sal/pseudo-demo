```
FUNCTION tri(integer_n)
    FUNCTION recur(inner_i, acc)
        IF inner_i GREATER integer_n
            RETURN acc
        ELSE
            IF (inner_i MODULO 2) NOT EQUAL 1
                SET next_val TO (inner_i DIVIDED BY 2) PLUS 1
            ELSE
                SET idx1 TO inner_i MINUS 1
                SET idx2 TO inner_i MINUS 2
                SET next_val TO (acc AT INDEX idx1) PLUS (acc AT INDEX idx2) PLUS ((inner_i PLUS 3) DIVIDED BY 2)
            END IF
            RETURN recur(inner_i PLUS 1, acc CONCAT [next_val])
        END IF
    END FUNCTION

    IF integer_n NOT GREATER 0
        RETURN [1]
    ELSE
        RETURN recur(2, [1, 3])
    END IF
END FUNCTION
```