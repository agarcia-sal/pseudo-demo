```
FUNCTION filter_by_substring(collection, key)
    DEFINE helper(index, accumulated)
        IF index >= LENGTH(collection) THEN
            RETURN accumulated
        ELSE
            IF POSITION(key, collection[index]) >= 0 THEN
                RETURN helper(index + 1, accumulated + [collection[index]])
            ELSE
                RETURN helper(index + 1, accumulated)
            END IF
        END IF
    END DEFINE
    RETURN helper(0, [])
END FUNCTION
```