```
FUNCTION fib4(integer_n)
    SET buffer TO LIST OF [0, 0, 2, 0]
    
    SWITCH
        CASE NOT (integer_n >= 4):
            RETURN buffer AT INDEX integer_n
    END SWITCH

    SET index TO 4
    WHILE index <= integer_n DO
        SET candidate TO buffer AT INDEX 0 + buffer AT INDEX 1 + buffer AT INDEX 2 + buffer AT INDEX 3
        APPEND candidate TO buffer
        DELETE ELEMENT AT INDEX 0 FROM buffer
        SET index TO index + 1
    END WHILE

    RETURN buffer AT INDEX (LENGTH OF buffer - 1)
END FUNCTION
```