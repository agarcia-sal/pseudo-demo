```
FUNCTION words_string(text)
    IF NOT (text IS EMPTY) THEN
        SET buffer TO array()
        FOR idx FROM 0 TO LENGTH(text) - 1 DO
            SET ch TO text[idx]
            SET to_append TO ch
            SWITCH (ch)
                CASE ',': 
                    to_append = ' '
            END SWITCH
            buffer.APPEND(to_append)
        END FOR
        SET combined TO ''
        FOR element IN buffer DO combined = combined + element END FOR
        RETURN combined SPLIT BY WHITESPACE
    END IF
    RETURN array()
END FUNCTION
```