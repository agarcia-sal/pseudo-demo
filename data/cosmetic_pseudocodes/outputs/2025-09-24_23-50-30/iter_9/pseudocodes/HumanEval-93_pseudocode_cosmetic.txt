```
FUNCTION encode(text)
    DEFINE vowelSet AS LIST CONTAINING 'a','e','i','o','u','A','E','I','O','U'
    DEFINE substitutionMap AS EMPTY DICTIONARY
    FOR EACH item IN vowelSet DO
        SET substitutionMap[item] TO CHARACTER(ASCII(item) + 2)
    END FOR
    SET swappedText TO EMPTY STRING
    FOR eachChar IN text DO
        IF ASCII(eachChar) >= ASCII('a') AND ASCII(eachChar) <= ASCII('z') THEN
            APPEND TO swappedText CHARACTER(ASCII('z') - (ASCII(eachChar) - ASCII('a')))
        ELSE IF ASCII(eachChar) >= ASCII('A') AND ASCII(eachChar) <= ASCII('Z') THEN
            APPEND TO swappedText CHARACTER(ASCII('Z') - (ASCII(eachChar) - ASCII('A')))
        ELSE
            APPEND TO swappedText eachChar
        END IF
    END FOR
    DEFINE output AS EMPTY STRING
    FOR eachElement IN swappedText DO
        SWITCH eachElement
            CASE substitutionMap CONTAINS eachElement:
                APPEND substitutionMap[eachElement] TO output
                BREAK
            DEFAULT:
                APPEND eachElement TO output
        END SWITCH
    END FOR
    RETURN output
END FUNCTION
```