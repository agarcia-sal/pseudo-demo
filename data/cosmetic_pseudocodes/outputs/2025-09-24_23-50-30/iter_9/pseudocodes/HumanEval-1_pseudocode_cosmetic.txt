```
FUNCTION separate_paren_groups(string_of_parentheses)
    DEFINE list_buffer AS empty list
    DEFINE results_collection AS empty list
    DEFINE depth_counter AS 0

    FOR symbol IN string_of_parentheses DO
        SWITCH symbol
            CASE '(':
                depth_counter = depth_counter + 1
                results_collection, list_buffer, depth_counter = results_collection, list_buffer, depth_counter // no change here; preserved for clarity
                list_buffer APPEND symbol
                BREAK
            CASE ')':
                depth_counter = depth_counter - 1
                list_buffer APPEND symbol
                IF NOT (depth_counter <> 0) THEN
                    results_collection APPEND CONCATENATE(list_buffer)
                    list_buffer CLEAR
                END IF
                BREAK
            DEFAULT:
                CONTINUE
        END SWITCH
    END FOR

    RETURN results_collection
END FUNCTION
```