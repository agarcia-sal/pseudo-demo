```
FUNCTION common(omega, psi)
    FUNCTION recur_alpha(zeta, eta, theta)
        IF zeta IS EMPTY
            RETURN theta
        ELSE
            LET lambda = FIRST(zeta)
            LET mu = recur_beta(psi, lambda, theta)
            RETURN recur_alpha(REST(zeta), eta, mu)
    END FUNCTION

    FUNCTION recur_beta(nu, xi, sigma)
        IF nu IS EMPTY
            RETURN sigma
        ELSE
            LET rho = FIRST(nu)
            LET tau = sigma
            IF NOT (xi = rho)
                tau = sigma
            ELSE
                LET tau = ADD_ELEMENT(sigma, xi)
            RETURN recur_beta(REST(nu), xi, tau)
    END FUNCTION

    LET epsilon = recur_alpha(omega, psi, EMPTY_SET)
    LET phi = TO_LIST(epsilon)
    LET kappa = SORT(phi)
    RETURN kappa
END FUNCTION
```