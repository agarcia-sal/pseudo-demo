```
FUNCTION separate_paren_groups(text_input)
  DEFINE FUNCTION process(index_acc, dep_acc, curr_acc, res_acc)
    IF index_acc = LENGTH(text_input) THEN RETURN res_acc END IF
    DEFINE char_temp = text_input[index_acc]
    IF NOT (char_temp = '(' OR char_temp = ')') THEN RETURN process(index_acc + 1, dep_acc, curr_acc, res_acc) END IF
    IF char_temp = '(' THEN
      RETURN process(index_acc + 1, dep_acc + 1, curr_acc + [char_temp], res_acc)
    ELSE
      DEFINE new_dep = dep_acc - 1
      DEFINE new_curr = curr_acc + [char_temp]
      IF new_dep = 0 THEN
        RETURN process(index_acc + 1, new_dep, [], res_acc + [CONCAT(new_curr)])
      ELSE
        RETURN process(index_acc + 1, new_dep, new_curr, res_acc)
      END IF
    END IF
  END FUNCTION
  RETURN process(0, 0, [], [])
END FUNCTION
```