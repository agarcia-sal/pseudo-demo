```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime(y)
        FUNCTION check_divisor(z)
            IF z GREATER THAN y MINUS 1
                RETURN True
            IF y MODULO z EQUALS 0
                RETURN False
            RETURN check_divisor(z PLUS 1)
        END FUNCTION
        IF y LESS THAN 2
            RETURN False
        RETURN check_divisor(2)
    END FUNCTION

    SET result TO 1
    FUNCTION find_factor(w)
        IF w GREATER THAN x
            RETURN result
        IF (x MODULO w EQUALS 0) AND is_prime(w)
            IF w GREATER THAN result
                SET result TO w
        RETURN find_factor(w PLUS 1)
    END FUNCTION

    RETURN find_factor(2)
END FUNCTION
```