```
FUNCTION hex_key(input_str)
    SET prime_chars TO ('B', 'D', '3', '7', '2', '5')
    FUNCTION count_primes(current_idx, count_acc)
        IF current_idx EQUALS LENGTH OF input_str THEN RETURN count_acc
        SWITCH input_str[current_idx]
            CASE prime_chars[0]:
            CASE prime_chars[1]:
            CASE prime_chars[2]:
            CASE prime_chars[3]:
            CASE prime_chars[4]:
            CASE prime_chars[5]:
                RETURN count_primes(current_idx + 1, count_acc + 1)
            DEFAULT:
                RETURN count_primes(current_idx + 1, count_acc)
        END SWITCH
    END FUNCTION
    RETURN count_primes(0, 0)
END FUNCTION
```