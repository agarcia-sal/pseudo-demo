```
FUNCTION parse_music(music_string)
    DECLARE result_array AS EMPTY ARRAY
    DECLARE duration_lookup AS DICTIONARY
    SET duration_lookup['o'] = 4
    SET duration_lookup['o|'] = 2
    SET duration_lookup['.|'] = 1

    DECLARE tokens AS LIST
    SET tokens = []
    DECLARE temp_string AS STRING
    SET temp_string = ''
    FOR EACH character IN music_string + ' '
        IF character != ' '
            SET temp_string = temp_string + character
        ELSE
            IF temp_string != ''
                APPEND temp_string TO tokens
                SET temp_string = ''
            END IF
        END IF
    END FOR

    DECLARE index AS INTEGER
    SET index = 0
    WHILE index < LENGTH OF tokens
        DECLARE current_token AS STRING
        SET current_token = tokens[index]
        IF current_token IN duration_lookup
            APPEND duration_lookup[current_token] TO result_array
        END IF
        SET index = index + 1
    END WHILE

    RETURN result_array
END FUNCTION
```