```
FUNCTION largest_prime_factor(n)
    SET result TO 1
    SET candidate TO 2
    LOOP WHILE candidate <= n
        IF (n MOD candidate = 0) THEN
            IF (FUNCTION prime_check(x)
                    IF x < 2 THEN RETURN False
                    SET divisor TO 2
                    WHILE divisor < x
                        IF (x MOD divisor = 0) THEN RETURN False
                        SET divisor TO divisor + 1
                    END WHILE
                    RETURN True
                END FUNCTION)(candidate) THEN
                IF candidate > result THEN result = candidate
            END IF
        END IF
        SET candidate TO candidate + 1
    END LOOP
    RETURN result
END FUNCTION
```