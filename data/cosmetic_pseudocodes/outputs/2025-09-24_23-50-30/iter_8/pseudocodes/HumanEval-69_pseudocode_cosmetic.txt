```
FUNCTION search(parameters)
  SET count_map TO array OF 0s WITH SIZE (1 + maximum_element(parameters))
  FOR i FROM 0 TO LENGTH(parameters) - 1 DO count_map[parameters[i]] = count_map[parameters[i]] + 1
  DECLARE result = -1
  SET j TO 1
  WHILE j < LENGTH(count_map) DO
    IF NOT (count_map[j] < j) THEN result = j
    j = j + 1
  END WHILE
  RETURN result
END FUNCTION
```