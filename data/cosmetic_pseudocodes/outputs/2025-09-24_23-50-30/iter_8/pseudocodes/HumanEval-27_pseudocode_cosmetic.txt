```
FUNCTION flip_case(input_string)
    SET output_list TO EMPTY LIST
    FOR index FROM 0 TO LENGTH(input_string) - 1
        SET char TO input_string AT index
        IF char IS UPPERCASE THEN
            APPEND TO output_list THE LOWERCASE OF char
        ELSE IF char IS LOWERCASE THEN
            APPEND TO output_list THE UPPERCASE OF char
        ELSE
            APPEND TO output_list char
        END IF
    END FOR
    SET result_string TO JOIN ALL ELEMENTS OF output_list
    RETURN result_string
END FUNCTION
```