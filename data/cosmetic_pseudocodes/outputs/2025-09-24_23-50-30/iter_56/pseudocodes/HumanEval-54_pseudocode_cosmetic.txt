```
FUNCTION same_chars(ptn_zero)
  FUNCTION helper(pgm_one)
    VAR zxy_a = {};
    VAR zxy_b = {};
    VAR i_a = 0;
    WHILE i_a < ptn_zero.LENGTH DO
      zxy_a[ptn_zero[i_a]] = TRUE;
      i_a = i_a + 1;
    END WHILE;
    VAR i_b = 0;
    WHILE i_b < pgm_one.LENGTH DO
      zxy_b[pgm_one[i_b]] = TRUE;
      i_b = i_b + 1;
    END WHILE;
    VAR a_keys = [];
    FOR key_x IN zxy_a KEYS DO
      a_keys.APPEND(key_x);
    END FOR;
    VAR b_keys = [];
    FOR key_y IN zxy_b KEYS DO
      b_keys.APPEND(key_y);
    END FOR;
    IF a_keys.LENGTH <> b_keys.LENGTH THEN
      RETURN FALSE;
    END IF;
    VAR idx_p = 0;
    WHILE idx_p < a_keys.LENGTH DO
      IF NOT zxy_b.CONTAINS_KEY(a_keys[idx_p]) THEN
        RETURN FALSE;
      END IF;
      idx_p = idx_p + 1;
    END WHILE;
    RETURN TRUE;
  END FUNCTION
  RETURN helper;
END FUNCTION
```