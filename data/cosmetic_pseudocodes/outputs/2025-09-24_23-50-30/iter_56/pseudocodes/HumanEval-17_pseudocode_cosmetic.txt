```
FUNCTION parse_music(input_sequence)
  DEFINE LET mapping = {'o' -> 4, 'o|' -> 2, '.|' -> 1}
  
  FUNCTION extract_notes(index, arr, acc)
    IF index >= LENGTH(arr) THEN
      RETURN acc
    ELSE
      DEFINE LET element = arr[index]
      RETURN extract_notes(index + 1, arr, IF element != "" THEN acc + [mapping[element]] ELSE acc)
    ENDIF
  END FUNCTION

  RETURN extract_notes(0, SPLIT(input_sequence, " "), [])
END FUNCTION
```