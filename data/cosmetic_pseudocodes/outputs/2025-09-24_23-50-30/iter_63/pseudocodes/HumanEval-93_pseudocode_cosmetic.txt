```
FUNCTION encode(stringInput)
   LET swapCaseVowels = "aeiouAEIOU" 
   LET shiftByTwoAsc = MAP eachElem IN swapCaseVowels TO CHAR(ASCII(eachElem) + 2)
   LET mappingDict = EMPTY DICTIONARY
   FOR idx FROM 0 TO LENGTH(swapCaseVowels) - 1 DO
       SET mappingDict[swapCaseVowels[idx]] = shiftByTwoAsc[idx]
   END FOR
   LET toggledString = EMPTY STRING
   FOR charIndex FROM 1 TO LENGTH(stringInput) DO
       LET currentChar = stringInput[charIndex]
       IF currentChar IS UPPERCASE THEN
           SET toggledChar = TO_LOWERCASE(currentChar)
       ELSE IF currentChar IS LOWERCASE THEN
           SET toggledChar = TO_UPPERCASE(currentChar)
       ELSE
           SET toggledChar = currentChar
       END IF
       APPEND toggledChar TO toggledString
   END FOR
   LET resultString = EMPTY STRING
   FOR ix FROM 1 TO LENGTH(toggledString) DO
       LET ch = toggledString[ix]
       LET substitute = mappingDict.CONTAINS(ch) ? mappingDict[ch] : ch
       APPEND substitute TO resultString
   END FOR
   RETURN resultString
END FUNCTION
```