```
FUNCTION hex_key(string_num)
  SET prime_chars TO ['2', '3', '5', '7', 'D', 'B']
  SET count_primes TO 0
  SET pos TO 0
  WHILE pos < LENGTH(string_num)
    SWITCH true
      CASE string_num[pos] IN prime_chars:
        count_primes = count_primes + 1
        BREAK
      DEFAULT:
        BREAK
    END SWITCH
    pos = pos + 1
  END WHILE
  RETURN count_primes
END FUNCTION
```