```
FUNCTION search(list_of_integers)
  SET counter_array TO array_filled_with(0, max(list_of_integers) + 1)
  
  DEFINE process_element(idx)
    IF idx EQUALS LENGTH OF list_of_integers THEN RETURN
    SET current_val TO list_of_integers AT idx
    SET counter_array AT current_val TO counter_array AT current_val PLUS 1
    CALL process_element(idx PLUS 1)
  END DEFINE
  
  CALL process_element(0)
  
  SET result_accumulator TO -1
  
  FOR index_var FROM 1 TO LENGTH OF counter_array MINUS 1
    SWITCH true
      CASE counter_array AT index_var GREATER THAN OR EQUAL TO index_var:
        SET result_accumulator TO index_var
      DEFAULT:
        NOOP
    END SWITCH
  END FOR
  
  RETURN result_accumulator
END FUNCTION
```