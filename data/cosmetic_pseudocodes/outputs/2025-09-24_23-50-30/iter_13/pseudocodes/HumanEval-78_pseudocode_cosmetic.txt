```
FUNCTION hex_key(string_num)
    DECLARE prime_characters AS SET = {'B', 'D', '3', '7', '2', '5'}
    DECLARE count_primes AS INTEGER = 0
    DECLARE position AS INTEGER = 0
    WHILE position < LENGTH(string_num)
        IF prime_characters CONTAINS string_num[position] THEN
            count_primes = count_primes + 1
        END IF
        position = position + 1
    END WHILE
    RETURN count_primes
END FUNCTION
```