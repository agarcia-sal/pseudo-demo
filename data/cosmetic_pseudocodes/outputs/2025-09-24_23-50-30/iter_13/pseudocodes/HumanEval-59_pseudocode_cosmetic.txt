```
FUNCTION largest_prime_factor(number)
    FUNCTION is_prime(candidate)
        WHEN candidate < 2 DO
            RETURN False
        FOR divisor IN SEQUENCE 2 TO candidate - 1
            IF (candidate MOD divisor) = 0 THEN
                RETURN False
        RETURN True
    END FUNCTION

    SET max_factor TO 1
    FOR factor IN SEQUENCE 2 TO number
        IF (number MOD factor) = 0 THEN
            IF is_prime(factor) THEN
                IF max_factor < factor THEN
                    max_factor := factor
    RETURN max_factor
END FUNCTION
```