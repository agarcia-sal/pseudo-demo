```
FUNCTION count_up_to(limit)
    DEFINE result SET TO new dynamic array
    SET candidate TO 2
    WHILE candidate < limit DO
        SET prime_flag TO true
        SET divisor TO 2
        WHILE divisor < candidate DO
            IF (candidate MOD divisor) = 0 THEN
                prime_flag := false
                EXIT inner loop
            END IF
            divisor := divisor + 1
        END WHILE
        IF prime_flag THEN
            APPEND candidate TO result
        END IF
        candidate := candidate + 1
    END WHILE
    RETURN result
END FUNCTION
```