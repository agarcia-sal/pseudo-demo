```
FUNCTION separate_paren_groups(string_of_parentheses)
    INITIALIZE output_collection AS sequence()
    INITIALIZE buffer_container AS sequence()
    INITIALIZE depth_counter TO 0

    INDEX := 0
    WHILE INDEX < LENGTH(string_of_parentheses)
        current_ch := string_of_parentheses[INDEX]

        SELECT current_ch
            CASE '(':
                depth_counter := depth_counter + 1
                INSERT current_ch AT END OF buffer_container
            CASE ')':
                depth_counter := depth_counter + (-1)
                INSERT current_ch AT END OF buffer_container

                IF 0 = depth_counter THEN
                    ADD JOIN(buffer_container) TO output_collection
                    buffer_container := sequence()
                END IF
        END SELECT

        INDEX := INDEX + 1
    END WHILE

    RETURN output_collection
END FUNCTION
```