```
FUNCTION parse_music(music_string)
    DECLARE duration_for_note AS MAP
    ASSIGN duration_for_note TO EMPTY MAP
    STORE 4 INTO duration_for_note['o']
    STORE 2 INTO duration_for_note['o|']
    STORE 1 INTO duration_for_note['.|']
    
    DECLARE tokens_list AS LIST
    ASSIGN tokens_list TO FILTER split_tokens WHERE split_tokens IS EACH s IN SPLIT music_string BY ' ' AND s â‰  ''
    
    DECLARE result_list AS LIST
    ASSIGN result_list TO EMPTY LIST
    
    FOR EACH token IN tokens_list DO
        APPEND duration_for_note[token] TO result_list
    END FOR
    
    RETURN result_list
END FUNCTION
```