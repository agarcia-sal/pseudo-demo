```
FUNCTION is_sorted(sequence)
    DECLARE frequency_map AS empty map
    FOR element IN sequence DO
        IF element NOT IN frequency_map THEN
            frequency_map[element] := 0
        END IF
        frequency_map[element] := frequency_map[element] + 1
    END FOR

    FOR key IN frequency_map KEYS DO
        IF frequency_map[key] > 2 THEN
            RETURN False
        END IF
    END FOR

    DECLARE index AS 2
    WHILE index <= LENGTH(sequence) DO
        IF sequence[index] < sequence[index - 1] THEN
            RETURN False
        END IF
        index := index + 1
    END WHILE

    RETURN True
END FUNCTION
```