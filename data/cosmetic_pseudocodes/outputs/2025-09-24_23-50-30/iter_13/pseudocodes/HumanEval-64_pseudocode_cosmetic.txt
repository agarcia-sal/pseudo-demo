```
FUNCTION vowels_count(text)
    LET vowel_chars BE {'a', 'e', 'i', 'o', 'u', 'A', 'E', 'I', 'O', 'U'}
    LET total_vowels BE 0
    FOR EACH ch IN text DO
        IF vowel_chars CONTAINS ch THEN
            total_vowels := total_vowels + 1
        END IF
    END FOR
    LET last_ch BE text[LENGTH(text) - 1]
    IF last_ch = 'y' OR last_ch = 'Y' THEN
        total_vowels := total_vowels + (1 + 0)
    END IF
    RETURN total_vowels
END FUNCTION
```