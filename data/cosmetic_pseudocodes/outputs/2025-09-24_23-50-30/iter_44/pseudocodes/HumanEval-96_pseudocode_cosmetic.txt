```
FUNCTION count_up_to(q)
    INITIALIZE result AS new list()
    
    FUNCTION check_prime(x, y)
        IF y * y > x THEN
            RETURN true
        ELSEIF x MOD y = 0 THEN
            RETURN false
        ELSE
            RETURN check_prime(x, y + 1)
        END IF
    END FUNCTION

    SET k TO 2
    WHILE k < q
        IF check_prime(k, 2) = true THEN
            APPEND k TO result
        END IF
        SET k TO k + 1
    END WHILE

    RETURN result
END FUNCTION
```