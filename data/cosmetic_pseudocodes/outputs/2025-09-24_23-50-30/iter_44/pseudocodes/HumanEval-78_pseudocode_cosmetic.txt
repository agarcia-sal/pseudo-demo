```
FUNCTION hex_key(alpha_str)
    DECLARE prime_chars AS SET CONTAINING '2', '3', '5', '7', 'B', 'D'
    DEFINE RECURSIVE FUNCTION count_primes(pos, accum)
        IF NOT (pos < LENGTH OF alpha_str) THEN
            RETURN accum
        ELSE
            RETURN count_primes(
                pos + 1,
                accum + (1 * (alpha_str[pos] IN prime_chars))
            )
    END FUNCTION
    RETURN count_primes(0, 0)
END FUNCTION
```