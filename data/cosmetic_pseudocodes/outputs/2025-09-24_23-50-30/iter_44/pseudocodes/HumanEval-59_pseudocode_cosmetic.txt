```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime_num(y)
        IF NOT (y >= 2)
            RETURN False
        SET a TO 2
        WHILE a < y
            IF (y MOD a) = 0
                RETURN False
            SET a TO a + 1
        END WHILE
        RETURN True
    END FUNCTION

    SET max_val TO 1
    SET p TO 2
    WHILE p <= x
        IF ((x MOD p) = 0) AND (is_prime_num(p))
            SET max_val TO (max_val > p) * max_val + (max_val <= p) * p
        SET p TO p + 1
    END WHILE
    RETURN max_val
END FUNCTION
```