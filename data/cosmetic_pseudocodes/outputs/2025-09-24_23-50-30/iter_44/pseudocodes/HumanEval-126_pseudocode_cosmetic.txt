```
FUNCTION is_sorted(seq_elements)
    LET frequency_map = map FROM seq_elements TO 0

    FUNCTION increment_frequency(index)
        IF index >= LENGTH(seq_elements)
            RETURN
        LET curr_value = seq_elements[index]
        frequency_map[curr_value] = frequency_map[curr_value] + 1
        increment_frequency(index + 1)
    END FUNCTION

    increment_frequency(0)

    FOR EACH elem IN seq_elements
        IF NOT (frequency_map[elem] <= 2)
            RETURN False

    FUNCTION check_order(pos)
        IF pos >= LENGTH(seq_elements)
            RETURN True
        IF NOT (seq_elements[pos - 1] <= seq_elements[pos])
            RETURN False
        RETURN check_order(pos + 1)
    END FUNCTION

    RETURN check_order(1)
END FUNCTION
```