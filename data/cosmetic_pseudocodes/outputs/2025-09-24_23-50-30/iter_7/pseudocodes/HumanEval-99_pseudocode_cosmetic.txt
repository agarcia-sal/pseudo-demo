```
FUNCTION closest_integer(param)
  
  DEFINE function count_dot(str, idx, acc) RETURNS int
    IF idx < 0 THEN RETURN acc
    IF substring(str, idx, idx) = '.'
      RETURN count_dot(str, idx - 1, acc + 1)
    ELSE
      RETURN count_dot(str, idx - 1, acc)
  
  DEFINE function trim_trailing_zeros(s)
    IF substring(s, length(s), length(s)) â‰  '0' THEN RETURN s
    RETURN trim_trailing_zeros(substring(s, 1, length(s) - 1))

  LET dot_qty = count_dot(param, length(param), 0)

  LET w = param
  EXECUTE
    IF dot_qty = 1
      LET w = trim_trailing_zeros(w)
  
  LET r = FLOAT(w)

  DEFINE function ends_with_dot_five(str)
    IF length(str) < 2 THEN RETURN FALSE
    RETURN substring(str, length(str) - 1, length(str)) = '.5'

  IF ends_with_dot_five(w)
    IF r > 0 THEN
      LET answer = ceil(r)
    ELSE
      LET answer = floor(r)
  ELSE
    LET answer = IF length(w) > 0 THEN ROUND(r) ELSE 0

  RETURN answer
END FUNCTION
```