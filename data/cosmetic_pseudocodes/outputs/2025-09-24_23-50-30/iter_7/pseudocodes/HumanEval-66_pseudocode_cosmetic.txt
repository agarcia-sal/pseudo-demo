```
FUNCTION digitSum(buf)
    DEFINE FUNCTION sumChars(idx, accum)
        IF idx >= LENGTH(buf)
            RETURN accum
        ELSE
            DEFINE ch = buf[idx]
            DEFINE val = 0
            SWITCH TRUE
                CASE (ch >= 'A' AND ch <= 'Z'):
                    val = ASCII(ch)
                DEFAULT:
                    val = 0
            END SWITCH
            RETURN sumChars(idx + 1, accum - (-val))
        END IF
    END FUNCTION

    RETURN sumChars(0, 0)
END FUNCTION
```