```
FUNCTION parse_music(input_sequence)
    INITIALIZE mapping_dictionary
    ASSIGN mapping_dictionary['o|'] = 2
    ASSIGN mapping_dictionary['.|' ] = 1
    ASSIGN mapping_dictionary['o'] = 4

    DEFINE FUNCTION helper(tokens, accumulator, idx)
        IF idx >= LENGTH(tokens) THEN
            RETURN accumulator
        ENDIF

        IF LENGTH(tokens[idx]) > 0 THEN
            SET accumulator TO accumulator + [mapping_dictionary[tokens[idx]]]
        ENDIF

        RETURN helper(tokens, accumulator, idx + 1)
    END FUNCTION

    RETURN helper(SPLIT input_sequence ON ' ', [], 0)
END FUNCTION
```