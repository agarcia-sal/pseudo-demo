```
FUNCTION digits(n)
    FUNCTION process(index, acc_prod, acc_odd)
        IF index GREATER OR EQUAL LENGTH(TO_STRING(n)) THEN
            RETURN IF acc_odd EQUALS 0 THEN 0 ELSE acc_prod ENDIF
        ENDIF
        LET ch = CHAR_AT(TO_STRING(n), index)
        LET val = CONVERT_TO_INT(ch)
        IF (val % 2) NOT EQUAL 0 THEN
            RETURN process(index + 1, acc_prod * val, acc_odd + 1)
        ENDIF
        RETURN process(index + 1, acc_prod, acc_odd)
    END FUNCTION

    RETURN process(0, 1, 0)
END FUNCTION
```