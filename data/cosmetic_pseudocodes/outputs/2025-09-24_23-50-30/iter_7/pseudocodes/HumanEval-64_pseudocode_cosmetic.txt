```
FUNCTION vowels_count(str_arg)
    LET chars_seq BE TO_LIST(str_arg)
    LET chars_in_vowel_group BE FILTER (c -> INDEX_OF(c, "aeiouAEIOU") >= 0) FROM chars_seq
    LET count_vowels BE LENGTH(chars_in_vowel_group)
    LET last_ch BE chars_seq[LENGTH(chars_seq) - 1]
    GUARD NOT (last_ch = 'y' OR last_ch = 'Y') ELSE
        SET count_vowels TO count_vowels - (- 1)
    RETURN count_vowels
END FUNCTION
```