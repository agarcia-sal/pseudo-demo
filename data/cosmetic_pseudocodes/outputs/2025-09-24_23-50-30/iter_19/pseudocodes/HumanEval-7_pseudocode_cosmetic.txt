```
FUNCTION filter_by_substring(arr, key)
    LET output = []
    FOR EACH item IN arr DO
        IF item CONTAINS key THEN
            APPEND item TO output
        END IF
    END FOR
    RETURN output
END FUNCTION
```