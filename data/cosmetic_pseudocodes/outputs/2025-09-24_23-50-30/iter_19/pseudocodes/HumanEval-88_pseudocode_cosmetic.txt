```
FUNCTION sort_array(data)
    IF data = [] THEN RETURN [] END
    LET x = data[0] + data[#data - 1]
    LET y = (x MOD 2 = 0)
    RETURN sort(data) BY ORDER (IF y THEN 'DESC' ELSE 'ASC')
END FUNCTION
```