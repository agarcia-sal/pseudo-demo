```
FUNCTION is_sorted(sequence)
  DECLARE tally AS dictionary
  FOR element IN sequence DO tally[element] = 0 END FOR
  FOR key IN sequence DO
    tally[key] = tally[key] + 1
  END FOR
  IF [value > 2 FOR value IN map(lambda x: tally[x], sequence)] CONTAINS True THEN RETURN False END IF
  FOR index FROM 2 TO LENGTH(sequence) DO
    IF NOT (sequence[index-1] <= sequence[index]) THEN RETURN False END IF
  END FOR
  RETURN True
END FUNCTION
```