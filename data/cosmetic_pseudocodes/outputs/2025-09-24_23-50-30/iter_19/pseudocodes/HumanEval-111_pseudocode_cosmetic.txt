```
FUNCTION histogram(input_text)
  frequency_map ← { }
  tokens ← input_text SPLIT BY " "
  top_frequency ← 0

  index ← 0
  WHILE index < LENGTH(tokens)
    item ← tokens[index]
    IF item ≠ ""
      occurrences ← 0
      position ← 0
      WHILE position < LENGTH(tokens)
        IF tokens[position] = item THEN occurrences ← occurrences + 1
        position ← position + 1
      END WHILE

      IF top_frequency < occurrences THEN top_frequency ← occurrences
    END IF
    index ← index + 1
  END WHILE

  IF 0 < top_frequency THEN
    index ← 0
    WHILE index < LENGTH(tokens)
      candidate ← tokens[index]
      count ← 0
      position ← 0
      WHILE position < LENGTH(tokens)
        IF tokens[position] = candidate THEN count ← count + 1
        position ← position + 1
      END WHILE

      IF count = top_frequency THEN frequency_map[candidate] ← top_frequency
      index ← index + 1
    END WHILE
  END IF

  RETURN frequency_map
END FUNCTION
```