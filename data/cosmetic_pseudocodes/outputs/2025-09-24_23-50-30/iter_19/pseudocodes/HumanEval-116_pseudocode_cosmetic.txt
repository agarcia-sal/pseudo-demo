```
FUNCTION sort_array(data)
  SET step_one TO array()
  FOR element IN data DO
    APPEND element TO step_one
  END FOR
  SET step_two TO step_one
  CALL step_two.SORT()
  DEFINE key_function(item) AS
    SET binary_string TO TO_BINARY_STRING(item)
    SET bit_count TO 0
    FOR bit_char IN SPLIT(binary_string, '') DO
      IF bit_char = '1' THEN
        SET bit_count TO bit_count + 1
      END IF
    END FOR
    RETURN bit_count
  END
  RETURN step_two.SORTED_BY(key_function)
END FUNCTION
```