```
FUNCTION vowels_count(text_value)
    ASSIGN letter_collection <- {"a","e","i","o","u","A","E","I","O","U"}
    DEFINE FUNCTION tally(letters, idx, count_acc)
        IF idx > LENGTH(letters)
            RETURN count_acc
        END IF
        ASSIGN current_char <- letters[idx]
        ASSIGN increase <- 0
        IF current_char IN letter_collection THEN increase <- 1 END IF
        RETURN tally(letters, idx + 1, count_acc + increase)
    END FUNCTION
    ASSIGN total_vowels <- tally(text_value, 1, 0)
    ASSIGN last_ch <- text_value[LENGTH(text_value)]
    SWITCH last_ch
        CASE "y":
        CASE "Y":
            ASSIGN total_vowels <- total_vowels + 1
    END SWITCH
    RETURN total_vowels
END FUNCTION
```