```
FUNCTION histogram(test_string)
    DECLARE tally_map AS new map
    DECLARE tokens AS array FROM SPLIT test_string BY " "
    DECLARE peak_count AS 0

    FOR index FROM 0 TO LENGTH(tokens) - 1
        DECLARE current_token AS tokens[index]
        IF current_token != "" THEN
            DECLARE token_frequency AS 0
            FOR checker FROM 0 TO LENGTH(tokens) - 1
                IF tokens[checker] == current_token THEN
                    token_frequency = token_frequency + 1
            IF token_frequency > peak_count THEN
                peak_count = token_frequency

    IF peak_count <= 0 THEN
        RETURN tally_map

    FOR index FROM 0 TO LENGTH(tokens) - 1
        DECLARE current_token AS tokens[index]
        DECLARE token_frequency AS 0
        FOR checker FROM 0 TO LENGTH(tokens) - 1
            IF tokens[checker] == current_token THEN
                token_frequency = token_frequency + 1
        IF token_frequency == peak_count THEN
            IF NOT HAS_KEY(tally_map, current_token) THEN
                tally_map[current_token] = peak_count

    RETURN tally_map
END FUNCTION
```