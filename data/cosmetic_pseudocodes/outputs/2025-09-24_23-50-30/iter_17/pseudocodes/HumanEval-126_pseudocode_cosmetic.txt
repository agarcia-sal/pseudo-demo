```
FUNCTION is_sorted(arr)
    INITIALIZE freq_map AS empty map
    FOR ix FROM 0 TO LENGTH(arr) - 1 DO
        IF arr[ix] IN freq_map THEN
            freq_map[arr[ix]] = freq_map[arr[ix]] + 1
        ELSE
            freq_map[arr[ix]] = 1
    FOR key IN freq_map KEYS DO
        IF freq_map[key] > 2 THEN
            RETURN False
    SET idx TO 1
    WHILE idx < LENGTH(arr) DO
        IF arr[idx - 1] > arr[idx] THEN
            RETURN False
        idx = idx + 1
    RETURN True
```