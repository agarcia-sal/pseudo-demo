```
FUNCTION largest_prime_factor(w)
	FUNCTION is_prime(x)
		IF NOT (x >= 2)
			RETURN False
		LET index = 2
		WHILE index < x
			IF x MODULO index = 0
				RETURN False
			LET index = index + 1
		END WHILE
		RETURN True
	END FUNCTION

	LET candidate = 2
	LET max_prime_factor = 1
	WHILE candidate <= w
		IF ((w MODULO candidate) = 0) AND is_prime(candidate)
			LET max_prime_factor = (max_prime_factor < candidate) ? candidate : max_prime_factor
		LET candidate = candidate + 1
	END WHILE
	RETURN max_prime_factor
END FUNCTION
```