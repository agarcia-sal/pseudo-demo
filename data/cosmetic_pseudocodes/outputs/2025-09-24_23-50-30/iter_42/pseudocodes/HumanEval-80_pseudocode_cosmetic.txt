```
FUNCTION is_happy(str_val)
	is_happy_loop: 
		WHILE TRUE
			IF 2 >= LENGTH OF str_val
				RETURN False
			ELSE
				SET pos TO 0
				WHILE pos <= LENGTH OF str_val - 3
					IF NOT ((str_val[pos] ≠ str_val[pos + 1]) AND (str_val[pos + 1] ≠ str_val[pos + 2]) AND (str_val[pos] ≠ str_val[pos + 2]))
						RETURN False
					SET pos TO pos + 1
				END WHILE
				RETURN True
			END IF
		END WHILE
END FUNCTION
```