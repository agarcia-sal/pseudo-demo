```
FUNCTION digits(m)
	return recurseDigits(TO_STRING(m), 1, 0)
	
	FUNCTION recurseDigits(seq, acc, tally)
		CASE LENGTH(seq)
			0: IF tally = 0 THEN RETURN 0 ELSE RETURN acc END IF
			ELSE
				LET head = seq[0]
				LET tail = SUBSTRING(seq, 1, LENGTH(seq) - 1)
				LET num = TO_INTEGER(head)
				RETURN (num MOD 2 = 1) 
					? recurseDigits(tail, acc * num, tally + 1) 
					: recurseDigits(tail, acc, tally)
		END CASE
	END FUNCTION
END FUNCTION
```