```
FUNCTION is_happy(motion_data)
  IF NOT (3 <= LENGTH OF motion_data) THEN RETURN False

  FUNCTION examine_loop(scan_pos, limit_pos)
    IF scan_pos > limit_pos THEN RETURN True
    SWITCH TRUE
      CASE motion_data[scan_pos] = motion_data[scan_pos + 1]:
      CASE motion_data[scan_pos + 1] = motion_data[scan_pos + 2]:
      CASE motion_data[scan_pos] = motion_data[scan_pos + 2]:
        RETURN False
    END SWITCH
    RETURN examine_loop(scan_pos + 1, limit_pos)
  END FUNCTION

  RETURN examine_loop(0, LENGTH OF motion_data - 3)
END FUNCTION
```