```
FUNCTION count_up_to(m)
    SET accumulator TO []
    DEFINE FUNCTION helper(x)
        IF x < 2 THEN
            RETURN
        ELSE
            helper(x - 1)
            SET flag TO true
            DEFINE FUNCTION check_divisor(y)
                IF y >= x THEN
                    RETURN true
                ELSE IF x MODULO y = 0 THEN
                    RETURN false
                ELSE
                    RETURN check_divisor(y + 1)
                END IF
            END FUNCTION
            SET flag TO check_divisor(2)
            SWITCH flag
                CASE true:
                    accumulator APPEND x
                DEFAULT:
            END SWITCH
        END IF
    END FUNCTION
    helper(m - 1)
    RETURN accumulator
END FUNCTION
```