```
FUNCTION median(collection)
    SET temp TO COPY collection
    SET temp TO SORT ascending temp

    SWITCH (LENGTH temp) MOD 2
        CASE 1:
            RETURN temp[(LENGTH temp) / 2]
        CASE 0:
            SET idx TO (LENGTH temp) / 2
            RETURN (temp[idx - 1] + temp[idx]) / 2.0
END FUNCTION
```