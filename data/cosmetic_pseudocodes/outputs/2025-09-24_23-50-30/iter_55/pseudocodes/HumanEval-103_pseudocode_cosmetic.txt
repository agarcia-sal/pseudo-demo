```
FUNCTION rounded_avg(x, y)
    IF NOT (y >= x) THEN
        RETURN -1
    SET cumsum TO 0
    SET iter TO x
    WHILE iter <= y DO
        SET cumsum TO cumsum + iter
        SET iter TO iter + 1
    END WHILE
    SET count TO (y - x + 1)
    SET mean_val TO (cumsum / count)
    SET nearest_int TO mean_val + 0.5 - ((mean_val + 0.5) % 1)
    IF nearest_int - mean_val > 0.5 THEN
        SET nearest_int TO nearest_int - 1
    SET bin_str TO ""
    SET num TO nearest_int
    IF num = 0 THEN
        SET bin_str TO "0"
    ELSE
        WHILE num > 0 DO
            SET rem TO num % 2
            SET bin_str TO STRING(rem) + bin_str
            SET num TO num DIV 2
        END WHILE
    RETURN bin_str
END FUNCTION
```