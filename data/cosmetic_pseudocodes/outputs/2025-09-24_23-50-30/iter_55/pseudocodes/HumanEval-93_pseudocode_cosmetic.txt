```
FUNCTION encode(inputText)
    LET vowelSet BE "aeiouAEIOU"
    LET vowelMap BE EMPTY DICTIONARY
    FOR EACH char IN vowelSet DO
        SET vowelMap[char] TO CHAR_FROM_ASCII(ASCII_VALUE(char) + 2)
    END FOR

    LET swappedText BE EMPTY STRING
    FOR EACH letter IN inputText DO
        IF letter IS UPPERCASE THEN
            SET swappedText TO swappedText + TO_LOWERCASE(letter)
        ELSE IF letter IS LOWERCASE THEN
            SET swappedText TO swappedText + TO_UPPERCASE(letter)
        ELSE
            SET swappedText TO swappedText + letter
        END IF
    END FOR

    LET resultCharList BE EMPTY LIST
    DEFINE FUNCTION mapChars(index, acc)
        IF index = LENGTH(swappedText) THEN
            RETURN acc
        END IF

        LET currentChar BE swappedText[index]
        LET replacementChar BE vowelMap[currentChar] IF currentChar IN vowelMap ELSE currentChar
        RETURN mapChars(index + 1, acc + replacementChar)
    END FUNCTION

    LET finalString BE mapChars(0, "")
    RETURN finalString
END FUNCTION
```