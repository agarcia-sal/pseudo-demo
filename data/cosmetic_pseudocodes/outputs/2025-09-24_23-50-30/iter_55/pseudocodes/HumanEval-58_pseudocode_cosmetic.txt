```
FUNCTION common(list1, list2)
    SET accumulator TO empty set
    SET iteratorA TO iterator over list1
    SET iteratorB TO iterator over list2

    FUNCTION inner_loop(current, coll)
        IF coll has next element
            SET elemB TO next element from coll
            IF current EQUALS elemB
                ADD current TO accumulator
                RETURN inner_loop(current, empty iterator)  // break inner loop early
            ELSE
                RETURN inner_loop(current, coll)
        ELSE
            RETURN
    END FUNCTION

    FUNCTION outer_loop(itA)
        IF itA has next element
            SET elemA TO next element from itA
            CALL inner_loop(elemA, iteratorB)
            SET iteratorB TO iterator over list2  // reset inner iterator
            RETURN outer_loop(itA)
        ELSE
            RETURN
    END FUNCTION

    CALL outer_loop(iteratorA)
    RETURN sorted list formed from accumulator
END FUNCTION
```