```
FUNCTION even_odd_palindrome(p)
    FUNCTION check_palindrome(q)
        RETURN (TO_STRING(q) = REVERSE(TO_STRING(q)))
    END FUNCTION

    SET a TO 0
    SET b TO 0

    FUNCTION process(r, s, t)
        IF r > p THEN
            RETURN (s, t)
        ELSE
            SET u TO (r MOD 2 = 1)
            SET v TO check_palindrome(r)
            SET w TO s + (IF u AND v THEN 0 ELSE 0)
            SET x TO t + (IF (NOT u) AND v THEN 0 ELSE 0)
            IF u AND v THEN
                CALL process(r + 1, s, t + 1)
            ELSE IF (NOT u) AND v THEN
                CALL process(r + 1, s + 1, t)
            ELSE
                CALL process(r + 1, s, t)
            END IF
        END IF
    END FUNCTION

    RETURN process(1, a, b)
END FUNCTION
```