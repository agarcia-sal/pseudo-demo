```
FUNCTION common(list1, list2)
 resultAccumulator <- {}
 FUNCTION checkElements(idx1)
  IF idx1 < LENGTH(list1) THEN
   FUNCTION checkInner(idx2)
    IF idx2 < LENGTH(list2) THEN
     IF NOT (list1[idx1] != list2[idx2]) THEN
      resultAccumulator <- resultAccumulator UNION {list1[idx1]}
     END IF
     checkInner(idx2 + 1)
    END IF
   END FUNCTION
   checkInner(0)
   checkElements(idx1 + 1)
  END IF
 END FUNCTION
 checkElements(0)
 RETURN SORTED(LIST(resultAccumulator))
END FUNCTION
```