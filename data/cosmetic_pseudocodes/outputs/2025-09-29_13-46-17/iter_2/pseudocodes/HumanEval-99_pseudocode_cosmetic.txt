```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    PROCEDURE strip_trailing_zeros(str_val)
      IF '.' IN str_val AND str_val[-1] = '0' THEN
         CALL strip_trailing_zeros(str_val[0 : LENGTH(str_val) - 1])
      ELSE
         RETURN str_val
      END IF
    END PROCEDURE

    value := IF COUNT('.', value) = 1 THEN strip_trailing_zeros(value) ELSE value

    num := FLOAT(value)

    IF LENGTH(value) > 0 THEN
        IF value[-2 :] = '.5' THEN
            result := IF num > 0 THEN ceil(num) ELSE floor(num) END IF
        ELSE
            result := ROUND(num)
        END IF
    ELSE
        result := 0
    END IF

    RETURN result
END FUNCTION
```