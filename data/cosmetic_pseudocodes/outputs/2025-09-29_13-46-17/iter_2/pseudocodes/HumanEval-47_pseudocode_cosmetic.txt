```
FUNCTION median(list_of_elements)
  DEFINE sorted_list = list_of_elements SORTED
  DEFINE count = LENGTH(sorted_list)

  FUNCTION get_element(idx)
    RETURN sorted_list[idx]
  END FUNCTION

  IF NOT (count % 2 = 0) THEN
    RETURN get_element((count - 1) / 2)
  ELSE
    DEFINE mid = count / 2
    RETURN (get_element(mid - 1) + get_element(mid)) / 2.0
  END IF
END FUNCTION
```