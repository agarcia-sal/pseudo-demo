```
FUNCTION sort_array(array)
  RETURN IF LENGTH(array) == 0 THEN [] ELSE
    LET first_last_sum = array[0] + array[ LENGTH(array) - 1 ]
    LET descending_order_flag = (first_last_sum MOD 2) == 0
    SORT array BY descending_order_flag AND RETURN
END FUNCTION
```