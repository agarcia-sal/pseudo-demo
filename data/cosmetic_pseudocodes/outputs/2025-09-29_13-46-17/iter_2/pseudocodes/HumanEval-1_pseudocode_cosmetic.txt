```
FUNCTION separate_paren_groups(string_of_parentheses)
  DEFINE FUNCTION process_chars(index, depth, temp_chars, results)
    IF index >= LENGTH(string_of_parentheses)
      RETURN results
    ELSE
      SET ch TO string_of_parentheses[index]
      IF ch = '(' THEN
        SET new_depth TO depth + 1
        SET new_temp TO temp_chars + [ch]
        RETURN process_chars(index + 1, new_depth, new_temp, results)
      ELSE IF ch = ')' THEN
        SET new_depth TO depth - 1
        SET new_temp TO temp_chars + [ch]
        IF new_depth = 0 THEN
          SET new_results TO results + [JOIN(new_temp)]
          RETURN process_chars(index + 1, new_depth, [], new_results)
        ELSE
          RETURN process_chars(index + 1, new_depth, new_temp, results)
        END IF
      ELSE
        RETURN process_chars(index + 1, depth, temp_chars, results)
      END IF
    END IF
  END FUNCTION

  RETURN process_chars(0, 0, [], [])
END FUNCTION
```