```
FUNCTION count_up_to(n)
  LET primes_list = []
  DEFINE check_prime(k, d) =
    IF d * d > k THEN TRUE
    ELSE IF k % d = 0 THEN FALSE
    ELSE check_prime(k, d + 1)
  END

  DEFINE loop_i(current) =
    IF NOT (current < n) THEN RETURN
    ELSE
      IF check_prime(current, 2) THEN
        primes_list = primes_list + [current]
      END
      loop_i(current + 1)
    END
  END

  loop_i(2)
  RETURN primes_list
END FUNCTION
```