FUNCTION max_fill(grid, capacity)
◦DEFINE λζ₁(𝜁₈, 𝜇₄, 𝛼₂)⟶
  IF (𝜇₄ = 0) THEN RETURN 0 END IF
  RETURN 1 + λζ₁(𝜁₈ - 𝛼₂, 𝜇₄ - 1, 𝛼₂)
END◦

◦DEFINE 𝜀₀(σ)⟶
  RETURN λζ₁(σ, σ, 1)
END◦

◦DEFINE ν₂(ε₇, κ₇)⟶
  RETURN (ε₇ + κ₇ - 1) - (ε₇ - 1)
END◦

◦DEFINE μ₃(ς₅, λ₄)⟶
  IF ς₅ = [] THEN RETURN 0 END IF
  DEFINE ˣ₁←HEAD ς₅
  DEFINE ς′₆←TAIL ς₅
  DEFINE ρ₀←ν₂(ˣ₁, λ₄)
  DEFINE ṽ₍←μ₃(ς′₆, λ₄)
  RETURN ρ₀ + ṽ₍
END◦

 
◦DEFINE 𝕡₈←μ₃(grid, capacity)

RETURN 𝕡₈
END FUNCTION