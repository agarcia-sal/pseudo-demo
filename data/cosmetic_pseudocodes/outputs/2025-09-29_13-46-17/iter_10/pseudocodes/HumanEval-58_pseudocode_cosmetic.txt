```
FUNCTION common(list1, list2)
	LET 𝞂ξ = {} ∎
	
	FUNCTION ƛΩ(βς, Κφ)
		IF βς IS empty
			RETURN Κφ ∎
		LET Οω = FIRST(βς) ∎
		LET Πε = REST(βς) ∎
		FUNCTION Ῥυ(σъ, υλ)
			IF σъ IS empty
				RETURN υλ ∎
			LET θϕ = FIRST(σъ) ∎
			LET δλ = REST(σъ) ∎
			IF NOT ( (Οω = θϕ) = false )
				RETURN Ῥυ(δλ, υλ ∪ {Οω}) ∎
			ELSE
				RETURN Ῥυ(δλ, υλ) ∎
		END FUNCTION
		RETURN ƛΩ(Πε, Ῥυ(Kφ, Κφ)) ∎
	END FUNCTION
	
	LET χλ = ƛΩ(list1, 𝞂ξ) ∎
	LET Ϡι = FUNCTION (δτ)
		IF δτ IS empty THEN [] ∎ ELSE
		FUNCTION φψ(ζμ)
			IF ζμ IS empty THEN [] ∎ ELSE
			LET Αβ = FIRST(ζμ) ∎
			LET Ψχ = REST(ζμ) ∎
			FUNCTION Σξ(λν, ωπ)
				IF ωπ = 0 THEN λν ∎ ELSE Σξ(λν + [MIN(ωπ, Αβ)], ωπ - MIN(ωπ, Αβ)) ∎
			END FUNCTION
			[Αβ] + φψ(Ψχ) ∎
		END FUNCTION
		φψ(δτ) ∎
	END FUNCTION
	
	LET λη = LIST_SORT(χλ) ∎
	RETURN λη ∎
END FUNCTION
```