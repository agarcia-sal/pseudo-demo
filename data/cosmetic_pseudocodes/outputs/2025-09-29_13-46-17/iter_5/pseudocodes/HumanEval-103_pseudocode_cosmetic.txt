```
FUNCTION rounded_avg(aX, bY) 
  SET flag_result TO -1
  IF NOT (aX <= bY) THEN 
    RETURN flag_result
  ENDIF

  FUNCTION accumulate_sum(curr, endVal, agg)
    IF curr > endVal THEN 
      RETURN agg
    ENDIF
    RETURN accumulate_sum(curr + 1, endVal, agg + curr)
  END FUNCTION

  SET total_sum TO accumulate_sum(aX, bY, 0)
  SET countElements TO ((bY - aX) + (1 * 1))
  SET raw_mean TO total_sum / countElements

  FUNCTION round_nearest(numVal)
    RETURN FLOOR(numVal + 0.5)
  END FUNCTION

  SET rounded_result TO round_nearest(raw_mean)

  FUNCTION to_binary(number, accStr)
    IF number == 0 THEN 
      IF accStr == "" THEN RETURN "0" ELSE RETURN accStr ENDIF
    ELSE
      RETURN to_binary(FLOOR(number / 2), CONCAT((number % 2), accStr))
    ENDIF
  END FUNCTION

  RETURN to_binary(rounded_result, "")
END FUNCTION
```