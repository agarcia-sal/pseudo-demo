```
FUNCTION search(list_of_integers)
    INITIALIZE frequency_list AS an array of zeros, size equal to (maximum value in list_of_integers) + 1
    FOR integer_element IN list_of_integers DO
        frequency_list[integer_element] = frequency_list[integer_element] + 1
    END FOR
    SET answer TO -1
    FOR idx FROM 1 TO LENGTH(frequency_list) - 1 DO
        IF frequency_list[idx] >= idx THEN
            answer = idx
        END IF
    END FOR
    RETURN answer
END FUNCTION
```