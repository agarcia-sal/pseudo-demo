```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    INITIALIZE vowels_replace AS EMPTY DICTIONARY
    FOR EACH ch IN vowels
        SET vowels_replace[ch] TO CHARACTER WITH ASCII CODE (ASCII CODE OF ch + 2)
    END FOR
    SET swapped_message TO EMPTY STRING
    FOR EACH ch IN message
        IF ch IS UPPERCASE
            APPEND LOWERCASE OF ch TO swapped_message
        ELSE IF ch IS LOWERCASE
            APPEND UPPERCASE OF ch TO swapped_message
        ELSE
            APPEND ch TO swapped_message
    END FOR
    INITIALIZE result TO EMPTY STRING
    FOR EACH ch IN swapped_message
        IF vowels_replace CONTAINS ch
            APPEND vowels_replace[ch] TO result
        ELSE
            APPEND ch TO result
    END FOR
    RETURN result
END FUNCTION
```