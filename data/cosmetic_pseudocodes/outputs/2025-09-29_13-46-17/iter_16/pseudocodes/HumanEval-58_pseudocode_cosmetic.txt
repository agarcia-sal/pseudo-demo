```
FUNCTION common(list1, list2)
	DEFINE Ξ(τ, Υ, Λ) = 
		IF NOT (τ IS EMPTY)
			THEN 
				DEFINE Θ = hd(τ)
				DEFINE Ζ(Ο, Π, Σ) = 
					IF NOT (Ο IS EMPTY)
						THEN 
							IF NOT (NOT (hd(Ο) ≠ Θ))
								THEN Σ ∪ {Θ}
								ELSE Ζ(tl(Ο), Π, Σ)
						ELSE Σ
				RETURN Ζ(Υ, Λ, Λ) ∪ Ξ(tl(τ), Υ, Λ)
			ELSE Λ
	DEFINE Κ = Ξ(list1, list2, ∅)
	DEFINE Μ(α) = 
		IF α IS EMPTY 
			THEN []
			ELSE insert_sorted(hd(α), Μ(tl(α)))
	RETURN Μ(to_list(Κ))
END FUNCTION
```