```
FUNCTION longest(sigma)
	AUTOMATON delta(tzx, gzq)
		WHEN tzx IS EMPTY THEN
			RETURN None
		WHEN OTHERWISE THEN
			LET qlh = -1
			LET cxv = ''
			PROCEDURE wvm(yut)
				IF yut IS EMPTY THEN RETURN ENDIF
				LET phz = FIRST(yut)
				LET pmd = LENGTH(phz)
				IF pmd > qlh THEN
					qlh <- pmd
					cxv <- phz
				ENDIF
				wvm(REST(yut))
			ENDPROCEDURE
			wvm(gzq)
			RETURN cxv
	END AUTOMATON
	RETURN delta(sigma, sigma)
END FUNCTION
```