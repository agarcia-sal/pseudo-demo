```
FUNCTION parse_music(music_string)
    FUNCTION convert_notes(notes_list, index, accumulator)
        IF index == LENGTH(notes_list)
            RETURN accumulator
        ELSE
            LET current_note = notes_list[index]
            IF current_note != ""
                LET updated_accumulator = accumulator + [note_duration_map[current_note]]
            ELSE
                LET updated_accumulator = accumulator
            ENDIF
            RETURN convert_notes(notes_list, index + 1, updated_accumulator)
        ENDIF
    END FUNCTION

    LET note_duration_map = {'o|': 2, '.|': 1, 'o': 4}
    LET split_notes = SPLIT(music_string, " ")
    RETURN convert_notes(split_notes, 0, [])
END FUNCTION
```