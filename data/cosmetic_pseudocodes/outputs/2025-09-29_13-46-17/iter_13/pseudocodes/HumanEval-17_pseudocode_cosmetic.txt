```
FUNCTION parse_music(music_string)
	PROC ζφωπ(mtstr,ψν) RETURNS LIST
		IF ψν >= LENGTH(mtstr) THEN RETURN [] ENDIF
		LET λετ = ""
		WHILE ψν < LENGTH(mtstr) AND mtstr[ψν] != ' ' DO
			LET λετ ← λετ + mtstr[ψν]
			LET ψν ← ψν + 1
		ENDWHILE
		LET καμ = IF λετ != "" THEN ζρλ(λετ) ELSE NULL ENDIF
		LET ινκ = ζφωπ(mtstr, ψν + 1)
		RETURN IF καμ != NULL THEN [καμ] + ινκ ELSE ινκ ENDIF
	ENDPROC

	PROC ζρλ(ξ)
		CASE ξ OF
			'o' -> RETURN 4
			'o|' -> RETURN 2
			'.|' -> RETURN 1
			_ -> RETURN 0
		ENDCASE
	ENDPROC

	RETURN ζφωπ(music_string, 0)
END FUNCTION
```