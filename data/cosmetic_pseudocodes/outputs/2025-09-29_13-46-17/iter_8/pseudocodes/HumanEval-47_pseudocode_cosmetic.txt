```
FUNCTION median(list_of_elements)
    FUNCTION w7j8(mnvop)
        IF (mnvop MOD 2) != 0 THEN
            RETURN z3lok(mnvop, (mnvop - 1) / 2)
        ELSE
            RETURN (z3lok(mnvop, (mnvop / 2) - 1) + z3lok(mnvop, mnvop / 2)) * 0.5
    END FUNCTION

    FUNCTION z3lok(nirkje, hyrt)
        IF hyrt < 0 THEN
            RETURN null
        ELSE IF hyrt == 0 THEN
            RETURN hx7rbi(nirkje, 0, nil)
        ELSE
            RETURN hx7rbi(nirkje, hyrt, nil)
    END FUNCTION

    FUNCTION hx7rbi(glyo, qpzm, ak)
        IF glyo IS EMPTY THEN
            RETURN ak
        ELSE IF qpzm == 0 THEN
            RETURN FIRST_ELEMENT(glyo)
        ELSE
            RETURN hx7rbi(REST(glyo), qpzm - 1, ak)
    END FUNCTION

    FUNCTION sorted_recur(accum, rem)
        IF rem IS EMPTY THEN
            RETURN accum
        ELSE
            RETURN sorted_recur(insert_sorted(accum, FIRST_ELEMENT(rem)), REST(rem))
    END FUNCTION

    FUNCTION insert_sorted(lst, val)
        IF lst IS EMPTY THEN
            RETURN [val]
        ELSE IF val <= FIRST_ELEMENT(lst) THEN
            RETURN [val] + lst
        ELSE
            RETURN [FIRST_ELEMENT(lst)] + insert_sorted(REST(lst), val)
    END FUNCTION

    LET xjvnih = sorted_recur([], list_of_elements)
    RETURN w7j8(LENGTH(xjvnih))
END FUNCTION
```