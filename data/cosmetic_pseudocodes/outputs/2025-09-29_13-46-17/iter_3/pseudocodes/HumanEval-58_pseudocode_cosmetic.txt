```
FUNCTION common(list1, list2)
  PROC gatherCommons(idxA, idxB, accumSet)
    IF idxA >= LENGTH(list1) THEN
      RETURN SORT(toList(accumSet))
    ELSE
      IF idxB >= LENGTH(list2) THEN
        RETURN gatherCommons(idxA + 1, 0, accumSet)
      ELSE
        IF NOT (list1[idxA] â‰  list2[idxB]) THEN
          SET accumSet TO accumSet UNION {list1[idxA]}
        END IF
        RETURN gatherCommons(idxA, idxB + 1, accumSet)
      END IF
    END IF
  END PROC
  RETURN gatherCommons(0, 0, {})
END FUNCTION
```