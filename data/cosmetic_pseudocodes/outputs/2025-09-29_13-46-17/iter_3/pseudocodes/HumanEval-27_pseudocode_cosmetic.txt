```
FUNCTION flip_case(inputString)
  IF inputString = "" THEN
    RETURN ""
  END IF

  FUNCTION toggleCaseAtIndex(idx, str)
    IF idx > LENGTH(str) THEN
      RETURN ""
    END IF

    DECLARE currentChar = str[idx]
    DECLARE toggledChar

    IF currentChar >= "a" AND currentChar <= "z" THEN
      toggledChar = UPPER(currentChar)
    ELSE IF currentChar >= "A" AND currentChar <= "Z" THEN
      toggledChar = LOWER(currentChar)
    ELSE
      toggledChar = currentChar
    END IF

    RETURN toggledChar + toggleCaseAtIndex(idx + 1, str)
  END FUNCTION

  RETURN toggleCaseAtIndex(1, inputString)
END FUNCTION
```