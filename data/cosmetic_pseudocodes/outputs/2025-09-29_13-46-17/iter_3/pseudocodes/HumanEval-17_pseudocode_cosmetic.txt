```
FUNCTION parse_music(music_string)
	DEFINE durations AS DICT {'o': 4, '.|': 1, 'o|': 2}
	
	PROCEDURE accumulate_notes(notesList, idx, acc)
		IF idx >= LENGTH(notesList) THEN
			RETURN acc
		END IF
		LET currentNote = notesList[idx]
		IF currentNote != '' THEN
			APPEND durations[currentNote] TO acc
		END IF
		RETURN accumulate_notes(notesList, idx + 1, acc)
	END PROCEDURE
	
	LET tokens = SPLIT(music_string, ' ')
	RETURN accumulate_notes(tokens, 0, [])
END FUNCTION
```