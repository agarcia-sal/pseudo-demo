```
FUNCTION hex_key(string_num)
  LET primeChars <- ['2', '3', '5', '7', 'B', 'D']

  FUNCTION countPrimes(position, acc)
    IF position >= LENGTH(string_num) THEN
      RETURN acc
    ENDIF

    LET currentChar <- string_num[position]

    IF NOT (currentChar NOT IN primeChars) THEN
      LET newAcc <- acc + 1
      RETURN countPrimes(position + 1, newAcc)
    ELSE
      RETURN countPrimes(position + 1, acc)
    ENDIF
  ENDFUNCTION

  RETURN countPrimes(0, 0)
END FUNCTION
```