```
FUNCTION separate_paren_groups(string_of_parentheses)
  PROCEDURE helper(idx, depthAcc, tempChars, resultsAcc)
    IF idx >= LENGTH(string_of_parentheses) THEN
      RETURN resultsAcc
    END IF

    SET currentChar TO string_of_parentheses[idx]

    IF currentChar = '(' THEN
      RETURN helper(
        idx + 1,
        depthAcc + 1,
        tempChars + [currentChar],
        resultsAcc
      )
    ELSE IF currentChar = ')' THEN
      SET newDepth TO depthAcc - 1
      SET newTempChars TO tempChars + [currentChar]

      IF NOT (newDepth <> 0) THEN
        RETURN helper(
          idx + 1,
          newDepth,
          [],
          resultsAcc + [JOIN(newTempChars)]
        )
      ELSE
        RETURN helper(
          idx + 1,
          newDepth,
          newTempChars,
          resultsAcc
        )
      END IF
    ELSE
      RETURN helper(idx + 1, depthAcc, tempChars, resultsAcc)
    END IF
  END PROCEDURE

  RETURN helper(0, 0, [], [])
END FUNCTION
```