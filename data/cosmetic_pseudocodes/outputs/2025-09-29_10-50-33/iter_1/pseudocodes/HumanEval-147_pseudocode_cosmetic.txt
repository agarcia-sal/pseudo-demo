```
FUNCTION get_max_triples(integer_n)
    INITIALIZE list_A AS NEW LIST
    FOR index FROM 1 TO integer_n DO
        COMPUTE value = (index * index) - index + 1
        INSERT value AT END OF list_A
    END FOR

    CREATE list_ans AS EMPTY ARRAY
    FOR first_idx FROM 0 TO (integer_n - 1) DO
        FOR second_idx FROM (first_idx + 1) TO (integer_n - 1) DO
            FOR third_idx FROM (second_idx + 1) TO (integer_n - 1) DO
                SET total_sum = list_A[first_idx] + list_A[second_idx] + list_A[third_idx]
                IF total_sum MOD 3 == 0 THEN
                    ADD (list_A[first_idx], list_A[second_idx], list_A[third_idx]) TO list_ans
                END IF
            END FOR
        END FOR
    END FOR

    RETURN SIZE(list_ans)
END FUNCTION
```