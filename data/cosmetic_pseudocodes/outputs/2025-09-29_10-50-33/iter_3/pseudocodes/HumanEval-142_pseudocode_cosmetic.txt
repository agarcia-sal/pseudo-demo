FUNCTION sum_squares(array_of_numbers)
  INITIALIZE temp_collection AS an empty list

  SET cursor TO 0
  WHILE cursor < LENGTH(array_of_numbers) 
    IF (cursor MOD 3) ≠ 0 THEN
      IF (cursor MOD 4) = 0 THEN
        USE temp_collection.ADD( (array_of_numbers[cursor]) * (array_of_numbers[cursor]) * (array_of_numbers[cursor]) )
      OTHERWISE
        USE temp_collection.ADD(array_of_numbers[cursor])
    OTHERWISE
      USE temp_collection.ADD((array_of_numbers[cursor]) ^ 2)
    SET cursor TO cursor + 1

  DECLARE accumulator AS 0
  SET idx TO 0
  WHILE idx < LENGTH(temp_collection)
    accumulator ← accumulator + temp_collection[idx]
    idx ← idx + 1

  YIELD accumulator
END FUNCTION