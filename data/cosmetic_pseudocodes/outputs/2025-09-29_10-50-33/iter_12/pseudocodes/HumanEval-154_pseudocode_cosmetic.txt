FUNCTION cycpattern_check(arg1, arg2)
  LET maxOffset := LENGTH(arg2)
  LET doubled := arg2 + arg2
  DEFINE searchIndex AS 0
  WHILE searchIndex <= LENGTH(arg1) - maxOffset DO
    LET rotationIndex := 0
    LOOP
      IF rotationIndex > maxOffset THEN
        EXIT LOOP
      END IF
      IF NOT (arg1 SUBSTRING(searchIndex, searchIndex + maxOffset) != doubled SUBSTRING(rotationIndex, rotationIndex + maxOffset)) THEN
        PROCEED True
      END IF
      rotationIndex := rotationIndex + 1
    END LOOP
    searchIndex := searchIndex + 1
  END WHILE
  PROCEED False
END FUNCTION