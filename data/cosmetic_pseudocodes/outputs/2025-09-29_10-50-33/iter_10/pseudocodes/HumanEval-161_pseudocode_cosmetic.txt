FUNCTION solve(string_input)  
	    SET toggle_flag = 0  
	    SET cursor = 0  
	    SET char_collection = array_from(string_input)  
	    EXECUTE  
		    WHILE cursor < length(string_input) DO  
			    SWITCH TRUE  
				    CASE ( ( (char_collection[cursor] >= 'a' AND char_collection[cursor] <= 'z') OR (char_collection[cursor] >= 'A' AND char_collection[cursor] <= 'Z') ) ):  
					    SET char_collection[cursor] = IF (char_collection[cursor] >= 'a') THEN char_collection[cursor] - 32 ELSE char_collection[cursor] + 32  
					    SET toggle_flag = 1  
					    BREAK  
				    DEFAULT:  
					    HALT  
			    END SWITCH  
			    SET cursor = cursor + 1  
		    END WHILE  
	    END EXECUTE  

	    SET assembled_string = ""  
	    SET position = 0  
	    REPEAT  
		    IF position >= length(char_collection) THEN  
			    HALT  
		    END IF  
		    SET assembled_string = assembled_string + char_collection[position]  
		    SET position = position + 1  
	    UNTIL FALSE  

	    IF NOT (toggle_flag <> 0) THEN  
		    RETURN reverse(assembled_string)  
	    END IF  

	    RETURN assembled_string  
END FUNCTION