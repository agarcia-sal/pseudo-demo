FUNCTION sum_squares(sequence_of_numbers)
  DECLARE aggregate_storage := []
  
  PROCEDURE iterate(position)
    IF position >= LENGTH(sequence_of_numbers) THEN RETURN
    
    DECLARE element := sequence_of_numbers[position]
    
    IF NOT(position % 3) THEN
      aggregate_storage.ADD(element ^ 2)
    ELSE IF (NOT(position % 4) AND (position % 3) <> 0) THEN
      aggregate_storage.ADD(element ^ 3)
    ELSE
      aggregate_storage.ADD(element)
    END IF
    
    iterate(position + 1)
  END PROCEDURE
  
  iterate(0)
  RETURN REDUCE(aggregate_storage, 0, (carry, val) -> carry + val)
END FUNCTION