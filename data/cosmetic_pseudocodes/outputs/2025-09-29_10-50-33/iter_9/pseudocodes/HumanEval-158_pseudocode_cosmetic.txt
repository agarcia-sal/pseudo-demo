FUNCTION find_max(list_of_words)  
    DEFINE comparator(a, b) AS  
        SET set_a TO {}  
        SET set_b TO {}  
        FOR each_char IN a  
            ADD each_char TO set_a  
        END FOR  
        FOR each_char IN b  
            ADD each_char TO set_b  
        END FOR  

        SET len_a TO SIZE OF set_a  
        SET len_b TO SIZE OF set_b  

        IF len_a > len_b THEN  
            EXECUTE RETURN -1  
        ELSEIF len_a < len_b THEN  
            EXECUTE RETURN 1  
        ELSE  
            IF a < b THEN  
                EXECUTE RETURN -1  
            ELSEIF a > b THEN  
                EXECUTE RETURN 1  
            ELSE  
                EXECUTE RETURN 0  
            END IF  
        END IF  
    END DEFINE  

    SET sorted_array TO EMPTY LIST  
    FOR index FROM 0 TO LENGTH OF list_of_words - 1  
        ADD list_of_words[index] TO sorted_array  
    END FOR  

    SET n TO LENGTH OF sorted_array  
    REPEAT  
        SET changed TO FALSE  
        FOR i FROM 0 TO n - 2  
            IF comparator(sorted_array[i], sorted_array[i + 1]) > 0 THEN  
                SET temp_val TO sorted_array[i]  
                SET sorted_array[i] TO sorted_array[i + 1]  
                SET sorted_array[i + 1] TO temp_val  
                SET changed TO TRUE  
            END IF  
        END FOR  
        SET n TO n - 1  
    UNTIL changed IS FALSE  

    EXECUTE RETURN sorted_array[0]  
END FUNCTION