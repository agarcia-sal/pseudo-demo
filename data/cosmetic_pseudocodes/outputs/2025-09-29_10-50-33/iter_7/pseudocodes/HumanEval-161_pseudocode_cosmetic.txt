FUNCTION solve(text_entry)
    INITIALIZE inversion_marker AS FALSE
    INITIALIZE cursor AS 0
    ASSIGN char_sequence AS SEQUENCE(text_entry)
    PROCEDURE iterate_chars(pos)
        IF pos >= LENGTH(text_entry) THEN RETURN END IF
        LET current_char BE text_entry[pos]
        IF (('A' <= current_char <= 'Z') OR ('a' <= current_char <= 'z')) THEN
            LET converted_char BE toggleCase(current_char)
            char_sequence[pos] := converted_char
            inversion_marker := TRUE
        END IF
        CALL iterate_chars(pos + 1)
    END PROCEDURE
    CALL iterate_chars(cursor)
    LET assembled_text BE "".join(char_sequence)
    IF NOT inversion_marker THEN RETURN reverseString(assembled_text) END IF
    RETURN assembled_text
END FUNCTION