```
FUNCTION sum_squares(values)
    INITIALIZE accumulator WITH empty collection
    SET position TO 0
    WHILE position IS LESS THAN SIZE OF values
        IF (position MOD 3) == 0 THEN
            INSERT (values[position] ^ 2) INTO accumulator
        ELSE IF ((position MOD 4) == 0) AND ((position MOD 3) != 0) THEN
            INSERT (values[position] ^ 3) INTO accumulator
        ELSE
            INSERT values[position] INTO accumulator
        END IF
        INCREMENT position BY 1
    END WHILE
    LET total BE 0
    FOR EACH item IN accumulator DO
        total <- total + item
    END FOR
    RETURN total
END FUNCTION
```