```
FUNCTION get_max_triples(integer_n)
    INITIALIZE sequence_S AS AN EMPTY ARRAY
    DECLARE index_p AS INTEGER
    FOR index_p IN RANGE FROM 1 TO integer_n STEP 1
        CALCULATE value_val = (index_p * index_p) - index_p + 1
        INSERT value_val AT END OF sequence_S

    DEFINE collection_result AS AN EMPTY ARRAY
    DECLARE pos_x, pos_y, pos_z AS INTEGER

    SET pos_x TO 0
    WHILE pos_x < integer_n - 2
        SET pos_y TO pos_x + 1
        WHILE pos_y < integer_n - 1
            SET pos_z TO pos_y + 1
            WHILE pos_z < integer_n
                COMPUTE total_sum = sequence_S[pos_x] + sequence_S[pos_y] + sequence_S[pos_z]
                IF (total_sum MOD 3) == 0 THEN
                    APPEND (sequence_S[pos_x], sequence_S[pos_y], sequence_S[pos_z]) TO collection_result
                INCREMENT pos_z BY 1
            INCREMENT pos_y BY 1
        INCREMENT pos_x BY 1

    OUTPUT LENGTH(collection_result)
END FUNCTION
```