FUNCTION solve(string_input)
    DECLARE altered_found AS BOOLEAN = FALSE
    DECLARE position_counter AS INTEGER = 0
    DECLARE character_array AS ARRAY OF CHARACTERS FROM string_input

    WHILE position_counter < LENGTH(string_input) DO
        DECLARE current_char AS CHARACTER = string_input[position_counter]
        IF (NOT (current_char < 'A' OR (current_char > 'Z' AND current_char < 'a') OR current_char > 'z')) THEN
            IF current_char IS UPPERCASE THEN
                character_array[position_counter] = TO_LOWERCASE(current_char)
            ELSE
                character_array[position_counter] = TO_UPPERCASE(current_char)
            END IF
            altered_found = TRUE
        END IF
        position_counter = position_counter + 1
    END WHILE

    DECLARE final_string AS EMPTY STRING
    DECLARE idx AS INTEGER = 0
    LOOP
        EXIT WHEN idx >= LENGTH(character_array)
        final_string = final_string + character_array[idx]
        idx = idx + 1
    END LOOP

    IF altered_found == FALSE THEN
        RETURN REVERSE(final_string)
    END IF

    RETURN final_string
END FUNCTION