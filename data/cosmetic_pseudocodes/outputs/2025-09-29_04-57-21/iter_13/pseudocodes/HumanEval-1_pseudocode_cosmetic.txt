```
FUNCTION separate_paren_groups(string_of_parentheses)
    SET results TO new empty list
    SET buffer_chars TO new empty list
    SET depth_counter TO 0

    DEFINE PROCESS_INDEX(index)
        IF index >= LENGTH(string_of_parentheses)
            RETURN
        END IF

        SET current_char TO string_of_parentheses[index]

        IF current_char = '(' THEN
            depth_counter = depth_counter + 1
            APPEND current_char TO buffer_chars
        ELSE IF current_char = ')'
            depth_counter = depth_counter - 1
            APPEND current_char TO buffer_chars

            IF depth_counter = 0 THEN
                APPEND JOIN(buffer_chars, "") TO results
                CLEAR buffer_chars
            END IF
        END IF

        PROCESS_INDEX(index + 1)
    END DEFINE

    PROCESS_INDEX(0)

    RETURN results
END FUNCTION
```