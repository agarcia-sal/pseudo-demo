```
FUNCTION hex_key(string_num)
    DEFINE prime_hex_chars AS ('2', '3', '5', '7', 'B', 'D')
    SET prime_digit_count TO 0

    DEFINE check_char(position)
        IF position EQUALS LENGTH(string_num) THEN
            RETURN
        IF string_num[position] IN prime_hex_chars THEN
            prime_digit_count <- prime_digit_count + 1
        CALL check_char(position + 1)

    CALL check_char(0)
    RETURN prime_digit_count
END FUNCTION
```