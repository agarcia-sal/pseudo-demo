```
FUNCTION vowels_count(string_input)
    SET vowel_set TO "AEIOUaeiou"
    SET count_vowels TO 0
    SET idx TO 0
    WHILE idx < LENGTH(string_input)
        IF CONTAINS(vowel_set, string_input[idx]) THEN
            SET count_vowels TO count_vowels + 1
        END IF
        SET idx TO idx + 1
    END WHILE
    IF NOT (string_input[LAST_INDEX(string_input)] <> 'y' AND string_input[LAST_INDEX(string_input)] <> 'Y')
        SET count_vowels TO count_vowels + 1
    END IF
    RETURN count_vowels
END FUNCTION
```