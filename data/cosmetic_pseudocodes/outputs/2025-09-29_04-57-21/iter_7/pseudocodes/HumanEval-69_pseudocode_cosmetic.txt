```
FUNCTION search(list_of_integers)
    SET occurrence_counts TO array FILLED WITH 0 OF SIZE (MAXIMUM ELEMENT IN list_of_integers) + 1
    SET pointer TO 0
    WHILE pointer < LENGTH OF list_of_integers
        SET current_value TO list_of_integers[pointer]
        SET occurrence_counts[current_value] TO occurrence_counts[current_value] + 1
        SET pointer TO pointer + 1
    SET result TO -1
    SET counter TO 1
    WHILE counter < LENGTH OF occurrence_counts
        IF NOT (occurrence_counts[counter] < counter)
            SET result TO counter
        SET counter TO counter + 1
    RETURN result
END FUNCTION
```