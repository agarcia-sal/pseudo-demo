```
FUNCTION parse_music(music_string)
    DECLARE duration_map AS DICTIONARY = {'o': 4, 'o|': 2, '.|': 1}
    DECLARE result AS LIST = EMPTY LIST
    DECLARE tokens AS LIST = SPLIT music_string BY ' '
    SET idx TO 0
    WHILE idx < LENGTH(tokens)
        IF NOT (tokens[idx] = '') THEN
            APPEND duration_map[tokens[idx]] TO result
        END IF
        SET idx TO idx + 1
    END WHILE
    RETURN result
END FUNCTION
```