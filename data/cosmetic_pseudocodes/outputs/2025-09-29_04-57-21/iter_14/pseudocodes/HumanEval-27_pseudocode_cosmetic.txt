```
FUNCTION flip_case(input_string)
    SET output_builder TO empty string
    SET position TO 0
    WHILE position < LENGTH(input_string)
        SET current_char TO CHARACTER_AT(input_string, position)
        IF current_char IS_LOWERCASE
            SET toggled_char TO TO_UPPERCASE(current_char)
        ELSE
            IF current_char IS_UPPERCASE
                SET toggled_char TO TO_LOWERCASE(current_char)
            ELSE
                SET toggled_char TO current_char
            END IF
        END IF
        SET output_builder TO CONCATENATE(output_builder, toggled_char)
        SET position TO position + 1
    END WHILE
    RETURN output_builder
END FUNCTION
```