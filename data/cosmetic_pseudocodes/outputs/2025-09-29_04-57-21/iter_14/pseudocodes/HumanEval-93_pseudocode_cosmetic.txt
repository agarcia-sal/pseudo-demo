```
FUNCTION encode(message)
    LET vowelChars = "aeiouAEIOU"
    LET vowelMappings = EMPTY DICTIONARY
    INDEX = 0
    WHILE INDEX < LENGTH(vowelChars)
        LETTER = vowelChars[INDEX]
        vowelMappings[LETTER] = CHAR(ASCII_VALUE(LETTER) + 2)
        INDEX = INDEX + 1
    END WHILE

    LET toggledMessage = EMPTY STRING
    IDX = 0
    WHILE IDX < LENGTH(message)
        CURRENT = message[IDX]
        IF CURRENT IS LOWERCASE LETTER
            toggledMessage = toggledMessage + TO_UPPERCASE(CURRENT)
        ELSE IF CURRENT IS UPPERCASE LETTER
            toggledMessage = toggledMessage + TO_LOWERCASE(CURRENT)
        ELSE
            toggledMessage = toggledMessage + CURRENT
        END IF
        IDX = IDX + 1
    END WHILE

    LET outputString = EMPTY STRING
    POS = 0
    WHILE POS < LENGTH(toggledMessage)
        LETTER = toggledMessage[POS]
        IF vowelMappings CONTAINS KEY LETTER
            outputString = outputString + vowelMappings[LETTER]
        ELSE
            outputString = outputString + LETTER
        END IF
        POS = POS + 1
    END WHILE

    RETURN outputString
END FUNCTION
```