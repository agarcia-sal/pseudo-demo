```
FUNCTION vowels_count(text)
    DEFINE vowel_chars AS "aeiouAEIOU"
    DECLARE count AS 0
    FOR EACH ch IN text DO
        IF vowel_chars CONTAINS ch THEN
            count = count + 1
        END IF
    END FOR
    LET last_char = text[ LENGTH(text) - 1 ]
    IF last_char == 'y' OR last_char == 'Y' THEN
        count = count + 1
    END IF
    RETURN count
END FUNCTION
```