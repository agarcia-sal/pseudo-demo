```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    IF value CONTAINS EXACTLY ONE '.'
        REPEAT WHILE value ENDS WITH '0'
            REMOVE LAST CHARACTER FROM value
        END REPEAT
    END IF

    LET number = CONVERT value TO FLOAT

    IF value ENDS WITH '.5'
        IF number > 0
            LET result = ceil(number)
        ELSE
            LET result = floor(number)
        END IF
    ELSE IF value IS NOT EMPTY
        LET result = ROUND(number)
    ELSE
        LET result = 0
    END IF

    RETURN result
END FUNCTION
```