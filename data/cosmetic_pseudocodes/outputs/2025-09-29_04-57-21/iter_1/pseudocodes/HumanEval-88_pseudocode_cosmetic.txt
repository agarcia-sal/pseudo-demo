```
FUNCTION sort_array(array)
    IF array IS EMPTY THEN
        RETURN []
    END IF

    LET first_element = array[0]
    LET last_element = array[SIZE OF array - 1]
    LET sum_ends = first_element + last_element

    LET descending_flag
    IF (sum_ends % 2) == 0 THEN
        descending_flag = TRUE
    ELSE
        descending_flag = FALSE
    END IF

    LET sorted_arr = SORTED VERSION OF array
    IF descending_flag THEN
        REVERSE sorted_arr
    END IF

    RETURN sorted_arr
END FUNCTION
```