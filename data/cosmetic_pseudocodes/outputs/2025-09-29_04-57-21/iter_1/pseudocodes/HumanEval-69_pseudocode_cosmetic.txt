```
FUNCTION search(list_of_integers)
    LET max_integer = MAXIMUM VALUE IN list_of_integers
    LET counts = ARRAY OF ZEROS WITH SIZE (max_integer + 1)
    FOR integer IN list_of_integers DO
        counts[integer] = counts[integer] + 1
    END FOR
    LET result = -1
    FOR i FROM 1 TO LENGTH(counts) - 1 DO
        IF counts[i] >= i THEN
            result = i
        END IF
    END FOR
    RETURN result
END FUNCTION
```