```
FUNCTION parse_music(music_string)
    DECLARE durations AS DICTIONARY
    durations['o'] = 4
    durations['o|'] = 2
    durations['.|'] = 1

    DECLARE result AS LIST = []
    FOR token IN SPLIT_BY(music_string, ' ')
        IF LENGTH(token) > 0 THEN
            APPEND durations[token] TO result
        END IF
    END FOR
    RETURN result
END FUNCTION
```