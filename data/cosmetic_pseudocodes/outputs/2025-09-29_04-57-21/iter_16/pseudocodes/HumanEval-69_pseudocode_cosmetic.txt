```
FUNCTION search(list_of_integers)
  LET counts BE A list FILLED WITH 0s, SIZE (MAXIMUM VALUE IN list_of_integers) + 1

  FOR element IN list_of_integers DO
    counts[element] ← counts[element] + 1
  END FOR

  LET result BE -1

  LET idx BE 1
  WHILE idx < LENGTH(counts)
    IF NOT (counts[idx] < idx) THEN
      result ← idx
    END IF
    idx ← idx + 1
  END WHILE

  RETURN result
END FUNCTION
```