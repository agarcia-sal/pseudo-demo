```
FUNCTION parse_music(music_string)
  DECLARE duration_lookup AS DICTIONARY
  duration_lookup['o']  = 4
  duration_lookup['o|'] = 2
  duration_lookup['.|'] = 1

  DECLARE tokens AS LIST
  tokens = SPLIT(music_string, ' ')

  DECLARE durations AS LIST = EMPTY LIST

  DECLARE idx AS INTEGER = 0
  WHILE idx < LENGTH(tokens) DO
    IF tokens[idx] != '' THEN
      APPEND duration_lookup[tokens[idx]] TO durations
    END IF
    idx = idx + 1
  END WHILE

  RETURN durations
END FUNCTION
```