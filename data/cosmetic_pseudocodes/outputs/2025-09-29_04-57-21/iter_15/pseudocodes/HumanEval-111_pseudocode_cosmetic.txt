```
FUNCTION histogram(test_string)
  SET freq_map TO DICTIONARY()
  SET letters_list TO test_string SPLIT BY ' '
  SET top_frequency TO -1

  SET idx TO 0
  WHILE idx < LENGTH(letters_list)
    SET current_letter TO letters_list[idx]
    IF NOT current_letter == ""
      SET current_count TO 0
      SET scan_idx TO 0
      WHILE scan_idx < LENGTH(letters_list)
        IF letters_list[scan_idx] == current_letter
          SET current_count TO current_count + 1
        SET scan_idx TO scan_idx + 1
      IF current_count > top_frequency
        SET top_frequency TO current_count
    SET idx TO idx + 1

  IF NOT top_frequency <= 0
    SET processed_letters TO DICTIONARY()
    FOR letter IN letters_list
      IF NOT (letter == "" OR processed_letters CONTAINS letter)
        SET letter_count TO 0
        SET position TO 0
        WHILE position < LENGTH(letters_list)
          IF letters_list[position] == letter
            SET letter_count TO letter_count + 1
          SET position TO position + 1
        IF letter_count == top_frequency
          SET freq_map[letter] TO top_frequency
        SET processed_letters[letter] TO TRUE

  RETURN freq_map
END FUNCTION
```