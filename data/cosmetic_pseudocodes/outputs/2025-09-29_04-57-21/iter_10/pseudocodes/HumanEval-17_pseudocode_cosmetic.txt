```
FUNCTION parse_music(music_string)
    INITIALIZE length_lookup AS DICTIONARY
    ASSIGN length_lookup['o'] = 4
    ASSIGN length_lookup['o|'] = 2
    ASSIGN length_lookup['.|'] = 1
    
    INITIALIZE results AS EMPTY LIST
    INITIALIZE tokens AS SPLIT music_string BY SPACE
    
    INITIALIZE index TO 0
    WHILE index < LENGTH(tokens) DO
        IF tokens[index] != '' THEN
            APPEND length_lookup[tokens[index]] TO results
        END IF
        INCREMENT index BY 1
    END WHILE
    
    RETURN results
END FUNCTION
```