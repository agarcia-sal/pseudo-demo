```
FUNCTION vowels_count(string_input)
    SET vowel_set TO "AEIOUaeiou"
    SET tally TO 0
    SET idx TO 0
    WHILE idx < LENGTH(string_input)
        SET current_char TO string_input[idx]
        IF current_char IN vowel_set THEN
            tally = tally + 1
        END IF
        idx = idx + 1
    END WHILE
    IF NOT (string_input[-1] != 'y' AND string_input[-1] != 'Y') THEN
        tally = tally + 1
    END IF
    RETURN tally
END FUNCTION
```