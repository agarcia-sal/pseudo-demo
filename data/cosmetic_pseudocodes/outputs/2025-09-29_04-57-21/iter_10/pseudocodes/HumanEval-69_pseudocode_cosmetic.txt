```
FUNCTION search(list_of_integers)
    SET max_num TO 0
    SET counter TO 0
    WHILE counter < LENGTH OF list_of_integers
        IF list_of_integers[counter] > max_num THEN
            SET max_num TO list_of_integers[counter]
        END IF
        SET counter TO counter + 1
    END WHILE

    SET tally_array TO ARRAY OF ZEROS WITH SIZE max_num + 1
    SET pointer TO 0
    WHILE pointer < LENGTH OF list_of_integers
        SET current_value TO list_of_integers[pointer]
        SET tally_array[current_value] TO tally_array[current_value] + 1
        SET pointer TO pointer + 1
    END WHILE

    SET final_result TO -1
    SET index_counter TO 1
    WHILE index_counter < LENGTH OF tally_array
        IF NOT (tally_array[index_counter] < index_counter)
            SET final_result TO index_counter
        END IF
        SET index_counter TO index_counter + 1
    END WHILE

    RETURN final_result
END FUNCTION
```