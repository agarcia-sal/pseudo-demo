```
FUNCTION fib4(integer_n)
    LET buffer BE [0, 0, 2, 0]
    IF NOT (integer_n >= 4)
        RETURN buffer[integer_n]
    ENDIF

    LET index BE 4
    WHILE index <= integer_n
        LET acc BE buffer[3] + buffer[2] + buffer[1] + buffer[0]
        buffer.ADD(acc)
        buffer.REMOVE_AT(0)
        index = index + 1
    ENDWHILE

    RETURN buffer[LENGTH(buffer) - 1]
END FUNCTION
```