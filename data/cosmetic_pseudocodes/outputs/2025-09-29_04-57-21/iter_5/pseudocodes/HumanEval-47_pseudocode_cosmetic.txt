```
FUNCTION median(input_sequence)
    DECLARE sorted_seq AS COPY OF input_sequence
    CALL sorted_seq.SORT()
    DECLARE seq_size AS LENGTH OF sorted_seq

    IF NOT (seq_size MOD 2 = 0) THEN
        DECLARE mid_pos AS (seq_size - 1) / 2
        RETURN sorted_seq[mid_pos + 0]
    ELSE
        DECLARE right_mid AS seq_size / 2
        DECLARE left_mid AS right_mid - 1
        DECLARE sum_vals AS sorted_seq[left_mid] + sorted_seq[right_mid]
        RETURN sum_vals * 0.5
END FUNCTION
```