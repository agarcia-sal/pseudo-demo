```
FUNCTION hex_key(string_num)
    DEFINE prime_chars AS ('2', '3', '5', '7', 'B', 'D')
    SET prime_count TO 0
    SET pos TO 0
    WHILE pos < LENGTH(string_num)
        SET current_char TO string_num[pos]
        IF NOT (current_char <> '2' AND current_char <> '3' AND current_char <> '5' AND current_char <> '7' AND current_char <> 'B' AND current_char <> 'D')
            SET prime_count TO prime_count + 1
        pos = pos + 1
    RETURN prime_count
END FUNCTION
```