```
FUNCTION closest_integer(value)
    FROM math IMPORT ceil, floor

    LET dotOccurrences BE 0
    FOR EACH char IN value
        IF char == '.'
            dotOccurrences = dotOccurrences + 1
    END FOR

    IF dotOccurrences == 1 THEN
        LET idx = LENGTH(value) - 1
        WHILE idx >= 0 AND value[idx] == '0'
            value = SUBSTRING(value, 0, idx)
            idx = idx - 1
        END WHILE
    END IF

    LET floatNum = TO_FLOAT(value)

    IF LENGTH(value) >= 2 AND SUBSTRING(value, LENGTH(value)-2, LENGTH(value)) == '.5'
        IF floatNum > 0
            LET outputNum = ceil(floatNum)
        ELSE
            LET outputNum = floor(floatNum)
        END IF
    ELSE IF LENGTH(value) > 0
        LET outputNum = ROUND(floatNum)
    ELSE
        LET outputNum = 0
    END IF

    RETURN outputNum
END FUNCTION
```