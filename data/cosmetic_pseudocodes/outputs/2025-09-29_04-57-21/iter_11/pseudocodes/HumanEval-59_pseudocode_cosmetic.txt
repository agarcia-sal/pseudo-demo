```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF !(k >= 2)
            RETURN False
        LET idx = 2
        WHILE idx < k
            IF (k % idx) == 0
                RETURN False
            idx = idx + 1
        RETURN True
    END FUNCTION

    LET max_factor = 1
    LET divisor = 2
    WHILE divisor <= n
        IF (n % divisor) == 0
            IF is_prime(divisor)
                max_factor = (max_factor > divisor) ? max_factor : divisor
        divisor = divisor + 1
    RETURN max_factor
END FUNCTION
```