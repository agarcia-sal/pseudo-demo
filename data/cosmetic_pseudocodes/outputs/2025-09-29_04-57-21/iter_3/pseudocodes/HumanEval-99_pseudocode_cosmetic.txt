```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    IF (value CONTAINS '.') AND (COUNT OF '.' IN value IS 1)
        REPEAT
            LET lastChar = value[-1]
            IF lastChar IS NOT '0' THEN
                BREAK
            END IF
            SET value TO SUBSTRING OF value FROM START TO LENGTH(value) - 1
        UNTIL FALSE
    END IF

    LET numericValue = FLOAT(value)

    IF (LENGTH(value) >= 2) AND (value[-2..-1] == '.5')
        IF numericValue > 0 THEN
            RETURN ceil(numericValue)
        ELSE
            RETURN floor(numericValue)
        END IF
    ELSE IF LENGTH(value) > 0 THEN
        LET rounded = ROUND(numericValue)
        RETURN rounded
    ELSE
        RETURN 0
    END IF
END FUNCTION
```