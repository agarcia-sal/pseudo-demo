```
FUNCTION parse_music(music_string)
  DEFINE duration_lookup AS DICTIONARY MAPPING 'o' TO 4, 'o|' TO 2, '.|' TO 1
  DECLARE result_list AS EMPTY LIST
  FOR token IN SPLIT music_string USING " "
    IF LENGTH(token) > 0 THEN
      DECLARE duration_value = duration_lookup[token]
      APPEND duration_value TO result_list
    END IF
  END FOR
  RETURN result_list
END FUNCTION
```