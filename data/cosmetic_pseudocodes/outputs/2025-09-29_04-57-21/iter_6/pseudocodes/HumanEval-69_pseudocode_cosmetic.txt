```
FUNCTION search(list_of_integers)
    SET counts_array TO array_of_zeros WITH SIZE (maximum_element_in list_of_integers) PLUS 1
    FOR element IN list_of_integers DO
        counts_array[element] ← counts_array[element] + 1
    END FOR
    SET result TO -1
    SET idx TO 1
    WHILE idx < LENGTH OF counts_array DO
        IF counts_array[idx] >= idx THEN
            result ← idx
        END IF
        idx ← idx + 1
    END WHILE
    RETURN result
END FUNCTION
```