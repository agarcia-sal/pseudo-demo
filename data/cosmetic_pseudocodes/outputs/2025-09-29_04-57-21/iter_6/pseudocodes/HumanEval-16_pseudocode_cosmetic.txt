```
FUNCTION count_distinct_characters(text)
    DECLARE unique_chars = EMPTY SET
    DECLARE idx = 0
    WHILE idx < LENGTH(text)
        unique_chars.ADD(TO_LOWERCASE(text[idx]))
        idx = idx + 1
    END WHILE
    RETURN SIZE(unique_chars)
END FUNCTION
```