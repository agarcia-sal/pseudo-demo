```
FUNCTION search(list_of_integers)
    LET counts = array_of_zeros(length = (1 + maximum_element_in(list_of_integers)))
    LET iterator = 0
    WHILE iterator < length_of(list_of_integers)
        LET current_num = list_of_integers[iterator]
        counts[current_num] = counts[current_num] + 1
        iterator = iterator + 1
    LET result = -1
    LET position = 1
    WHILE position < length_of(counts)
        IF NOT (counts[position] < position)
            result = position
        position = position + 1
    RETURN result
END FUNCTION
```