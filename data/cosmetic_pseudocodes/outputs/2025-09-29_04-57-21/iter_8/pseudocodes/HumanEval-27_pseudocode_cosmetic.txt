```
FUNCTION flip_case(input_string)
  DEFINE output_builder AS EMPTY STRING
  SET char_index TO 1
  WHILE char_index <= LENGTH OF input_string
    LET current_char = CHARACTER AT POSITION char_index IN input_string
    IF current_char IS LOWERCASE
      APPEND TO output_builder THE UPPERCASE OF current_char
    ELSE IF current_char IS UPPERCASE
      APPEND TO output_builder THE LOWERCASE OF current_char
    ELSE 
      APPEND TO output_builder current_char
    END IF
    INCREMENT char_index BY 1
  END WHILE
  RETURN output_builder
END FUNCTION
```