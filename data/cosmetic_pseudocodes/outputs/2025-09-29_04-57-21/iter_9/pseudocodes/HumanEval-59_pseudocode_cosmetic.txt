```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF NOT (k >= 2) 
            RETURN False
        
        SET candidate TO 2
        WHILE candidate < k
            IF 0 = k MOD candidate
                RETURN False
            SET candidate TO candidate + 1
        END WHILE
        
        RETURN True
    END FUNCTION

    SET max_factor TO 1
    SET divisor TO 2
    WHILE divisor <= n
        IF (n MOD divisor = 0) 
           AND is_prime(divisor) = True
            IF max_factor < divisor
                SET max_factor TO divisor
            END IF
        END IF
        SET divisor TO divisor + 1
    END WHILE

    RETURN max_factor
END FUNCTION
```