```
FUNCTION parse_music(music_string)
    DECLARE duration_dictionary AS MAP WITH ('o' -> 4, 'o|' -> 2, '.|' -> 1)
    DECLARE result_list AS LIST INITIALIZED EMPTY
    DECLARE tokens_queue AS LIST = SPLIT music_string BY ' '
    DECLARE idx AS INTEGER = 0
    WHILE idx < LENGTH(tokens_queue) DO
        IF tokens_queue[idx] != '' THEN
            APPEND duration_dictionary[tokens_queue[idx]] TO result_list
        END IF
        SET idx TO idx + 1
    END WHILE
    RETURN result_list
END FUNCTION
```