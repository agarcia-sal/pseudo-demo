```
FUNCTION fib4(integer_n)
    SET window TO [0, 0, 2, 0]
    IF NOT (integer_n >= 4)
        RETURN window[integer_n]
    END IF

    SET index TO 4
    WHILE index <= integer_n
        SET total TO 0
        FOR offset IN [0, 1, 2, 3]
            SET total TO total + window[offset]
        END FOR

        REMOVE window[0]
        APPEND total TO window
        SET index TO index + 1
    END WHILE

    RETURN window[-1]
END FUNCTION
```