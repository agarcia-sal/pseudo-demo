```
FUNCTION hex_key(string_num)
    SET prime_characters TO ('D', '2', '3', '5', '7', 'B')
    SET prime_count TO 0
    SET current_position TO 0
    WHILE current_position < LENGTH OF string_num
        SWITCH string_num[current_position]
            CASE '2', '3', '5', '7', 'B', 'D':
                SET prime_count TO prime_count + 1
        END SWITCH
        SET current_position TO current_position + 1
    END WHILE
    RETURN prime_count
END FUNCTION
```