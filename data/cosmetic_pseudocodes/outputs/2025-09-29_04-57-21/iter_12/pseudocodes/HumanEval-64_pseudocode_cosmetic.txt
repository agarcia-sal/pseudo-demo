```
FUNCTION vowels_count(string_input)
    DEFINE vowel_set AS "AEIOUaeiou"
    SET idx TO 0
    SET total_vowels TO 0

    WHILE idx < LENGTH(string_input)
        LET current_char BE string_input[idx]
        IF current_char IN vowel_set THEN
            total_vowels = total_vowels + 1
        END IF
        idx = idx + 1
    END WHILE

    LET last_char BE string_input[LENGTH(string_input) - 1]
    IF NOT (last_char != 'y' AND last_char != 'Y') THEN
        total_vowels = total_vowels + 1
    END IF

    RETURN total_vowels
END FUNCTION
```