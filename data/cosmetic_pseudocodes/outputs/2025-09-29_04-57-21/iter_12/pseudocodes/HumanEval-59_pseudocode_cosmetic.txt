```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF NOT (k >= 2)
            RETURN False
        SET divisor_candidate TO 2
        WHILE divisor_candidate < k
            IF (k MOD divisor_candidate) = 0
                RETURN False
            SET divisor_candidate TO divisor_candidate + 1
        RETURN True
    END FUNCTION

    SET max_factor TO 1
    SET potential_divisor TO 2
    WHILE potential_divisor <= n
        IF (n MOD potential_divisor) = 0
            IF is_prime(potential_divisor) = True
                IF max_factor < potential_divisor
                    SET max_factor TO potential_divisor
        SET potential_divisor TO potential_divisor + 1
    RETURN max_factor
END FUNCTION
```