```
FUNCTION search(list_of_integers)
    LET highest_number BE 0
    LET iterator_pos BE 0
    WHILE iterator_pos < LENGTH(list_of_integers)
        LET current_element BE list_of_integers[iterator_pos]
        IF current_element > highest_number THEN
            highest_number = current_element
        END IF
        iterator_pos = iterator_pos + 1
    END WHILE

    LET counts TO ARRAY OF ZEROS WITH SIZE highest_number + 1

    LET pos TO 0
    WHILE pos < LENGTH(list_of_integers)
        LET num TO list_of_integers[pos]
        counts[num] = counts[num] + 1
        pos = pos + 1
    END WHILE

    LET candidate TO -1
    LET idx TO 1
    WHILE idx <= highest_number
        IF NOT (counts[idx] < idx) THEN
            candidate = idx
        END IF
        idx = idx + 1
    END WHILE

    RETURN candidate
END FUNCTION
```