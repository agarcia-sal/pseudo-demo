CLASS Solution
    FUNCTION maxScore(grid)
        SET targetX TO LENGTH OF grid
        SET targetY TO LENGTH OF element at position 0 of grid
        SET lookup TO a list containing targetX elements each being a list of targetY elements set TO positive infinity
        SET element at position 0 of element at position 0 of lookup TO element at position 0 of element at position 0 of grid
        SET peakValue TO negative infinity

        FOR indexY FROM 1 TO targetY - 1
            SET element at position indexY of element at position 0 of lookup TO MIN(element at position indexY - 1 of element at position 0 of lookup, element at position indexY of element at position 0 of grid)
        END FOR

        SET posX TO 1
        WHILE posX < targetX
            SET element at position posX of element at position 0 of lookup TO MIN(element at position posX - 1 of element at position 0 of lookup, element at position posX of element at position 0 of grid)
            INCREMENT posX BY 1
        END WHILE

        SET rowIdx TO 1
        REPEAT
            IF rowIdx >= targetX THEN BREAK
            SET colIdx TO 1
            WHILE colIdx < targetY
                SET currentVal TO MIN(element at position colIdx of element at position rowIdx - 1 of lookup, element at position colIdx - 1 of element at position rowIdx of lookup)
                SET element at position colIdx of element at position rowIdx of lookup TO currentVal
                SET currentScore TO element at position colIdx of element at position rowIdx of grid - element at position colIdx of element at position rowIdx of lookup
                SET peakValue TO MAX(peakValue, currentScore)
                INCREMENT colIdx BY 1
            END WHILE
            INCREMENT rowIdx BY 1
        UNTIL FALSE

        RETURN peakValue
    END FUNCTION
END CLASS