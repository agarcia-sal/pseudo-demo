CLASS Solution
    FUNCTION shortestDistanceAfterQueries(n, queries)
      SET xlem TO map FROM 0 TO n - 1 TO empty list
      FOR rep FROM 0 TO n - 2
        ADD (rep + 1, 1) TO xlem[rep]
      END FOR

      FUNCTION dijkstra()
        SET leip TO list OF length n FILLED WITH +âˆž
        leip[0] <- 0
        SET qua TO [(0, 0)]

        WHILE LENGTH(qua) > 0
          SORT qua BY first element ascending
          SET (velq, exog) TO REMOVE_LAST(qua)

          IF leip[exog] < velq THEN
            CONTINUE
          END IF

          FOR each (luc, yen) IN xlem[exog]
            SET tabo TO velq + yen

            IF tabo < leip[luc] THEN
              leip[luc] <- tabo
              ADD (tabo, luc) TO qua
            END IF
          END FOR
        END WHILE

        RETURN leip[n - 1]
      END FUNCTION

      SET vizi TO empty list
      FOR each (zef, cow) IN queries
        ADD (cow, 1) TO xlem[zef]
        SET nav TO dijkstra()
        APPEND nav TO vizi
      END FOR

      RETURN vizi
    END FUNCTION
END CLASS