CLASS Solution
    FUNCTION lastNonEmptyString(q)
        DEFINE FUNCTION freqCounter(w)
            DEFINE freqMap AS empty dictionary
            DEFINE idx AS 0
            WHILE idx < LENGTH(w)
                IF freqMap CONTAINS KEY w[idx]
                    THEN SET freqMap[w[idx]] TO freqMap[w[idx]] + 1
                ELSE
                    SET freqMap[w[idx]] TO 1
                SET idx TO idx + 1
            RETURN freqMap
        END FUNCTION

        SET v TO freqCounter(q)
        DEFINE wr AS 0
        FOR EACH k IN v KEYS
            IF v[k] > wr
                SET wr TO v[k]

        DEFINE yx AS NEW SET
        FOR EACH key IN v KEYS
            IF v[key] = wr
                yx[INSERT key]

        DEFINE mM AS EMPTY LIST
        DEFINE cI AS LENGTH(q) - 1
        WHILE cI >= 0
            SET z TO q[cI]
            IF yx CONTAINS z
                mM APPEND z
                yx REMOVE z
            SET cI TO cI - 1

        DEFINE rr AS EMPTY STRING
        DEFINE pm AS LENGTH(mM) - 1
        WHILE pm >= 0
            SET rr TO rr + mM[pm]
            SET pm TO pm - 1
            
        RETURN rr
    END FUNCTION
END CLASS