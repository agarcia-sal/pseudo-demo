CLASS Solution
    FUNCTION sumOfPower(nums parameter, k parameter)
        SET guardian TO 1000000000 PLUS 7
        SET omega TO LENGTH OF nums
        SET matrix TO a new list with omega PLUS 1 elements each being a list of zeros of length k PLUS 1
        SET element at position 0 of element at position 0 of matrix TO 1

        SET alpha TO 1
        WHILE alpha LESS THAN OR EQUAL TO omega
            SET beta TO 0
            REPEAT
                SET element at position beta of element at position alpha of matrix TO element at position beta of element at position alpha MINUS 1 of matrix
                IF beta GREATER THAN OR EQUAL TO element at position alpha MINUS 1 of nums THEN
                    SET temp_idx TO beta MINUS element at position alpha MINUS 1 of nums
                    SET element at position beta of element at position alpha of matrix TO element at position beta of element at position alpha of matrix PLUS element at position temp_idx of element at position alpha MINUS 1 of matrix
                END IF
                SET element at position beta of element at position alpha of matrix TO element at position beta of element at position alpha of matrix MOD guardian
                SET beta TO beta PLUS 1
            UNTIL beta GREATER THAN k
            SET alpha TO alpha PLUS 1
        END WHILE

        SET aggregate TO 0
        SET limit TO (2 RAISED TO THE POWER OF omega) MINUS 1
        SET idx TO 1
        WHILE idx LESS THAN OR EQUAL TO limit
            SET acc_sum TO 0
            SET counter TO 0
            FOR pos FROM 0 TO omega MINUS 1
                SET residue TO (idx BITWISE AND (1 SHIFTED LEFT BY pos)) SHR 0
                IF residue EQUALS 1 THEN
                    SET acc_sum TO acc_sum PLUS element at position pos of nums
                    SET counter TO counter PLUS 1
                END IF
            END FOR
            IF acc_sum EQUALS k THEN
                SET power_exponent TO omega MINUS counter
                SET aggregate TO aggregate PLUS (2 RAISED TO THE POWER OF power_exponent)
                SET aggregate TO aggregate MOD guardian
            END IF
            SET idx TO idx PLUS 1
        END WHILE

        RETURN aggregate
    END FUNCTION
END CLASS