CLASS Solution
    FUNCTION getSmallestString(s parameter of type string k parameter of type integer) RETURNS string
        FUNCTION cyclic_distance(x parameter of type character y parameter of type character) RETURNS integer
            SET u TO ABS(ORD(x) - ORD(y))
            SET v TO 26 - u
            IF u <= v THEN
                RETURN u
            ELSE
                RETURN v
            END IF
        END FUNCTION

        SET omega TO LENGTH(s)
        SET delta TO 0
        SET phi TO LIST_FROM_STRING(s)
        SET lambda TO k

        WHILE lambda > 0 AND delta < omega
            IF phi[delta] = 'a' THEN
                SET delta TO delta + 1
                CONTINUE
            END IF

            SET rho TO cyclic_distance(phi[delta], 'a')
            IF rho <= lambda THEN
                SET phi[delta] TO 'a'
                SET lambda TO lambda - rho
            ELSE
                SET temp_code TO ORD(phi[delta]) - lambda
                SET phi[delta] TO CHAR(temp_code)
                SET lambda TO 0
            END IF

            SET delta TO delta + 1
        END WHILE

        RETURN STRING_FROM_LIST(phi)
    END FUNCTION
END CLASS