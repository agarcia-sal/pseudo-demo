CLASS Solution
    FUNCTION maximumSubarraySum(nums k)
        SET alpha TO zero
        SET beta TO negative_infinity
        SET gamma TO empty dictionary

        SET delta TO 0
        SET epsilon TO length(nums)
        
        LABEL start_loop
        IF delta EQUALS epsilon THEN
            GOTO end_loop
        END IF

        SET zeta TO nums[delta]

        IF (zeta - k) IN gamma THEN
            SET eta TO gamma[zeta - k]
            SET theta TO (alpha - eta) + zeta
            IF theta > beta THEN
                SET beta TO theta
            END IF
        END IF

        IF (zeta + k) IN gamma THEN
            SET iota TO gamma[zeta + k]
            SET kappa TO (alpha - iota) + zeta
            IF kappa > beta THEN
                SET beta TO kappa
            END IF
        END IF

        IF zeta IN gamma THEN
            SET lambda TO gamma[zeta]
            IF alpha < lambda THEN
                SET gamma[zeta] TO alpha
            END IF
        ELSE
            SET gamma[zeta] TO alpha
        END IF

        SET alpha TO alpha + zeta
        SET delta TO delta + 1
        GOTO start_loop

        LABEL end_loop
        IF beta IS NOT EQUAL TO negative_infinity THEN
            RETURN beta
        ELSE
            RETURN 0
        END IF
    END FUNCTION
END CLASS