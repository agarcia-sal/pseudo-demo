CLASS Solution
    FUNCTION countSubarrays(nums parameter LIST OF INTEGER k parameter INTEGER) RETURNS INTEGER
        SET length_of_list TO 0
        SET tally TO 0
        SET index_start TO 0
        SET flag_terminate TO FALSE
        SET pointer_end TO 0
        SET bitwise_result TO 0

        SET length_of_list TO LENGTHOF(nums)

        WHILE index_start <= length_of_list - 1
            SET bitwise_result TO nums[index_start]
            SET pointer_end TO index_start
            SET flag_terminate TO FALSE

            REPEAT
                SET bitwise_result TO (bitwise_result AND nums[pointer_end])

                IF (bitwise_result = k) THEN
                    SET tally TO tally + 1
                END IF

                IF NOT (bitwise_result >= k) THEN
                    SET flag_terminate TO TRUE
                END IF

                SET pointer_end TO pointer_end + 1
            UNTIL (flag_terminate = TRUE) OR (pointer_end > length_of_list - 1)

            SET index_start TO index_start + 1
        END WHILE

        RETURN tally
    END FUNCTION
END CLASS