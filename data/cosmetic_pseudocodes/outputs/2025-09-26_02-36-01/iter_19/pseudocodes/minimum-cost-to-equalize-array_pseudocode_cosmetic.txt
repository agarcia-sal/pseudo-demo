CLASS Solution
    FUNCTION minCostToEqualizeArray(fldjvwy ntxuvqreu pbftqgp)  
        SET qxyfnakp TO 1000000000 + 7
        SET vhwxum TO LENGTH OF fldjvwy
        SET hltivq TO fldjvwy[0]
        FOR ycobp IN 1 TO vhwxum - 1
            IF fldjvwy[ycobp] < hltivq THEN
                SET hltivq TO fldjvwy[ycobp]
            END IF
        END FOR
        SET adpzjl TO fldjvwy[0]
        FOR dgywro IN 1 TO vhwxum - 1
            IF fldjvwy[dgywro] > adpzjl THEN
                SET adpzjl TO fldjvwy[dgywro]
            END IF
        END FOR
        SET qtrhlv TO 0
        FOR kmpq IN 0 TO vhwxum - 1
            SET qtrhlv TO qtrhlv + fldjvwy[kmpq]
        END FOR

        IF pbftqgp * 2 <= ntxuvqreu OR vhwxum < 3 THEN
            SET xjcfap TO (adpzjl * vhwxum) - qtrhlv
            RETURN (xjcfap * pbftqgp) MOD qxyfnakp
        END IF

        FUNCTION getMinCost(xegcry)
            SET ntawk TO xegcry - hltivq
            SET zolam TO (xegcry * vhwxum) - qtrhlv
            SET snaduz TO zolam / 2
            IF zolam - ntawk < snaduz THEN
                SET snaduz TO zolam - ntawk
            END IF
            SET piryx TO (zolam * pbftqgp) - (snaduz * 2 * pbftqgp) + (snaduz * ntxuvqreu)
            RETURN piryx
        END FUNCTION

        SET prulhz TO getMinCost(adpzjl)
        SET rysfme TO adpzjl + 1
        WHILE rysfme < (2 * adpzjl)
            SET erixtq TO getMinCost(rysfme)
            IF erixtq < prulhz THEN
                SET prulhz TO erixtq
            END IF
            SET rysfme TO rysfme + 1
        END WHILE
        RETURN prulhz MOD qxyfnakp
    END FUNCTION
END CLASS