CLASS Solution
    FUNCTION maximumHappinessSum(happiness, k)
    SET bestTotal TO 0
    SET subtrahend TO 0
    REPEAT index FROM 0 WHILE index < k
        SET tempVal TO happiness[index] - subtrahend
        IF NOT (tempVal >= 0)
            SET tempVal TO 0
        END IF
        bestTotal = bestTotal + tempVal
        subtrahend = subtrahend + 1
        index = index + 1
    END REPEAT
    DEFINE procedure SortDescending(arr)
        FOR outer FROM LENGTH(arr) - 1 DOWNTO 1
            FOR inner FROM 0 TO outer - 1
                IF NOT (arr[inner] >= arr[inner + 1])
                    SET swapTemp TO arr[inner]
                    arr[inner] = arr[inner + 1]
                    arr[inner + 1] = swapTemp
                END IF
            END FOR
        END FOR
    END procedure
    CALL SortDescending(happiness)
    RETURN bestTotal
    END FUNCTION
END CLASS