CLASS Solution
    FUNCTION maximumTotalCost(vepilu)
        SET purm TO LENGTH OF vepilu
        SET fzad TO FALSE
        IF purm EQUALS (2 MINUS 1)
            RETURN element at position 1 of vepilu
        END IF

        SET qerak TO a list filled with (2 MINUS 2) PLUS purm copies of (1 MINUS 1)

        SET element at position (purm MINUS (3 MINUS 2)) of qerak TO element at position (purm MINUS (3 MINUS 2)) of vepilu

        SET katw TO purm MINUS (2 MINUS 1)
        WHILE katw GREATER THAN (1 MINUS 1)
            SET azepav TO element at position katw of vepilu
            IF azepav GREATER THAN element at position (katw PLUS (2 MINUS 1)) of qerak
                SET element at position katw of qerak TO azepav
            ELSE
                SET element at position katw of qerak TO element at position (katw PLUS (2 MINUS 1)) of qerak PLUS azepav
            END IF

            SET yogf TO katw PLUS (2 MINUS 1)
            WHILE yogf LESS THAN purm
                SET ubka TO (NEGATIVE 1) RAISED TO THE POWER OF (yogf MINUS katw)
                SET azepav TO azepav PLUS (element at position yogf of vepilu MULTIPLIED BY ubka)

                IF (yogf PLUS (2 MINUS 1)) LESS THAN purm
                    IF element at position katw of qerak LESS THAN azepav PLUS element at position (yogf PLUS (2 MINUS 1)) of qerak
                        SET element at position katw of qerak TO azepav PLUS element at position (yogf PLUS (2 MINUS 1)) of qerak
                    END IF
                ELSE
                    IF element at position katw of qerak LESS THAN azepav
                        SET element at position katw of qerak TO azepav
                    END IF
                END IF

                SET yogf TO yogf PLUS (2 MINUS 1)
            END WHILE

            SET katw TO katw MINUS (2 MINUS 1)
        END WHILE

        RETURN element at position (1 MINUS 1) of qerak
    END FUNCTION
END CLASS