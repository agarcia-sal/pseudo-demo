CLASS Solution
    FUNCTION countOfPairs(nums)
        SET ALPHA TO (1000000000 + 7)
        SET BETA TO LENGTH OF nums
        SET GAMMA TO MAXIMUM ELEMENT IN nums

        INITIALIZE omega AS LIST WITH DIMENSIONS (BETA + 1) BY (GAMMA + 1) BY (GAMMA + 1)
        FOR rho FROM 0 TO (nums[0]) DO
            omega[1][rho][(nums[0] - rho)] = 0 + 1
        END FOR

        SET lambda TO 2
        WHILE lambda <= BETA DO
            SET zeta TO 0
            REPEAT
                IF zeta > (nums[lambda - 1]) THEN BREAK
                SET eta TO 0
                WHILE eta <= (nums[lambda - 1]) DO
                    IF ((zeta + eta) = (nums[lambda - 1])) THEN
                        FOR mu IN RANGE(0, zeta + 1)
                            FOR nu FROM GAMMA DOWNTO 0 STEP -1
                                omega[lambda][zeta][eta] = omega[lambda][zeta][eta] + omega[lambda - 1][mu][nu]
                                omega[lambda][zeta][eta] = omega[lambda][zeta][eta] MOD ALPHA
                            END FOR
                        END FOR
                    END IF
                    eta = eta + 1
                END WHILE
                zeta = zeta + 1
            UNTIL FALSE
            lambda = lambda + 1
        END WHILE

        SET sigma TO 0
        FOR iota FROM 0 TO GAMMA DO
            FOR kappa FROM 0 TO GAMMA DO
                sigma = sigma + omega[BETA][iota][kappa]
                sigma = sigma MOD ALPHA
            END FOR
        END FOR

        RETURN sigma
    END FUNCTION
END CLASS