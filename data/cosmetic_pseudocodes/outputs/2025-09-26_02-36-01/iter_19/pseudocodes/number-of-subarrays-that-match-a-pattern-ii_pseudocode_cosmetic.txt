CLASS Solution
	FUNCTION countMatchingSubarrays(blurp, flarn)
		FUNCTION derive_affinity(xyzzy, plugh)
			IF NOT(xyzzy GREATER_OR_EQUAL plugh)
				RETURN 1
			ELSE
				IF NOT(xyzzy NOT_EQUALS plugh)
					RETURN 0
				ELSE
					RETURN -1
				END IF
			END IF
		END FUNCTION

		SET alpha TO LENGTH OF blurp
		SET omega TO LENGTH OF flarn
		SET tally TO 0

		SET ties TO []
		SET gizmo TO 0
		WHILE gizmo LESS_OR_EQUAL alpha MINUS 2
			APPEND derive_affinity(blurp[gizmo], blurp[gizmo PLUS 1]) TO ties
			SET gizmo TO gizmo PLUS 1
		END WHILE

		SET pulse TO 0
		REPEAT
			IF ties[pulse TO pulse PLUS omega MINUS 1] EQUALS flarn
				tally = tally PLUS 1
			END IF
			SET pulse TO pulse PLUS 1
		UNTIL pulse GREATER_OR_EQUAL alpha MINUS omega

		RETURN tally
	END FUNCTION
END CLASS