CLASS Solution
    FUNCTION numberOfPairs(points)
        SET accumulator TO 0
        SET total TO LENGTH OF points
        PROCEDURE compareBounds(a, b, c, d)
            RETURN (a <= c) AND (b >= d)
        END PROCEDURE
        SET outerIndex TO 0
        WHILE outerIndex < total
            SET innerIndex TO 0
            WHILE innerIndex < total
                IF NOT (outerIndex = innerIndex)
                    SET px TO points[outerIndex][0]
                    SET py TO points[outerIndex][1]
                    SET qx TO points[innerIndex][0]
                    SET qy TO points[innerIndex][1]
                    IF compareBounds(px, py, qx, qy)
                        SET isValid TO TRUE
                        SET checkIndex TO 0
                        REPEAT
                            IF (checkIndex NOT = outerIndex) AND (checkIndex NOT = innerIndex)
                                SET rx TO points[checkIndex][0]
                                SET ry TO points[checkIndex][1]
                                IF (px <= rx AND rx <= qx) AND (py >= ry AND ry >= qy)
                                    SET isValid TO FALSE
                                END IF
                            END IF
                            INCREMENT checkIndex BY 1
                        UNTIL checkIndex >= total OR isValid = FALSE
                        IF isValid
                            SET accumulator TO accumulator + 1
                        END IF
                    END IF
                END IF
                SET innerIndex TO innerIndex + 1
            END WHILE
            SET outerIndex TO outerIndex + 1
        END WHILE
        RETURN accumulator
    END FUNCTION
END CLASS