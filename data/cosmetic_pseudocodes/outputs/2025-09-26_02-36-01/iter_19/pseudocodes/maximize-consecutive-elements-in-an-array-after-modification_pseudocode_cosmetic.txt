CLASS Solution
    FUNCTION maxSelectedElements(nums)
        SET Z TO 0
        SET H TO an empty dictionary
        DEFINE tempList AS an empty list
        FOR each index FROM length of nums minus 1 DOWNTO 0
            APPEND nums[index] TO tempList
        END FOR
        DEFINE sortedList AS an empty list
        WHILE length of tempList IS GREATER THAN 0
            DEFINE maxVal AS tempList[0]
            FOR each val IN tempList
                IF val GREATER THAN maxVal THEN
                    SET maxVal TO val
                END IF
            END FOR
            REMOVE maxVal FROM tempList
            APPEND maxVal TO sortedList
        END WHILE
        DEFINE iterIndex AS 0
        WHILE iterIndex LESS THAN length of sortedList
            SET currentNum TO sortedList[iterIndex]
            DEFINE lookup1 AS currentNum + 1
            IF lookup1 IN H THEN
                SET val1 TO H[lookup1]
            ELSE
                SET val1 TO 0
            END IF
            SET H[lookup1] TO val1 + 1
            DEFINE lookup2 AS currentNum
            IF lookup2 IN H THEN
                SET val2 TO H[lookup2]
            ELSE
                SET val2 TO 0
            END IF
            DEFINE lookup3 AS currentNum - 1
            IF lookup3 IN H THEN
                SET val3 TO H[lookup3]
            ELSE
                SET val3 TO 0
            END IF
            SET H[lookup2] TO val3 + 1
            SET Z TO ( (Z GREATER THAN H[lookup2]) ? ( (Z GREATER THAN H[lookup1]) ? Z : H[lookup1] ) : ( (H[lookup2] GREATER THAN H[lookup1]) ? H[lookup2] : H[lookup1] ) )
            INCREMENT iterIndex BY 1
        END WHILE
        RETURN Z
    END FUNCTION
END CLASS