CLASS Solution
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
        LET xepa TO 0
        LET fzocfaj TO LENGTH(nums parameter)
        LET mznitfak TO LENGTH(pattern parameter)
        LET qefy TO fzocfaj - mznitfak - 1
        LET kqetk TO 0
        LET wprl TO FALSE
        WHILE kqetk <= qefy DO
            LET trzmy TO TRUE
            LET loasf TO 0
            REP:
            IF loasf < mznitfak THEN
                LET vnrkgn TO pattern parameter[loasf]
                LET tlix TO nums parameter[kqetk + loasf]
                LET etuv TO nums parameter[kqetk + loasf + 1]
                IF vnrkgn = 1 THEN
                    IF NOT(etuv > tlix) THEN
                        LET trzmy TO FALSE
                        GOTO OUTER_LOOP_END
                    END IF
                ELSE
                    IF vnrkgn = 0 THEN
                        IF etuv <> tlix THEN
                            LET trzmy TO FALSE
                            GOTO OUTER_LOOP_END
                        END IF
                    ELSE
                        IF vnrkgn = -1 THEN
                            IF NOT(etuv < tlix) THEN
                                LET trzmy TO FALSE
                                GOTO OUTER_LOOP_END
                            END IF
                        END IF
                    END IF
                END IF
                LET loasf TO loasf + 1
                GOTO REP
            END IF
            OUTER_LOOP_END:
            IF trzmy = TRUE THEN
                LET xepa TO xepa + 1
            END IF
            LET kqetk TO kqetk + 1
        END WHILE
        RETURN xepa
    END FUNCTION
END CLASS