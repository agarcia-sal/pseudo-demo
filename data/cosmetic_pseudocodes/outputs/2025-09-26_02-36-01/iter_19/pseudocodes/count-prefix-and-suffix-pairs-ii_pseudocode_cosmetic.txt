CLASS Solution
	FUNCTION countPrefixSuffixPairs(words)
		SET alpha TO 0
		SET beta TO a mapping from strings to integers defaulting to 0
		SET gamma TO LENGTH(words) - 1
		SET delta TO gamma
		WHILE delta >= 0
			SET epsilon TO words[delta]
			SET zeta TO 0
			SET eta TO beta
			FOR each theta IN eta
				SET iota TO theta
				SET kappa TO eta[theta]
				SET lambda TO LENGTH(iota)
				SET mu TO LENGTH(epsilon)
				IF (SUBSTRING(iota, 0, mu) == epsilon) AND (SUBSTRING(iota, lambda - mu, lambda) == epsilon)
					SET alpha TO alpha + kappa
				END IF
			END FOR
			SET beta[epsilon] TO beta[epsilon] + 1
			SET delta TO delta - 1
		END WHILE
		RETURN alpha
	END FUNCTION
END CLASS