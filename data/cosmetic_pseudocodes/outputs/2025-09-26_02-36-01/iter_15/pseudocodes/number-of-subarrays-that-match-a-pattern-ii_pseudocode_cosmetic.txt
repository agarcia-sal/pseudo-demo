```pseudocode
CLASS Solution
    FUNCTION countMatchingSubarrays(nums, pattern)
        FUNCTION get_relationship(xyz1, xyz2)
            IF NOT (xyz1 >= xyz2)
                RETURN 1
            ELSE
                IF (NOT (xyz1 != xyz2))
                    RETURN 0
                ELSE
                    RETURN -1
                END IF
            END IF
        END FUNCTION

        SET alpha TO 0
        SET bravo TO LENGTH(nums)
        SET charlie TO LENGTH(pattern)
        SET delta TO 0
        SET echo TO EMPTY LIST

        SET foxtrot TO 0
        WHILE foxtrot <= bravo - 2
            SET letter TO get_relationship(nums[foxtrot], nums[foxtrot + 1])
            APPEND letter TO echo
            SET foxtrot TO foxtrot + 1
        END WHILE

        SET golf TO 0
        REPEAT
            IF (SUBLIST(echo, golf, golf + charlie - 1) = pattern)
                SET delta TO delta + 1
            END IF
            SET golf TO golf + 1
        UNTIL golf > bravo - charlie - 1

        RETURN delta
    END FUNCTION
END CLASS
```