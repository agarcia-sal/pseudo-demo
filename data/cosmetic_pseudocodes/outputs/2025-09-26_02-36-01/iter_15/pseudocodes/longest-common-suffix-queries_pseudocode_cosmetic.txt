```pseudocode
CLASS Solution
    FUNCTION stringIndices(wordsContainer wordsContainer TO LIST OF STRING, wordsQuery wordsQuery TO LIST OF STRING) RETURNS LIST OF INTEGER
        SET qnfvniu TO empty dictionary mapping STRING to INTEGER

        SET mptkbaq TO 0
        WHILE mptkbaq < LENGTH(wordsContainer)
            SET vjiuajz TO wordsContainer[mptkbaq]
            SET uvskxmw TO 0
            WHILE uvskxmw <= LENGTH(vjiuajz) - 1
                SET xwrfpdt TO SUBSTRING(vjiuajz, uvskxmw, LENGTH(vjiuajz) - uvskxmw)
                IF NOT (xwrfpdt IN qnfvniu) THEN
                    SET qnfvniu[xwrfpdt] TO mptkbaq
                ELSE
                    SET vpwxcoz TO qnfvniu[xwrfpdt]
                    IF (LENGTH(vjiuajz) < LENGTH(wordsContainer[vpwxcoz])) OR ((LENGTH(vjiuajz) = LENGTH(wordsContainer[vpwxcoz])) AND (mptkbaq < vpwxcoz)) THEN
                        SET qnfvniu[xwrfpdt] TO mptkbaq
                    END IF
                END IF
                SET uvskxmw TO uvskxmw + 1
            END WHILE
            SET mptkbaq TO mptkbaq + 1
        END WHILE

        FUNCTION get_best_match(query query TO STRING) RETURNS INTEGER
            SET lbagxhz TO 0
            WHILE lbagxhz <= LENGTH(query) - 1
                SET wghloqs TO SUBSTRING(query, lbagxhz, LENGTH(query) - lbagxhz)
                IF wghloqs IN qnfvniu THEN
                    RETURN qnfvniu[wghloqs]
                END IF
                SET lbagxhz TO lbagxhz + 1
            END WHILE

            SET gphizna TO 0
            SET ntlcqmy TO wordsContainer[0]
            SET uzvroqw TO 0
            REPEAT
                IF (LENGTH(wordsContainer[uzvroqw]) < LENGTH(ntlcqmy)) OR ((LENGTH(wordsContainer[uzvroqw]) = LENGTH(ntlcqmy)) AND (uzvroqw < gphizna)) THEN
                    SET gphizna TO uzvroqw
                    SET ntlcqmy TO wordsContainer[uzvroqw]
                END IF
                SET uzvroqw TO uzvroqw + 1
            UNTIL uzvroqw >= LENGTH(wordsContainer)
            RETURN gphizna
        END FUNCTION

        SET vwjoimx TO empty LIST OF INTEGER
        SET dwmklha TO 0
        WHILE dwmklha < LENGTH(wordsQuery)
            SET ouhjdxg TO get_best_match(wordsQuery[dwmklha])
            APPEND ouhjdxg TO vwjoimx
            SET dwmklha TO dwmklha + 1
        END WHILE

        RETURN vwjoimx
    END FUNCTION
END CLASS
```