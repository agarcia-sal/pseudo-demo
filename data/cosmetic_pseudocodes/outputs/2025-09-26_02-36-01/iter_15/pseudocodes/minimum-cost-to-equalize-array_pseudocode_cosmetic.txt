```pseudocode
CLASS Solution
    FUNCTION minCostToEqualizeArray(nums cost1 cost2)
        CONSTANT P TO (10^9 + 7)
        SET u TO LENGTH(nums)
        SET a TO nums[0]
        SET i TO 1
        WHILE i < u
            IF nums[i] < a THEN
                SET a TO nums[i]
            END IF
            SET i TO i + 1
        END WHILE
        SET d TO nums[0]
        SET j TO 1
        WHILE j < u
            IF nums[j] > d THEN
                SET d TO nums[j]
            END IF
            SET j TO j + 1
        END WHILE
        SET s TO 0
        SET k TO 0
        WHILE k < u
            SET s TO s + nums[k]
            SET k TO k + 1
        END WHILE

        IF (cost1 * 2) <= cost2 OR u < 3 THEN
            SET v TO (d * u) - s
            RETURN ((cost1 * v) MOD P)
        END IF

        FUNCTION getMinCost(target)
            SET e TO target - a
            SET f TO (target * u) - s
            SET h TO f / 2
            SET g TO f - e
            SET m TO MIN(h g)
            RETURN (cost1 * f) - (2 * m * cost1) + (cost2 * m)
        END FUNCTION

        SET w TO MAX(0, 2 * d - 1)
        SET best TO getMinCost(d)
        SET l TO d + 1
        WHILE l <= w
            SET candidate TO getMinCost(l)
            IF candidate < best THEN
                SET best TO candidate
            END IF
            SET l TO l + 1
        END WHILE

        RETURN (best MOD P)
    END FUNCTION
END CLASS
```