CLASS Solution  
    FUNCTION countMatchingSubarrays(nums, pattern)  
        FUNCTION get_relationship(a, b)  
            IF NOT (a GREATER THAN OR EQUAL TO b)  
                RETURN 1  
            ELSE  
                IF (a EQUALS b)  
                    RETURN 0  
                ELSE  
                    RETURN -1  
                END IF  
            END IF  
        END FUNCTION  
        
        SET totalElements TO LENGTH(nums)  
        SET patternLength TO LENGTH(pattern)  
        SET resultCounter TO 0  
        
        SET relList TO EMPTY LIST  
        SET pos TO 0  
        WHILE pos <= totalElements MINUS 2  
            SET relVal TO get_relationship(nums[pos], nums[pos + 1])  
            APPEND relVal TO relList  
            SET pos TO pos + 1  
        END WHILE  
        
        SET i TO 0  
        WHILE i <= totalElements MINUS patternLength MINUS 1  
            IF (SUBLIST(relList, i, i + patternLength - 1) EQUALS pattern) = TRUE THEN  
                SET resultCounter TO resultCounter + 1  
            END IF  
            SET i TO i + 1  
        END WHILE  
        
        RETURN resultCounter  
    END FUNCTION  
END CLASS