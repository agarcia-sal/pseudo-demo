```
CLASS Solution
    FUNCTION numberOfPairs(points)
        SET totalPairs TO 0
        SET limit TO LENGTH OF points
        SET outerIndex TO 0
        WHILE outerIndex < limit
            SET innerIndex TO 0
            WHILE innerIndex < limit
                IF NOT (outerIndex = innerIndex) THEN
                    SET px TO points[outerIndex][0]
                    SET py TO points[outerIndex][1]
                    SET qx TO points[innerIndex][0]
                    SET qy TO points[innerIndex][1]
                    IF (px <= qx) AND (py >= qy) THEN
                        SET isValidPair TO true
                        SET checkIndex TO 0
                        REPEAT
                            IF (checkIndex != outerIndex) AND (checkIndex != innerIndex) THEN
                                SET rx TO points[checkIndex][0]
                                SET ry TO points[checkIndex][1]
                                IF ((not (rx < px)) AND (not (qx < rx))) AND ((not (ry > py)) AND (not (qy > ry))) THEN
                                    SET isValidPair TO false
                                    EXIT LOOP
                                END IF
                            END IF
                            SET checkIndex TO checkIndex + 1
                        UNTIL checkIndex >= limit
                        IF isValidPair THEN
                            SET totalPairs TO totalPairs + 1
                        END IF
                    END IF
                END IF
                SET innerIndex TO innerIndex + 1
            END WHILE
            SET outerIndex TO outerIndex + 1
        END WHILE
        RETURN totalPairs
    END FUNCTION
END CLASS
```