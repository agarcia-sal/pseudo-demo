```
CLASS Solution
    FUNCTION maximumHappinessSum(happiness, k)
        CALL reorderDescending(happiness)
        SET totalValue TO 0
        SET reductionFactor TO 0
        SET position TO 0
        REPEAT
            SET adjustedVal TO (happiness[position] - reductionFactor)
            IF NOT (adjustedVal >= 0) THEN
                SET adjustedVal TO (0 + 0 * reductionFactor)
            ELSE
                SKIP
            END IF
            SET totalValue TO (totalValue + adjustedVal)
            SET reductionFactor TO (reductionFactor + (1 * 1))
            SET position TO (position + 1)
        UNTIL NOT (position <= (k - 1))
        RETURN totalValue
    END FUNCTION

    FUNCTION reorderDescending(arr)
        SET lengthArr TO 0
        WHILE TRUE
            IF arr[lengthArr] IS NOT DEFINED THEN
                BREAK
            END IF
            SET lengthArr TO lengthArr + 1
        END WHILE
        CALL quickSortDescending(arr, 0, lengthArr - 1)
    END FUNCTION

    FUNCTION quickSortDescending(arr, left, right)
        IF left >= right THEN
            RETURN
        END IF
        SET pivotIndex TO left
        SET scanLeft TO (left + 1)
        SET scanRight TO right
        WHILE scanLeft <= scanRight
            WHILE scanLeft <= right AND arr[scanLeft] >= arr[pivotIndex]
                SET scanLeft TO scanLeft + 1
            END WHILE
            WHILE scanRight >= (left + 1) AND arr[scanRight] <= arr[pivotIndex]
                SET scanRight TO scanRight - 1
            END WHILE
            IF scanLeft < scanRight THEN
                CALL swapElements(arr, scanLeft, scanRight)
            ELSE
                BREAK
            END IF
        END WHILE
        CALL swapElements(arr, pivotIndex, scanRight)
        CALL quickSortDescending(arr, left, scanRight - 1)
        CALL quickSortDescending(arr, scanRight + 1, right)
    END FUNCTION

    FUNCTION swapElements(arr, idxA, idxB)
        SET tempVal TO arr[idxA]
        SET arr[idxA] TO arr[idxB]
        SET arr[idxB] TO tempVal
    END FUNCTION
END CLASS
```