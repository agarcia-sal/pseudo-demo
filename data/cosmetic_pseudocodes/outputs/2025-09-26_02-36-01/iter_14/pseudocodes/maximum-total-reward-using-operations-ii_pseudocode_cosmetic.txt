CLASS Solution  
    FUNCTION maxTotalReward(rewardValues)  
      DECLARE a AS INTEGER := 1  
      DECLARE b AS SET := SORTED_SET(rewardValues)  
      PROCEDURE updateMask(x)  
        SET a = a OR ( ((1 << x) - 1) << x )  
      END PROCEDURE  
      WHILE TRUE  
        EXIT WHEN b IS EMPTY  
        DECLARE c AS INTEGER := FIRST_ELEMENT(b)  
        CALL updateMask(c)  
        REMOVE_FIRST_ELEMENT(b)  
      END WHILE  
      RETURN (NUMBER_OF_BITS(a) - 1)  
    END FUNCTION  
END CLASS