```pseudocode
CLASS Solution
    FUNCTION countPrefixSuffixPairs(words)
        SET totalMatches TO 0
        SET frequencyMap TO a mapping from keys to integer counts with default zero

        SET index TO length(words)
        WHILE index > 0 DO
            SET index TO index - 1
            SET currentWord TO words[index]

            FOR each recordedKey IN frequencyMap DO
                IF NOT (currentWord ≠ substring(recordedKey, 0, length(currentWord)) OR currentWord ≠ substring(recordedKey, length(recordedKey) - length(currentWord), length(recordedKey))) THEN
                    SET totalMatches TO totalMatches + frequencyMap[recordedKey]
                END IF
            END FOR

            SET frequencyMap[currentWord] TO frequencyMap[currentWord] + 1
        END WHILE

        RETURN totalMatches
    END FUNCTION
END CLASS
```