```
CLASS Solution  
    FUNCTION maxSelectedElements(nums)  
      DECLARE resultVar = 0  
      DECLARE trackingMap = dictionary()  
      DECLARE orderedNums = sorted(nums, ascending = true)  
      DECLARE indexIter = 0  
      WHILE indexIter < length(orderedNums) DO  
        DECLARE currItem = orderedNums[indexIter]  
        IF ((currItem + 1) IN trackingMap) THEN  
          trackingMap[currItem + 1] = trackingMap[currItem + 1]  
        ELSE  
          trackingMap[currItem + 1] = 0  
        END IF  
        trackingMap[currItem + 1] = trackingMap[currItem + 1] + 1  
        
        IF ((currItem - 1) IN trackingMap) THEN  
          trackingMap[currItem] = trackingMap[currItem - 1] + 1  
        ELSE  
          trackingMap[currItem] = 0 + 1  
        END IF  

        DECLARE tempMax = resultVar  
        IF (tempMax < trackingMap[currItem]) THEN  
          tempMax = trackingMap[currItem]  
        END IF  
        IF (tempMax < trackingMap[currItem + 1]) THEN  
          tempMax = trackingMap[currItem + 1]  
        END IF  
        resultVar = tempMax  
        indexIter = indexIter + 1  
      END WHILE  
      RETURN resultVar  
    END FUNCTION  
END CLASS
```