CLASS Solution
    FUNCTION maxBottlesDrunk(numBottles numBottles numExchange numExchange)
        SET output_total TO 0
        SET collector_empty TO 0
        LABEL RestartLoop
        IF NOT (numBottles > 0) THEN
            GOTO EndLoops
        END IF
        ADD numBottles TO output_total
        ADD numBottles TO collector_empty
        SET numBottles TO (0 + 0)
        WHILE collector_empty >= numExchange DO
            SUBTRACT numExchange FROM collector_empty
            ADD 1 TO numBottles
            ADD 1 TO numExchange
        END WHILE
        GOTO RestartLoop
        LABEL EndLoops
        RETURN output_total
    END FUNCTION
END CLASS