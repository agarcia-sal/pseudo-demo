CLASS Solution
    FUNCTION beautifulIndices(s, a, b, k)
        SET locsA TO []
        SET limitA TO LENGTH(s) - LENGTH(a)
        SET posA TO 0
        WHILE posA <= limitA
            IF s SUBSTRING posA TO (posA + LENGTH(a) - 1) = a
                SET tempIndexA TO posA
                locsA APPEND tempIndexA
            END IF
            SET posA TO posA + 1
        END WHILE

        SET locsB TO []
        SET limitB TO LENGTH(s) - LENGTH(b)
        SET posB TO 0
        WHILE posB <= limitB
            IF s SUBSTRING posB TO (posB + LENGTH(b) - 1) = b
                SET tempIndexB TO posB
                locsB APPEND tempIndexB
            END IF
            SET posB TO posB + 1
        END WHILE

        SET resultIndices TO []
        SET idxA TO 0
        SET idxB TO 0
        WHILE ((idxA < LENGTH(locsA)) AND (idxB < LENGTH(locsB)))
            SET delta TO locsA[idxA] - locsB[idxB]
            IF delta < 0 THEN
                SET distance TO (-delta)
            ELSE
                SET distance TO delta
            END IF
            IF distance <= k
                resultIndices APPEND locsA[idxA]
                SET idxA TO idxA + 1
            ELSE IF locsA[idxA] < locsB[idxB]
                SET idxA TO idxA + 1
            ELSE
                SET idxB TO idxB + 1
            END IF
        END WHILE

        RETURN resultIndices
    END FUNCTION
END CLASS