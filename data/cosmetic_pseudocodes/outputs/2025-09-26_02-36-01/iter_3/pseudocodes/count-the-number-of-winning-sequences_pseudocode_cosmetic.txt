CLASS Solution
    FUNCTION countWinningSequences(s)
        FUNCTION calc(a, b)
            IF a == b THEN
                RETURN 0
            ELSE
                IF a < b THEN
                    IF (a == 0) AND (b == 2) THEN
                        RETURN 1
                    ELSE
                        RETURN -1
                    END IF
                ELSE
                    IF (a == 2) AND (b == 0) THEN
                        RETURN -1
                    ELSE
                        RETURN 1
                    END IF
                END IF
            END IF
        END FUNCTION

        FUNCTION dfs(x, y, z)
            WHILE ( (LEN(s) - x) <= y )
                RETURN 0
            END WHILE
            IF x >= LEN(s) THEN
                IF y < 0 THEN
                    RETURN 1
                ELSE
                    RETURN 0
                END IF
            END IF
            SET accumulator = 0
            SET index = 0
            WHILE index <= 2
                IF index == z THEN
                    SET index = index + 1
                    CONTINUE
                END IF
                SET tempVal = calc(d[s[x]], index)
                SET accumulator = accumulator + dfs(x + 1, y + tempVal, index)
                SET accumulator = accumulator MOD (1000000000 + 7)
                SET index = index + 1
            END WHILE
            RETURN accumulator
        END FUNCTION

        SET mod = 10**9 + 7
        SET d = {'F':0, 'W':1, 'E':2}
        SET answer = dfs(0, 0, -1)
        dfs_cache_clear()
        RETURN answer
    END FUNCTION
END CLASS