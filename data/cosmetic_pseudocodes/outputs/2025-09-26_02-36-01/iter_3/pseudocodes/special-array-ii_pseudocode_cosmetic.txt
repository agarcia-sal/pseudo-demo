CLASS Solution
    FUNCTION isArraySpecial(nums, queries)
        SET parityList TO new empty collection
        SET indexCounter TO 0
        WHILE indexCounter LESS THAN LENGTH OF nums
            SET currentValue TO nums[indexCounter]
            SET parityBit TO currentValue MOD 2
            parityList ADD parityBit
            indexCounter INCREMENT BY 1
        END WHILE

        SET prefixSpecial TO new list FILLED WITH 0, SIZE EQUAL TO LENGTH OF nums
        SET position TO 1
        WHILE position LESS THAN LENGTH OF nums
            SET currentParity TO parityList[position]
            SET previousParity TO parityList[position - 1]
            IF currentParity IS NOT EQUAL TO previousParity
                SET prefixSpecial[position] TO prefixSpecial[position - 1] MULTIPLY BY 0
            ELSE
                SET prefixSpecial[position] TO prefixSpecial[position - 1] PLUS 1
            END IF
            position ASSIGN position PLUS 1
        END WHILE

        SET output TO empty collection
        SET queryIndex TO 0
        WHILE queryIndex LESS THAN LENGTH OF queries
            SET queryPair TO queries[queryIndex]
            SET startIdx TO queryPair[0]
            SET endIdx TO queryPair[1]
            IF startIdx EQUALS endIdx
                output ADD True
            ELSE
                IF startIdx GREATER THAN 0
                    SET fromPrefix TO prefixSpecial[startIdx]
                ELSE
                    SET fromPrefix TO 0
                END IF
                SET diffValue TO prefixSpecial[endIdx] MINUS fromPrefix
                output ADD (NOT (diffValue NOT EQUAL TO 0))
            END IF
            queryIndex INCREMENT BY 1
        END WHILE

        RETURN output
    END FUNCTION
END CLASS