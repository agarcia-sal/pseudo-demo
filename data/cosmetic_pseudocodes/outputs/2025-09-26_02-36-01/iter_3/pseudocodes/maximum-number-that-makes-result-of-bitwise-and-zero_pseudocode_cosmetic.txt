CLASS Solution  
    FUNCTION maxNumber(n)  
        DECLARE counter = 1  
        IF NOT (n > 1) THEN   
            RETURN 0  
        END IF  
        REPEAT  
            counter *= 2  
        UNTIL counter > n  
        counter = counter / 2  
        DECLARE result = counter + (-1)  
        RETURN result  
    END FUNCTION  
END CLASS