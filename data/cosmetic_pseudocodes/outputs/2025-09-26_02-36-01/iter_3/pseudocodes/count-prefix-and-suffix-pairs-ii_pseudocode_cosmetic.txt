CLASS Solution
    FUNCTION countPrefixSuffixPairs(words)
        SET totalPairs TO 0
        SET tracker TO a dictionary defaulting integer 0
        SET idx TO LENGTH(words) - 1
        WHILE idx >= 0 DO
            LET currentWord BE words[idx]
            FOR each recordedKey IN tracker.keys()
                LET keyLength BE LENGTH(recordedKey)
                LET currentLength BE LENGTH(currentWord)
                LET prefixSubstr BE recordedKey[0 : currentLength]
                LET suffixSubstr BE recordedKey[(keyLength - currentLength) : keyLength]
                IF NOT (currentWord != prefixSubstr OR currentWord != suffixSubstr) THEN
                    totalPairs += tracker[recordedKey]
                END IF
            END FOR
            LET existingCount BE tracker.get(currentWord, 0)
            tracker[currentWord] = existingCount + 1
            idx = idx - 1
        END WHILE
        RETURN totalPairs
    END FUNCTION
END CLASS