CLASS Solution
    FUNCTION numberOfPairs(points)
        DEFINE m := 0
        LET totalPoints := LENGTH(points)
        DECLARE u := 0
        WHILE u < totalPoints - 1
            LET v := u + 1
            WHILE v < totalPoints
                LET ax := points[u].x
                LET ay := points[u].y
                LET bx := points[v].x
                LET by := points[v].y
                IF (NOT (ax > bx)) AND (ay >= by)
                    LET flag := 1
                    LET w := u + 1
                    WHILE w <= v - 1
                        LET cx := points[w].x
                        LET cy := points[w].y
                        IF (NOT (ax > cx)) AND (NOT (cx > bx)) AND (by <= cy) AND (NOT (cy > ay))
                            SET flag := 0
                            BREAK
                        END IF
                        SET w := w + 1
                    END WHILE
                    IF flag = 1 THEN m := m + 1 END IF
                END IF
                SET v := v + 1
            END WHILE
            SET u := u + 1
        END WHILE
        REPEAT
            LET i := 0
            LET swapped := False
            WHILE i < totalPoints - 1
                IF (points[i].x > points[i+1].x) OR ((points[i].x = points[i+1].x) AND (points[i].y < points[i+1].y))
                    LET temp := points[i]
                    SET points[i] := points[i+1]
                    SET points[i+1] := temp
                    SET swapped := True
                END IF
                SET i := i + 1
            END WHILE
        UNTIL swapped = False
        RETURN m
    END FUNCTION
END CLASS