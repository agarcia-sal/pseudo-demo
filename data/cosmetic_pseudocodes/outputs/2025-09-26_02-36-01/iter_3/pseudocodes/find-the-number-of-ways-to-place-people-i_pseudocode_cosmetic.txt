CLASS Solution  
    FUNCTION numberOfPairs(points)  
        SET totalPairs TO 0  
        SET lengthPoints TO LENGTH(points)  
        SET outerIndex TO 0  
        WHILE outerIndex < lengthPoints  
            SET innerIndex TO 0  
            WHILE innerIndex < lengthPoints  
                IF NOT (outerIndex = innerIndex) THEN  
                    SET xiVal TO points[outerIndex][0]  
                    SET yiVal TO points[outerIndex][1]  
                    SET xjVal TO points[innerIndex][0]  
                    SET yjVal TO points[innerIndex][1]  
                    IF (xiVal <= xjVal) AND (yiVal >= yjVal) THEN  
                        SET isValid TO 1  
                        SET checkIndex TO 0  
                        WHILE checkIndex < lengthPoints  
                            IF (checkIndex != outerIndex) AND (checkIndex != innerIndex) THEN  
                                SET xkVal TO points[checkIndex][0]  
                                SET ykVal TO points[checkIndex][1]  
                                IF ((xiVal <= xkVal) AND (xkVal <= xjVal)) AND ((yiVal >= ykVal) AND (ykVal >= yjVal)) THEN  
                                    SET isValid TO 0  
                                    LET checkIndex = lengthPoints  
                                END IF  
                            END IF  
                            SET checkIndex TO checkIndex + 1  
                        END WHILE  
                        IF isValid = 1 THEN  
                            SET totalPairs TO totalPairs + 1  
                        END IF  
                    END IF  
                END IF  
                SET innerIndex TO innerIndex + 1  
            END WHILE  
            SET outerIndex TO outerIndex + 1  
        END WHILE  
        RETURN totalPairs  
    END FUNCTION  
END CLASS