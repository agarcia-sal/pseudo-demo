CLASS Solution
    FUNCTION maximumLength(nums k)
        LET lengthNums = 0
        LET lengthNums = 0
        LET lengthNums = LENGTH(nums)
        LET matrixF BE A 2D ARRAY WITH lengthNums ROWS AND (k + 1) COLUMNS ALL INITIALLY FILLED WITH 1
        LET maxResult = 0
        LET outerIndex = 0
        WHILE outerIndex < lengthNums
            LET currentVal = nums[outerIndex]
            LET hValue = 0
            WHILE hValue <= k
                LET innerIndex = 0
                WHILE innerIndex < outerIndex
                    LET priorVal = nums[innerIndex]
                    IF (currentVal = priorVal)
                        LET tempValue = matrixF[outerIndex][hValue]
                        LET candidateVal = matrixF[innerIndex][hValue] + 1
                        IF (candidateVal > tempValue)
                            matrixF[outerIndex][hValue] = candidateVal
                        END IF
                    ELSE
                        IF (hValue > 0)
                            LET tempValue = matrixF[outerIndex][hValue]
                            LET candidateVal = matrixF[innerIndex][hValue - 1] + 1
                            IF (candidateVal > tempValue)
                                matrixF[outerIndex][hValue] = candidateVal
                            END IF
                        END IF
                    END IF
                    innerIndex = innerIndex + 1
                END WHILE
                hValue = hValue + 1
            END WHILE
            IF (maxResult < matrixF[outerIndex][k])
                maxResult = matrixF[outerIndex][k]
            END IF
            outerIndex = outerIndex + 1
        END WHILE
        RETURN maxResult
    END FUNCTION
END CLASS