CLASS Solution  
    FUNCTION beautifulIndices(s parameter, a parameter, b parameter, k parameter)  
        SET posA TO []  
        SET lenS TO LENGTH(s)  
        SET lenA TO LENGTH(a)  
        SET start TO 0  
        WHILE start <= lenS - lenA DO  
            SET segment TO ""  
            SET endPos TO start + lenA - 1  
            FOR idx FROM start TO endPos  
                SET segment TO segment + s[idx]  
            END FOR  
            IF segment == a THEN  
                posA += [start]  
            END IF  
            start += 1  
        END WHILE  
        SET posB TO []  
        SET lenB TO LENGTH(b)  
        SET ptr TO 0  
        WHILE ptr <= lenS - lenB DO  
            SET fragment TO ""  
            SET finish TO ptr + lenB - 1  
            SET count TO ptr  
            WHILE count <= finish DO  
                SET fragment TO fragment + s[count]  
                count = count + 1  
            END WHILE  
            IF fragment == b THEN  
                posB += [ptr]  
            END IF  
            ptr = ptr + 1  
        END WHILE  
        SET resultIndices TO []  
        SET idxX TO 0  
        WHILE idxX < LENGTH(posA) DO  
            SET valX TO posA[idxX]  
            SET idxY TO 0  
            WHILE idxY < LENGTH(posB) DO  
                SET valY TO posB[idxY]  
                SET diff TO valX - valY  
                IF diff < 0 THEN  
                    SET diff TO -diff  
                END IF  
                IF diff <= k THEN  
                    resultIndices += [valX]  
                    BREAK  
                END IF  
                idxY += 1  
            END WHILE  
            idxX += 1  
        END WHILE  
        RETURN resultIndices  
    END FUNCTION  
END CLASS