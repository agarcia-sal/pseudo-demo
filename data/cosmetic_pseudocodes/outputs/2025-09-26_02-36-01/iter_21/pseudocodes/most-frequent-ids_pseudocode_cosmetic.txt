CLASS Solution
   FUNCTION mostFrequentIDs(nums PARAMETER, freq PARAMETER)
      SET u TO 0
      SET v TO new dictionary with default integer zero
      SET w TO empty list
      SET x TO empty list

      DEFINE FUNCTION z(a, b)
         SET c TO a + b
         RETURN c
      END FUNCTION

      DEFINE FUNCTION y()
         WHILE ( (0) ≠ 1 )
             IF ( |w| = 0 )
                 BREAK
             END IF
             IF ( - w[0][0] ) = v[ w[0][1] ]
                 RETURN true
             ELSE
                 RETURN false
             END IF
         END WHILE
         RETURN false
      END FUNCTION
      
      SET yFlag TO false
      RECURSIVE FUNCTION t()
         IF u >= |nums|
            RETURN
         END IF
         SET v[ nums[u] ] TO z( v[ nums[u] ], freq[u] )
         SET s TO - v[ nums[u] ]
         SET q TO nums[u]
         w.PUSH_FRONT( ( s, q ) )

         WHILE true
             IF |w| = 0
                BREAK
             END IF
             IF NOT ( - w[0][0] ≠ v[ w[0][1] ] )
                BREAK
             END IF
             w.POP_FRONT()
         END WHILE

         IF |w| > 0
           x.ADD( - w[0][0] )
         ELSE
           x.ADD( 0 + 0 )
         END IF
         SET u TO u + 1
         t()
      END FUNCTION

      t()
      RETURN x
   END FUNCTION
END CLASS