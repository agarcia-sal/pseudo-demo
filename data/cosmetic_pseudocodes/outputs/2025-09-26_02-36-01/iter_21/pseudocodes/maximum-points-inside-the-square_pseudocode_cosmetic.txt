CLASS Solution
    FUNCTION maxPointsInsideSquare(points s)
        SET l TO LENGTH OF s
        SET r TO 0
        DEFINE FUNCTION insideSquare(a)
            IF (a < 0) THEN
                RETURN -a
            ELSE
                RETURN a
            END IF
        END FUNCTION

        DEFINE FUNCTION maxVal(m, n)
            IF (m > n) THEN
                RETURN m
            ELSE
                RETURN n
            END IF
        END FUNCTION

        DEFINE FUNCTION containsAllUnique(t)
            DEFINE dictionary_temp AS EMPTY DICTIONARY
            DEFINE flag_valid AS true
            DEFINE index_k AS 0

            WHILE index_k < l AND flag_valid
                DEFINE val_x AS s[index_k][0]
                DEFINE val_y AS s[index_k][1]
                IF (insideSquare(val_x) <= m) THEN
                    IF (insideSquare(val_y) <= m) THEN
                        DEFINE tag_c AS s[index_k]
                        IF dictionary_temp[tag_c] IS DEFINED THEN
                            SET flag_valid TO false
                        ELSE
                            SET dictionary_temp[tag_c] TO true
                        END IF
                    END IF
                END IF
                SET index_k TO index_k + 1
            END WHILE

            RETURN flag_valid, LENGTH OF dictionary_temp
        END FUNCTION

        DEFINE counter_i AS 0
        WHILE counter_i < l
            DEFINE coord_x AS s[counter_i][0]
            DEFINE coord_y AS s[counter_i][1]
            DEFINE side AS maxVal(insideSquare(coord_x), insideSquare(coord_y))

            DEFINE is_valid, count_tags AS containsAllUnique(side)
            IF is_valid THEN
                IF count_tags > r THEN
                    SET r TO count_tags
                END IF
            END IF

            SET counter_i TO counter_i + 1
        END WHILE

        RETURN r
    END FUNCTION
END CLASS