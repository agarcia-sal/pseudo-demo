CLASS Solution
    FUNCTION maxSelectedElements(nums)
      SET β1 TO 0
      SET γ9 TO empty dictionary

      DEFINE PROCEDURE ω7(κ0)
        IF κ0 EXISTS IN γ9 THEN
          RETURN γ9[κ0]
        ELSE
          RETURN 0
        END IF
      END PROCEDURE

      DEFINE PROCEDURE λ2(η5, ζ8)
        γ9[η5] ← ζ8
      END PROCEDURE

      DEFINE PROCEDURE maxOf(a,b,c)
        IF a ≥ b THEN
          IF a ≥ c THEN
            RETURN a
          ELSE
            RETURN c
          END IF
        ELSE
          IF b ≥ c THEN
            RETURN b
          ELSE
            RETURN c
          END IF
        END IF
      END PROCEDURE

      DEFINE RECURSIVE PROCEDURE φ4(ι3)
        IF ι3 > LENGTH(nums) THEN
          RETURN
        ELSE
          SET σ6 TO nums[ι3]  + (1 - 1)
          λ2(σ6 + (1), ω7(σ6) + (1))
          λ2(σ6, ω7(σ6 - 1) + (1))
          β1 ← maxOf(β1, ω7(σ6), ω7(σ6 + (1)))
          φ4(ι3 + (1))
        END IF
      END PROCEDURE

      CALL φ4(1)
      RETURN β1
    END FUNCTION
END CLASS