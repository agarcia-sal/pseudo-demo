CLASS Solution
    FUNCTION maxScore(grid)
        FUNCTION exploreLevel(depth, tracked, accumulator)
            IF NOT (depth LESS THAN LENGTH grid) THEN
                IF accumulator GREATER THAN max_sum THEN
                    SET max_sum TO accumulator
                END IF
                RETURN
            ELSE
                CALL exploreLevel WITH depth PLUS 1 AS depth, tracked AS tracked, accumulator AS accumulator
                SET iteratorVar TO 0
                REPEAT
                    IF iteratorVar GREATER OR EQUAL TO LENGTH (grid[depth]) THEN
                        EXIT
                    END IF
                    SET candidate TO grid[depth][iteratorVar]
                    IF candidate NOT IN tracked THEN
                        ADD candidate TO tracked
                        CALL exploreLevel WITH depth PLUS 1 AS depth, tracked AS tracked, accumulator PLUS candidate AS accumulator
                        REMOVE candidate FROM tracked
                    END IF
                    SET iteratorVar TO iteratorVar PLUS 1
                UNTIL FALSE
            END IF
        END FUNCTION

        SET indexVar TO 0
        WHILE indexVar LESS THAN LENGTH grid
        	REPEAT
        		IF indexVar LESS THAN 0 THEN
        			EXIT
        		END IF
        		DOWHILE:
        			SET a TO grid[indexVar]
        			SET i TO 0
        			WHILE i LESS THAN LENGTH a MINUS 1
        				SET j TO 0
        				REPEAT
        					IF j GREATER OR EQUAL TO LENGTH a MINUS i MINUS 1 THEN
        						EXIT
        					END IF
        					IF a[j] LESS THAN a[j PLUS 1] THEN
        						SET temp TO a[j]
        						SET a[j] TO a[j PLUS 1]
        						SET a[j PLUS 1] TO temp
        					END IF
        					SET j TO j PLUS 1
        				UNTIL FALSE
        				SET i TO i PLUS 1
        			END WHILE
        			EXIT DOWHILE
        	END REPEAT
        	SET indexVar TO indexVar PLUS 1
        END WHILE

        SET max_sum TO 0
        CALL exploreLevel WITH 0 AS depth, EMPTY SET AS tracked, 0 AS accumulator
        RETURN max_sum
    END FUNCTION
END CLASS