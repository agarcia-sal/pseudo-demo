CLASS Solution
    FUNCTION maxUpgrades(count LIST OF INTEGER upgrade LIST OF INTEGER sell LIST OF INTEGER money LIST OF INTEGER) RETURNS LIST OF INTEGER
        SET output TO empty list
        SET idx TO 0
        WHILE idx LESS THAN LENGTH OF count
            SET a TO count ELEMENT AT idx
            SET b TO upgrade ELEMENT AT idx
            SET c TO sell ELEMENT AT idx
            SET d TO money ELEMENT AT idx

            FUNCTION computeMax(f INTEGER, g INTEGER, h INTEGER, i INTEGER) RETURNS INTEGER
                SET res TO 0
                SET curr TO i
                SET j TO f
                REPEAT
                    SET k TO j
                    SET l TO h TIMES k
                    SET m TO curr PLUS l
                    SET n TO m DIVIDED BY g
                    IF NOT (n LESS EQUAL THAN f MINUS k)
                        SET n TO f MINUS k
                    END IF
                    IF NOT (res GREATER THAN OR EQUAL TO n)
                        SET res TO n
                    END IF
                    SET j TO j MINUS 1
                UNTIL j LESS THAN 0
                RETURN res
            END FUNCTION

            SET result TO computeMax(a, b, c, d)
            APPEND result TO output
            SET idx TO idx PLUS 1
        END WHILE
        RETURN output
    END FUNCTION
END CLASS