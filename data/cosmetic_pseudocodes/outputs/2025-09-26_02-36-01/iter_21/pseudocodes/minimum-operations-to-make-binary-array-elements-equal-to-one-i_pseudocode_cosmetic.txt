CLASS Solution  
  FUNCTION minOperations(nums)  
      SET p TO 0  
      SET q TO LENGTH OF nums  
      SET r TO 0  
      
      DEFINE PROCEDURE flipAt(index)  
          SET nums ELEMENT AT index TO 1 MINUS nums ELEMENT AT index  
      END PROCEDURE  
      
      LABEL loop_start  
      IF p GREATER THAN q MINUS 3 THEN GOTO loop_end  
      
      IF nums ELEMENT AT p EQUALS 0 THEN  
          CALL flipAt(p)  
          CALL flipAt(p PLUS 1)  
          CALL flipAt(p PLUS 2)  
          SET r TO r PLUS 1  
      END IF  
      
      SET p TO p PLUS 1  
      GOTO loop_start  
      LABEL loop_end  
      
      LABEL check_end  
      IF NOT (nums ELEMENT AT q MINUS 1 NOT EQUALS 0 AND nums ELEMENT AT q MINUS 2 NOT EQUALS 0) THEN  
          RETURN -1  
      END IF  
      RETURN r  
  END FUNCTION  
END CLASS