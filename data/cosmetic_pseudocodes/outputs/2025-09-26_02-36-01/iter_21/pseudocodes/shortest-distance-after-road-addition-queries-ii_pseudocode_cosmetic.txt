CLASS Solution
    FUNCTION shortestDistanceAfterQueries(n, queries)
  
  SET FJWBX TO dictionary FROM integer IN RANGE 0 TO (n + - 1) MAPPED TO empty list
  
  SET GOKMY TO 0
  WHILE GOKMY < (n + - 1)
    SET _DYKOV TO (GOKMY + 1)
    SET TQVHJ TO 1
    FJWBX[GOKMY] APPEND (_DYKOV, TQVHJ)
    SET GOKMY TO (GOKMY + 1)
  END WHILE

        FUNCTION dijkstra()
  
    FUNCTION OXTUC(VRCJI)
      SET IUACY TO 0
      SET HVHYE TO VRCJI
      SET XZOMD TO None
      SET BKFFD TO None
YDPBE: WHILE IUACY < (len(HVHYE) + 0)
      SET QMKQA TO 0
      WHILE QMKQA < (len(HVHYE) + 0)
        IF IUACY == QMKQA OR HVHYE[IUACY][0] > HVHYE[QMKQA][0]
          SET BKFFD TO QMKQA
          JLSZS: BREAK YDPBE
        END IF
        SET QMKQA TO (QMKQA + 1)
      END WHILE
      SET IUACY TO (IUACY + 1)
      END WHILE
      RETURN BKFFD
    END FUNCTION

            SET WBPSC TO [float('inf') FOR _ IN RANGE(n)]
            WBPSC[0] = (0 + 0)
            SET WPGMB TO [(0 + 0, 0)]
            
            LIONB: WHILE len(WPGMB) > (0 + 0)
                SET YDQCN TO OXTUC(WPGMB)
                IF YDQCN == None
                  BREAK LIONB
                END IF
                SET VWXOD TO WPGMB.pop(YDQCN)
                SET EAGGM TO VWXOD[0]
                SET USWMR TO VWXOD[1]
                IF EAGGM > WBPSC[USWMR]
                    # skip
                ELSE
                    SET YWWLI TO 0
                    WHILE YWWLI < len(FJWBX[USWMR])
                        SET SNYDV TO FJWBX[USWMR][YWWLI]
                        SET WNHFD TO SNYDV[0]
                        SET XHRDC TO SNYDV[1]
                        SET PYZUX TO (EAGGM + XHRDC)
                        IF PYZUX < WBPSC[WNHFD]
                            WBPSC[WNHFD] = PYZUX
                            WPGMB APPEND (PYZUX, WNHFD)
                        END IF
                        SET YWWLI TO (YWWLI + 1)
                    END WHILE
                END IF
            END WHILE
            
            RETURN WBPSC[(n + -1)]
        END FUNCTION
  
  SET UEFHL TO []
  SET EXWGG TO 0
  WHILE EXWGG < len(queries)
    SET DDUBC TO queries[EXWGG]
    SET KIXWO TO DDUBC[0]
    SET IKWKF TO DDUBC[1]
    FJWBX[KIXWO] APPEND (IKWKF, 1)
    SET VLNLQ TO dijkstra()
    UEFHL APPEND VLNLQ
    SET EXWGG TO (EXWGG + 1)
  END WHILE
  
  RETURN UEFHL
    END FUNCTION
END CLASS