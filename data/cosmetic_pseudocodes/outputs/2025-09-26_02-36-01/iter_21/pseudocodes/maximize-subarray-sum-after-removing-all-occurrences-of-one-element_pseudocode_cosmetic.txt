CLASS Solution
    FUNCTION maxSubarraySum(nums)
        FUNCTION kadane(arr)
            SET a TO element at position one of arr
            SET b TO element at position one of arr
            SET c TO 2
            WHILE c LESS THAN OR EQUAL TO LENGTH OF arr
                SET d TO element at position c of arr
                IF NOT (d LESS THAN OR EQUAL TO b PLUS d)
                    SET b TO d
                ELSE
                    SET b TO b PLUS d
                END IF
                IF b GREATER THAN a
                    SET a TO b
                END IF
                SET c TO c PLUS 1
            END WHILE
            RETURN a
        END FUNCTION

        SET e TO kadane(nums)
        DEFINE FUNCTION buildUniqueSet(source)
            SET f TO empty set
            SET g TO 1
            REPEAT
                IF g GREATER THAN LENGTH OF source THEN BREAK
                IF element at position g of source NOT IN f THEN
                    ADD element at position g of source TO f
                END IF
                SET g TO g PLUS 1
            UNTIL FALSE
            RETURN f
        END FUNCTION
        SET h TO buildUniqueSet(nums)
        DEFINE FUNCTION filterList(lst, val)
            SET i TO empty list
            SET j TO 1
            REPEAT
                IF j GREATER THAN LENGTH OF lst THEN BREAK
                SET k TO element at position j of lst
                IF NOT (k EQUALS val)
                    APPEND k TO i
                END IF
                SET j TO j PLUS 1
            UNTIL FALSE
            RETURN i
        END FUNCTION

        SET l TO 1
        WHILE l LESS THAN OR EQUAL TO LENGTH OF h
            SET m TO element at position l of h
            SET n TO filterList(nums, m)
            IF LENGTH OF n GREATER THAN 0 THEN
                IF e LESS THAN kadane(n) THEN
                    SET e TO kadane(n)
                END IF
            END IF
            SET l TO l PLUS 1
        END WHILE
        RETURN e
    END FUNCTION
END CLASS