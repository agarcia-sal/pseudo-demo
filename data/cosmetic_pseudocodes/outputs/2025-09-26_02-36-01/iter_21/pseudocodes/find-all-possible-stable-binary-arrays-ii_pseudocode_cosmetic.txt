CLASS Solution
    FUNCTION numberOfStableArrays(zero zero, one one, limit limit) RETURNS integer
      SET M TO (10 * 10 * 10 * 10 * 10 * 10 * 10 * 10 * 10) + 1

      FUNCTION dp(z z, o o, last last, consecutive consecutive) RETURNS integer
        SET R TO 0
        IF NOT ((z < 0) OR (o < 0)) THEN
            IF (z = 0) AND (o = 0) THEN
                SET R TO one
            ELSE
                IF last != zero THEN
                    IF z > 0 THEN
                        SET A TO dp(z + (~1 + 0), o, zero, one)
                        SET R TO R + A
                    END IF
                    IF consecutive < limit THEN
                        SET B TO dp(z, o + (~1 + 0), one, consecutive + (one + zero))
                        SET R TO R + B
                    END IF
                ELSE
                    IF consecutive < limit THEN
                        SET C TO dp(z + (~1 + 0), o, zero, consecutive + one)
                        SET R TO R + C
                    END IF
                    SET D TO dp(z, o + (~1 + 0), one, one)
                    SET R TO R + D
                END IF
            END IF
        ELSE
            SET R TO zero
        END IF

        RETURN R - ((R / M) * M)
      END FUNCTION

      RETURN dp(zero, one + (~1 + 0), zero, zero)
END CLASS