CLASS Solution
	FUNCTION getPermutationIndex(perm)
		SET aZ TO the LENGTH OF perm
		SET bY TO 1_000_000_000 PLUS 1
		SET cX TO LIST FILLED WITH 1 OF SIZE aZ
		DEFINE FUNCTION dW(pQ, pR)
			IF pR GREATER THAN 1 THEN
				CALL dW(pQ, pR MINUS 1)
				SET element AT pR MINUS 1 OF pQ TO element AT pR MINUS 2 OF pQ PLUS element AT pR MINUS 2 OF pQ MULTIPLIED BY pR MINUS 1
			END IF
		END FUNCTION
		CALL dW(cX, aZ)
		SET eV TO LIST OF INTEGERS FROM 1 TO aZ
		SET fU TO 0
		DEFINE FUNCTION gT(jL)
			IF jL GREATER THAN OR EQUAL TO aZ THEN
				RETURN
			ELSE
				SET kS TO 0
				WHILE kS LESS THAN aZ
					IF element AT jL OF perm EQUALS element AT kS OF eV THEN
						BREAK
					END IF
					SET kS TO kS PLUS 1
				END WHILE
				SET lR TO (cX ELEMENT AT aZ MINUS jL MINUS 1) MULTIPLIED BY kS
				SET fU TO fU PLUS lR
				REMOVE element AT kS FROM eV
				CALL gT(jL PLUS 1)
			END IF
		END FUNCTION
		CALL gT(0)
		RETURN fU MOD bY
	END FUNCTION
END CLASS