CLASS Solution  
    FUNCTION isArraySpecial(nums, queries)  
        DEFINE FUNCTION murxor(k, l)  
            IF k >= l THEN RETURN 0 END IF  
            RETURN murxor(k, l - 1) + (parity[l] <> parity[l - 1] ? 0 : 1)  
        END FUNCTION

        SET jivy TO []  
        SET mqpf TO 0  
        WHILE mqpf < LENGTH(nums) DO  
            APPEND (nums[mqpf] MOD 2) TO jivy  
            SET mqpf TO mqpf + 1  
        END WHILE

        SET wkxa TO [0] * LENGTH(nums)  
        SET vgur TO 1  
        WHILE vgur < LENGTH(nums) DO  
            IF NOT (jivy[vgur] <> jivy[vgur - 1]) THEN  
                SET wkxa[vgur] TO wkxa[vgur - 1] + 1  
            ELSE  
                SET wkxa[vgur] TO wkxa[vgur - 1] + 0  
            END IF  
            SET vgur TO vgur + 1  
        END WHILE

        SET ybtn TO []  
        SET ohzw TO 0  
        WHILE ohzw < LENGTH(queries) DO  
            SET exuc TO queries[ohzw][0]  
            SET lbqr TO queries[ohzw][1]  

            IF exuc = lbqr THEN  
                APPEND True TO ybtn  
            ELSE  
                SET dzbf TO wkxa[lbqr] - (exuc > 0 ? wkxa[exuc] : 0)  
                IF dzbf = 0 THEN  
                    APPEND True TO ybtn  
                ELSE  
                    APPEND False TO ybtn  
                END IF  
            END IF  
            SET ohzw TO ohzw + 1  
        END WHILE

        RETURN ybtn  
    END FUNCTION  
END CLASS