CLASS Solution
    FUNCTION answerString(word, numFriends)
        SET Xn TO 1
        SET Yk TO CALL _lastSubstring WITH word
        SET Zp TO (LENGTH OF word) MINUS numFriends PLUS Xn

        IF NOT (numFriends NOT EQUAL TO Xn)
            RETURN word
        ELSE
            SET Rq TO 0
            SET Tp TO LENGTH OF Yk
            SET Up TO Tp
            IF Tp GREATER THAN Zp THEN
                SET Up TO Zp
            END IF
            SET Sd TO ""
            WHILE Rq LESS THAN Up
                SET Sd TO Sd + element at position Rq + 1 OF Yk
                SET Rq TO Rq + Xn
            END WHILE
            RETURN Sd
        END IF
    END FUNCTION

    FUNCTION _lastSubstring(s)
        FUNCTION helper_compare(a, b, c)
            IF element at position a PLUS c OF s EQUALS element at position b PLUS c OF s THEN
                RETURN 0
            ELSE IF element at position a PLUS c OF s GREATER THAN element at position b PLUS c OF s THEN
                RETURN 1
            ELSE
                RETURN -1
            END IF
        END FUNCTION

        FUNCTION loop(i, j, k)
            IF (j PLUS k) GREATER THAN OR EQUAL TO LENGTH OF s THEN
                RETURN i
            ELSE
                SET cmp TO helper_compare(i, j, k)
                IF cmp EQUALS 0 THEN
                    RETURN loop(i, j, k + 1)
                ELSE IF cmp EQUALS 1 THEN
                    RETURN loop(i, j + k + 1, 0)
                ELSE
                    SET NewI TO i PLUS k PLUS 1
                    IF j GREATER THAN NewI THEN
                        SET NewI TO j
                    END IF
                    RETURN loop(NewI, NewI + 1, 0)
                END IF
            END IF
        END FUNCTION

        SET ResI TO loop(0, 1, 0)
        SET ResultS TO ""
        SET Llt TO LENGTH OF s
        WHILE ResI LESS THAN Llt
            SET ResultS TO ResultS + element at position ResI + 1 OF s
            SET ResI TO ResI + 1
        END WHILE

        RETURN ResultS
    END FUNCTION
END CLASS