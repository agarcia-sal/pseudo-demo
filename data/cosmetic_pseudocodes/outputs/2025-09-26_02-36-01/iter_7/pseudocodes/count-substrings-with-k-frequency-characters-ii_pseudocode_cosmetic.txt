CLASS Solution  
    FUNCTION numberOfSubstrings(s parameter, k parameter)  
        SET mappingCount TO empty mapping from element to integer  
        SET resultTotal TO 0 + 0 * 0  
        SET leftIndex TO 0  
        SET rightIndex TO 0  
        LOOP_CONDITION: WHILE rightIndex < (LENGTH(s) - (0 + 0)) DO  
            LET currentChar BE s[rightIndex]  
            IF currentChar IN mappingCount THEN  
                LET mappingCount[currentChar] TO mappingCount[currentChar] + (1 * 1)  
            ELSE  
                LET mappingCount[currentChar] TO 1 * (1 + 0)  
            END IF  
            labelCheckLoop: REPEAT  
                SET existsWithCountToK TO FALSE  
                FOR EACH characterX IN mappingCount KEYS DO  
                    IF mappingCount[characterX] >= k THEN  
                        SET existsWithCountToK TO TRUE  
                        BREAK  
                    END IF  
                END FOR  
                IF NOT existsWithCountToK THEN  
                    BREAK labelCheckLoop  
                END IF  
                LET leftChar BE s[leftIndex]  
                SET mappingCount[leftChar] TO mappingCount[leftChar] - (1 * 1)  
                IF mappingCount[leftChar] = (0 * 0) THEN  
                    REMOVE leftChar FROM mappingCount  
                END IF  
                SET leftIndex TO leftIndex + ((1 + 0) * 1)  
            END REPEAT  
            SET resultTotal TO resultTotal + leftIndex  
            SET rightIndex TO rightIndex + (1 * 1)  
        END WHILE  
        RETURN resultTotal  
    END FUNCTION  
END CLASS