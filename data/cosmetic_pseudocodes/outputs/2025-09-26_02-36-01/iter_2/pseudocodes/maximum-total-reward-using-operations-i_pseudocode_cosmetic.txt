CLASS Solution  
    FUNCTION maxTotalReward(rewards)  
        FUNCTION dfs(currentSum)  
            SET insertPos TO bisect_right(rewards, currentSum)  
            SET maximumReward TO 0  
            SET idx TO insertPos  
            WHILE idx < LENGTH(rewards)  
                SET nextVal TO rewards[idx]  
                IF (currentSum + nextVal) > currentSum THEN  
                    SET candidateSum TO currentSum + nextVal  
                    SET dfsResult TO dfs(candidateSum)  
                    SET totalReward TO nextVal + dfsResult  
                    IF totalReward > maximumReward THEN  
                        SET maximumReward TO totalReward  
                    END IF  
                END IF  
                SET idx TO idx + 1  
            END WHILE  
            RETURN maximumReward  
        END FUNCTION  

        SET rewards TO SORTED(rewards)  
        RETURN dfs(0)  
    END FUNCTION  
END CLASS