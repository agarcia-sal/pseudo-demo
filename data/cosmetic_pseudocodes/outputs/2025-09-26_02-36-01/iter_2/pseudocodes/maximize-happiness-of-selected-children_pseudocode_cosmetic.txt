CLASS Solution  
    FUNCTION maximumHappinessSum(happiness, k)  
        LET sorted_list BE happiness SORTED in descending order  
        LET total_happiness BE 0  
        LET reduction_counter BE 0  
        LET position BE 0  
        WHILE position < k  
            LET adjusted_value BE sorted_list at index position MINUS reduction_counter  
            IF NOT (adjusted_value >= 0)  
                adjusted_value = 0  
            END IF  
            total_happiness = total_happiness PLUS adjusted_value  
            reduction_counter = reduction_counter PLUS 1  
            position = position PLUS 1  
        END WHILE  
        RETURN total_happiness  
    END FUNCTION  
END CLASS