CLASS Solution
    FUNCTION minCostGoodCaption(caption)
        LET length_caption BE LENGTH(caption)
        IF NOT (length_caption >= 3)
            RETURN ""
        END IF

        LET chars_list BE LIST(caption)

        LET idx BE 0
        WHILE idx < length_caption
            LET segment_start BE idx
            WHILE (idx < length_caption) AND (chars_list[idx] = chars_list[segment_start])
                idx = idx + 1
            END WHILE

            LET segment_length BE idx - segment_start

            IF segment_length < 3
                IF (segment_start > 0) AND (chars_list[segment_start - 1] = chars_list[segment_start])
                    SET chars_list[segment_start - 1] TO chars_list[segment_start]
                    segment_start = segment_start - 1
                    segment_length = segment_length + 1
                END IF

                IF (idx < length_caption) AND (chars_list[idx - 1] = chars_list[idx])
                    SET chars_list[idx] TO chars_list[idx - 1]
                    idx = idx + 1
                    segment_length = segment_length + 1
                END IF

                IF segment_length < 3
                    IF segment_start > 0
                        LET adjacent_char BE chars_list[segment_start - 1]
                    ELSE
                        LET adjacent_char BE chars_list[idx]
                    END IF

                    LET replacement_char
                    IF adjacent_char = 'a'
                        SET replacement_char TO 'b'
                    ELSE IF adjacent_char = 'z'
                        SET replacement_char TO 'y'
                    ELSE
                        LET ascii_val BE ASCII(adjacent_char)
                        SET replacement_char TO CHAR(ascii_val + 1)
                    END IF

                    LET sub_idx BE segment_start
                    WHILE sub_idx < segment_start + segment_length
                        SET chars_list[sub_idx] TO replacement_char
                        sub_idx = sub_idx + 1
                    END WHILE

                    idx = segment_start + segment_length
                END IF
            END IF
        END WHILE

        RETURN JOIN(chars_list, "")
    END FUNCTION
END CLASS