CLASS Solution  
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)  
        LET lengthNums BE LENGTH nums parameter  
        LET lengthPattern BE LENGTH pattern parameter  
        LET totalMatches BE 0  
        LET idx BE 0  
        WHILE idx <= lengthNums - lengthPattern - 1  
            LET isValid BE 1 = 1  
            LET pos BE 0  
            WHILE pos < lengthPattern - 1 AND isValid  
                LET currentPatternValue BE pattern parameter[pos]  
                LET firstNum BE nums parameter[(idx + pos)]  
                LET secondNum BE nums parameter[idx + pos + 1]  
                IF currentPatternValue = 1 THEN  
                    IF NOT(secondNum > firstNum) THEN  
                        isValid = FALSE  
                    END IF  
                ELSE IF currentPatternValue = 0 THEN  
                    IF secondNum <> firstNum THEN  
                        isValid = FALSE  
                    END IF  
                ELSE IF currentPatternValue = -1 THEN  
                    IF secondNum >= firstNum THEN  
                        isValid = FALSE  
                    END IF  
                END IF  
                pos = pos + 1  
            END WHILE  
            IF isValid = TRUE THEN  
                totalMatches = totalMatches + 1  
            END IF  
            idx = idx + 1  
        END WHILE  
        RETURN totalMatches  
    END FUNCTION  
END CLASS