CLASS Solution  
    FUNCTION maxPotholes(road STRING road, INTEGER budget) RETURNS INTEGER  
        potholeList ← road SPLIT BY "."  
        SORT potholeList USING ascending LENGTH order  
        totalFixed ← 0  
        index ← 0  
        WHILE index < potholeList.LENGTH DO  
            segmentLen ← potholeList[index].LENGTH  
            IF segmentLen ≠ 0 THEN  
                requiredCost ← segmentLen + 1  
                IF requiredCost ≤ budget THEN  
                    totalFixed ← totalFixed + segmentLen  
                    budget ← budget - requiredCost  
                ELSE  
                    currentLen ← segmentLen  
                    WHILE currentLen > 0 AND budget > 0 DO  
                        requiredCost ← currentLen + 1  
                        IF budget ≥ requiredCost THEN  
                            totalFixed ← totalFixed + currentLen  
                            budget ← budget - requiredCost  
                            EXIT WHILE  
                        END IF  
                        currentLen ← currentLen - 1  
                    END WHILE  
                END IF  
            END IF  
            index ← index + 1  
        END WHILE  
        RETURN totalFixed  
    END FUNCTION  
END CLASS