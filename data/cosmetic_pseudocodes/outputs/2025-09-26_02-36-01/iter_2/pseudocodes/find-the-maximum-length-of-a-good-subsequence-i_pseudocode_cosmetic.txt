CLASS Solution  
    FUNCTION maximumLength(nums k)  
        LET lengthNums BE LENGTH OF nums  
        LET dpMatrix BE a 2D ARRAY of size lengthNums BY (k PLUS 1) FILLED with 1s  
        LET maxResult BE 0  
        LET index1 BE 0  
        WHILE index1 LESS THAN lengthNums  
            LET currentValue BE nums[index1]  
            LET hCounter BE 0  
            WHILE hCounter LESS THAN OR EQUAL TO k  
                LET index2 BE 0  
                WHILE index2 LESS THAN index1  
                    LET comparedValue BE nums[index2]  
                    IF currentValue EQUALS comparedValue THEN  
                        LET newVal BE dpMatrix[index2][hCounter] PLUS 1  
                        IF dpMatrix[index1][hCounter] LESS THAN newVal THEN  
                            dpMatrix[index1][hCounter] = newVal  
                        END IF  
                    ELSE IF hCounter MORE THAN 0 THEN  
                        LET decreasedVal BE (dpMatrix[index2][hCounter MINUS 1]) PLUS 1  
                        IF dpMatrix[index1][hCounter] LESS THAN decreasedVal THEN  
                            dpMatrix[index1][hCounter] = decreasedVal  
                        END IF  
                    END IF  
                    SET index2 TO index2 PLUS 1  
                END WHILE  
                SET hCounter TO hCounter PLUS 1  
            END WHILE  
            IF maxResult LESS THAN dpMatrix[index1][k] THEN  
                maxResult = dpMatrix[index1][k]  
            END IF  
            SET index1 TO index1 PLUS 1  
        END WHILE  
        RETURN maxResult  
    END FUNCTION  
END CLASS