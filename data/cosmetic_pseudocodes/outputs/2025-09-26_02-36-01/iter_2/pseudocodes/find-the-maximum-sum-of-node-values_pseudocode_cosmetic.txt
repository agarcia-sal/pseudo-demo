CLASS Solution  
    FUNCTION maximumValueSum(nums k edges)  
        LET accumulated_sum BE 0  
        LET positive_gain_counter BE 0  
        LET smallest_gain BE a very large number  
        
        LET index BE 0  
        WHILE index < LENGTH(nums)  
            LET element BE nums[index]  
            LET xor_result BE element BITWISE_XOR k  
            LET difference BE xor_result - element  
            IF difference > 0 THEN  
                positive_gain_counter = positive_gain_counter + 1  
            END IF  
            IF element > xor_result THEN  
                accumulated_sum = accumulated_sum + element  
            ELSE  
                accumulated_sum = accumulated_sum + xor_result  
            END IF  
            LET abs_difference BE difference  
            IF abs_difference < 0 THEN  
                abs_difference = -abs_difference  
            END IF  
            IF smallest_gain > abs_difference THEN  
                smallest_gain = abs_difference  
            END IF  
            index = index + 1  
        END WHILE  
        
        IF (positive_gain_counter MOD 2) != 0 THEN  
            accumulated_sum = accumulated_sum - smallest_gain  
        END IF  
        
        RETURN accumulated_sum  
    END FUNCTION  
END CLASS