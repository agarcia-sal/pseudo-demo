CLASS Solution  
    FUNCTION maxScore(grid)  
        LET height BE LENGTH(grid)  
        LET width BE LENGTH(grid[0])  
        LET dp TABLE BE a list of height ELEMENTS each INITIALIZED TO a list of width ELEMENTS all set to +∞  
        dp[0][0] ← grid[0][0]  
        LET best_score BE -∞  
        
        LET col_idx BE 1  
        WHILE col_idx < width  
            dp[0][col_idx] ← MIN(dp[0][col_idx - 1], grid[0][col_idx])  
            col_idx ← col_idx + 1  
        END WHILE  
        
        LET row_idx BE 1  
        WHILE row_idx < height  
            dp[row_idx][0] ← MIN(dp[row_idx - 1][0], grid[row_idx][0])  
            row_idx ← row_idx + 1  
        END WHILE  
        
        LET r BE 1  
        WHILE r < height  
            LET c BE 1  
            WHILE c < width  
                LET from_top BE dp[r - 1][c]  
                LET from_left BE dp[r][c - 1]  
                LET current_min BE MIN(from_top, from_left)  
                dp[r][c] ← current_min  
                LET current_diff BE grid[r][c] - dp[r][c]  
                IF best_score < current_diff THEN  
                    best_score ← current_diff  
                END IF  
                c ← c + 1  
            END WHILE  
            r ← r + 1  
        END WHILE  
        
        RETURN best_score  
    END FUNCTION  
END CLASS