CLASS Solution
    FUNCTION maxSubarraySum(nums)
        FUNCTION kadane(arr)
            LET current_max BE arr[0]
            LET global_max BE arr[0]
            LET idx BE 1
            WHILE idx < LENGTH(arr)
                LET elem BE arr[idx]
                LET sum_with_elem BE current_max + elem
                IF elem > sum_with_elem THEN
                    SET current_max = elem
                ELSE
                    SET current_max = sum_with_elem
                ENDIF
                IF global_max < current_max THEN
                    SET global_max = current_max
                ENDIF
                INCREMENT idx BY 1
            END WHILE
            RETURN global_max
        END FUNCTION

        LET overall_max BE kadane(nums)
        LET distinct_values BE EMPTY SET
        FOR num IN nums DO
            ADD num TO distinct_values
        END FOR

        FOR unique_val IN distinct_values DO
            LET filtered_list BE []
            LET i BE 0
            WHILE i < LENGTH(nums)
                LET val BE nums[i]
                IF NOT (val == unique_val) THEN
                    APPEND val TO filtered_list
                ENDIF
                i = i + 1
            END WHILE
            IF LENGTH(filtered_list) != 0 THEN
                LET new_max BE kadane(filtered_list)
                IF overall_max < new_max THEN
                    SET overall_max = new_max
                ENDIF
            ENDIF
        END FOR

        RETURN overall_max
    END FUNCTION
END CLASS