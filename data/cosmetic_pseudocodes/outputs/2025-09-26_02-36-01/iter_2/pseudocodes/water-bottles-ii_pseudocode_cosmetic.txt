CLASS Solution  
    FUNCTION maxBottlesDrunk(numBottles numBottles numExchange numExchange)  
        ASSIGN totalConsumed = 0  
        ASSIGN empties = 0  
        WHILE 0 LESS_THAN numBottles DO  
            LET totalConsumed BE totalConsumed PLUS numBottles  
            LET empties BE empties PLUS numBottles  
            ASSIGN numBottles = 0  
            WHILE empties GREATER_OR_EQUAL numExchange DO  
                LET empties BE empties MINUS numExchange  
                LET numBottles BE numBottles PLUS 1  
                LET numExchange BE numExchange PLUS 1  
            END WHILE  
        END WHILE  
        RETURN totalConsumed  
    END FUNCTION  
END CLASS