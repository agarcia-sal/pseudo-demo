CLASS Solution  
    FUNCTION resultArray(nums)  
        INITIALIZE listA AS [nums[0]]  
        INITIALIZE listB AS [nums[1]]  
        INITIALIZE sortedA AS [nums[0]]  
        INITIALIZE sortedB AS [nums[1]]  
        
        FUNCTION greaterCount(sequence, element)  
            SET left TO 0  
            SET right TO LENGTH OF sequence  
            WHILE left < right  
                SET middle TO (left + right) DIVIDED BY 2  
                IF sequence[middle] <= element  
                    SET left TO middle + 1  
                ELSE  
                    SET right TO middle  
                END IF  
            END WHILE  
            RETURN (LENGTH OF sequence) - left  
        END FUNCTION  
        
        SET index TO 2  
        WHILE index <= (LENGTH OF nums) - 1  
            SET currentValue TO nums[index]  
            SET countInA TO greaterCount(sortedA, currentValue)  
            SET countInB TO greaterCount(sortedB, currentValue)  
            
            IF countInA > countInB THEN  
                listA APPEND currentValue  
                INSERT currentValue INTO sortedA AT POSITION:  
                    SET insertPos TO 0  
                    WHILE insertPos < LENGTH OF sortedA AND sortedA[insertPos] < currentValue  
                        SET insertPos TO insertPos + 1  
                    END WHILE  
                    INSERT currentValue AT insertPos IN sortedA  
            ELSE IF countInA < countInB THEN  
                listB APPEND currentValue  
                SET insertPos TO 0  
                WHILE insertPos < LENGTH OF sortedB AND sortedB[insertPos] < currentValue  
                    SET insertPos TO insertPos + 1  
                END WHILE  
                INSERT currentValue AT insertPos IN sortedB  
            ELSE  
                IF LENGTH OF listA <= LENGTH OF listB THEN  
                    listA APPEND currentValue  
                    SET insertPos TO 0  
                    WHILE insertPos < LENGTH OF sortedA AND sortedA[insertPos] < currentValue  
                        SET insertPos TO insertPos + 1  
                    END WHILE  
                    INSERT currentValue AT insertPos IN sortedA  
                ELSE  
                    listB APPEND currentValue  
                    SET insertPos TO 0  
                    WHILE insertPos < LENGTH OF sortedB AND sortedB[insertPos] < currentValue  
                        SET insertPos TO insertPos + 1  
                    END WHILE  
                    INSERT currentValue AT insertPos IN sortedB  
                END IF  
            END IF  
            SET index TO index + 1  
        END WHILE  
        
        SET combined TO listA CONCATENATED WITH listB  
        RETURN combined  
    END FUNCTION  
END CLASS