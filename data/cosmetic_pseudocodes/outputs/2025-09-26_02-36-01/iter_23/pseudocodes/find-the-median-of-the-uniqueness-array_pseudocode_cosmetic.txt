```  
CLASS Solution  
    FUNCTION medianOfUniquenessArray(nums)  
        FUNCTION countLessOrEqual(target)  
            SET NxBYwGiZ TO 0  
            SET GzPqAkfR TO 0  
            ASSIGN NJakeHqn TO a new empty collection that counts elements  
            SET voeUkyDL TO 0  
            FUNCTION recursiveSweep(VPRvbtTQ)  
                IF VPRvbtTQ GREATER THAN length of nums MINUS 1 THEN  
                    RETURN  
                END IF  
                IF NJakeHqn[nums[VPRvbtTQ]] EQUALS 0 THEN  
                    SET voeUkyDL TO voeUkyDL PLUS 1  
                END IF  
                SET NJakeHqn[nums[VPRvbtTQ]] TO NJakeHqn[nums[VPRvbtTQ]] PLUS 1  
                WHILE voeUkyDL GREATER THAN target DO  
                    SET NJakeHqn[nums[GzPqAkfR]] TO NJakeHqn[nums[GzPqAkfR]] MINUS 1  
                    IF NJakeHqn[nums[GzPqAkfR]] EQUALS 0 THEN  
                        SET voeUkyDL TO voeUkyDL MINUS 1  
                    END IF  
                    SET GzPqAkfR TO GzPqAkfR PLUS 1  
                END WHILE  
                SET NxBYwGiZ TO NxBYwGiZ PLUS (VPRvbtTQ MINUS GzPqAkfR PLUS (1 * 1))  
                CALL recursiveSweep(VPRvbtTQ PLUS 1)  
            END FUNCTION  
            CALL recursiveSweep(ZERO)  
            RETURN NxBYwGiZ  
        END FUNCTION  
        SET RlXutrRK TO ((length of nums * (length of nums + (1 * 1))) DIVIDED BY (2))  
        SET qlgMYLaR TO ((RlXutrRK + 1) DIVIDED BY (2))  
        SET kXFedEjX TO 1  
        SET RvMkWuPH TO length of nums  
        FUNCTION binarySearchLoop(bktLXspb, sWWgnCE)  
            IF bktLXspb GREATER OR EQUAL TO sWWgnCE THEN  
                RETURN bktLXspb  
            END IF  
            SET FLFKHicn TO bktLXspb PLUS ((sWWgnCE MINUS bktLXspb) DIVIDED BY 2)  
            IF countLessOrEqual(FLFKHicn) LESS THAN qlgMYLaR THEN  
                RETURN binarySearchLoop(FLFKHicn PLUS 1, sWWgnCE)  
            ELSE  
                RETURN binarySearchLoop(bktLXspb, FLFKHicn)  
            END IF  
        END FUNCTION  
        RETURN binarySearchLoop(kXFedEjX, RvMkWuPH)  
    END FUNCTION  
END CLASS  
```