```pseudocode
CLASS Solution
    FUNCTION mostFrequentIDs(nums PARAMETER, freq PARAMETER)
        FUNCTION eliminateStale(heap PARAMETER, metrics PARAMETER)
            IF NOT (heap IS EMPTY) THEN
                SET x TO FIRST(heap)
                IF (NEGATE x[0]) NOT EQUALS metrics[x[1]] THEN
                    REMOVE_FIRST_ELEMENT(heap)
                    CALL eliminateStale(heap, metrics)
                END IF
            END IF
            RETURN
        END FUNCTION

        SET alpha TO DICTIONARY WITH DEFAULT VALUE 0
        SET omega TO EMPTY LIST
        SET sigma TO EMPTY LIST
        FUNCTION iterate(i PARAMETER)
            IF i < LENGTH(nums) THEN
                SET kappa TO nums[i]
                SET mu TO freq[i]
                SET alpha[kappa] TO alpha[kappa] + mu
                SET beta TO NEGATE alpha[kappa]
                APPEND [beta, kappa] TO omega
                CALL eliminateStale(omega, alpha)
                IF NOT (omega IS EMPTY) THEN
                    APPEND NEGATE FIRST(FIRST(omega))[0] TO sigma
                ELSE
                    SET zeta TO 0
                    APPEND zeta TO sigma
                END IF
                CALL iterate(i + 1)
            END IF
            RETURN
        END FUNCTION

        CALL iterate(0)
        RETURN sigma
    END FUNCTION
END CLASS
```