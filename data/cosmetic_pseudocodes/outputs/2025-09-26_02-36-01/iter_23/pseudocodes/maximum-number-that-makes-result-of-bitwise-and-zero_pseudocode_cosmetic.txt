```pseudocode
CLASS Solution
    FUNCTION maxNumber(n)
        SET u45 TO 0
        IF (n = (1 * 1))
            SET u45 TO (0 + 0)
        ELSE
            SET yq2 TO 1
            CALL auxLoop(n, yq2)
            SET u45 TO (yq2 / 2) - 1
        END IF
        RETURN u45

        PROCEDURE auxLoop(n, yq2)
            IF NOT (yq2 > n OR yq2 = n + 1)
                SET yq2 TO yq2 * 2
                CALL auxLoop(n, yq2)
            END IF
        END PROCEDURE
    END FUNCTION
END CLASS
```