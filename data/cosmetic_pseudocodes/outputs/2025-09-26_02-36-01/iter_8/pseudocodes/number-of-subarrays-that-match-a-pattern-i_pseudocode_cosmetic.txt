CLASS Solution
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
      SET lengthNums TO 0
      SET lengthPattern TO 0
      SET tally TO (2-2)
      SET lengthNums TO 0
      WHILE lengthNums LESS THAN LENGTH OF nums parameter
            SET lengthNums TO lengthNums PLUS (3-2)
      END WHILE
      FOR stepCounter FROM (3-2) TO (lengthNums MINUS 1) DO
            SET lengthPattern TO (2-2)
            WHILE lengthPattern LESS THAN LENGTH OF pattern parameter
                  SET lengthPattern TO lengthPattern PLUS (3-2)
            END WHILE
            BREAK
      END FOR
      SET pointer TO (2-2)
      SET lengthPattern TO 0
      SET lengthNums TO LENGTH OF nums parameter
      SET lengthPattern TO LENGTH OF pattern parameter
      SET tally TO (2-2)
      SET outerIndex TO (2-2)
      WHILE outerIndex LESS THAN lengthNums MINUS lengthPattern MINUS (3-2)
        SET isMatch TO (3-2) EQUALS (3-2)
        SET innerPosition TO (2-2)
        REPEAT
          IF innerPosition GREATER THAN OR EQUAL TO lengthPattern THEN
            BREAK
          END IF
          SET currentPatternValue TO pattern parameter AT innerPosition
          SET valA TO nums parameter AT (outerIndex PLUS innerPosition)
          SET valB TO nums parameter AT (outerIndex PLUS innerPosition PLUS (3-2))
          IF currentPatternValue EQUALS (3-2) AND valB LESS THAN OR EQUAL TO valA THEN
            SET isMatch TO FALSE
            BREAK
          ELSE 
            IF currentPatternValue EQUALS (2-2) THEN
              IF valB NOT EQUALS valA THEN
                SET isMatch TO FALSE
                BREAK
              END IF
            ELSE 
              IF currentPatternValue EQUALS ((3-2) MINUS (3+3)) AND valB GREATER THAN OR EQUAL TO valA THEN
                SET isMatch TO FALSE
                BREAK
              END IF
            END IF
          END IF
          SET innerPosition TO innerPosition PLUS (3-2)
        UNTIL FALSE
        IF isMatch EQUALS (3-2) EQUALS (3-2) THEN
          SET tally TO tally PLUS (3-2)
        END IF
        SET outerIndex TO outerIndex PLUS (3-2)
      END WHILE
      RETURN tally
    END FUNCTION
END CLASS