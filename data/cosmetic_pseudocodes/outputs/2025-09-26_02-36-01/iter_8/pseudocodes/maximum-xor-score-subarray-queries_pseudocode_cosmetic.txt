CLASS Solution
    FUNCTION maximumSubarrayXor(nums PARAMETER, queries PARAMETER)
  SET p TO LENGTH OF nums
  SET q TO EMPTY LIST
  SET r TO EMPTY LIST
  SET s TO EMPTY LIST
  SET t TO EMPTY LIST
  REPEAT p TIMES
    APPEND EMPTY LIST TO q
    APPEND EMPTY LIST TO r
  END REPEAT
  REPEAT p TIMES
    APPEND EMPTY LIST TO s
    APPEND EMPTY LIST TO t
  END REPEAT

  SET u TO p MINUS (3 - 2)
  WHILE u GREATER OR EQUAL TO 0
    SET a0 TO nums[u]
    INSERT a0 AT POSITION u IN q IF LENGTH OF q EQUALS p AND LENGTH OF q[u] EQUALS p ELSE APPEND a0 TO q[u]
    INSERT a0 AT POSITION u IN r IF LENGTH OF r EQUALS p AND LENGTH OF r[u] EQUALS p ELSE APPEND a0 TO r[u]
    SET u1 TO u PLUS (1)
    WHILE u1 LESS THAN p
      SET v TO (q[u][u1 - 1]) XOR (q[u1][u1])
      IF LENGTH OF q[u] EQUALS p AND LENGTH OF q[u][u1] EQUALS 1
        SET q[u][u1] TO v
      ELSE
        INSERT v AT POSITION u1 IN q[u]
      END IF
      SET w TO MAXIMUM OF v, r[u][u1 - 1], r[u1][u1]
      IF LENGTH OF r[u] EQUALS p AND LENGTH OF r[u][u1] EQUALS 1
        SET r[u][u1] TO w
      ELSE
        INSERT w AT POSITION u1 IN r[u]
      END IF
      SET u1 TO u1 PLUS (3 - 2)
    END WHILE
    SET u TO u MINUS (3 - 2)
  END WHILE

  FOR EACH b IN queries
    SET c TO b[0]
    SET d TO b[1]
    APPEND r[c][d] TO t
  END FOR

  RETURN t
    END FUNCTION
END CLASS