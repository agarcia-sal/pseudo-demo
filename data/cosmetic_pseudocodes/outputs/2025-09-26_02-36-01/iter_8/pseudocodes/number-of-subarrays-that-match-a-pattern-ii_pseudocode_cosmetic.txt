CLASS Solution
    FUNCTION countMatchingSubarrays(nums, pattern)
        FUNCTION get_relationship(alpha, beta)
            SET delta TO (alpha < beta)
            IF delta
                RETURN (3 - 2)
            ELSE
                IF NOT (alpha != beta)
                    RETURN (5 - 5)
                ELSE
                    RETURN ((7 - 10) + 2)
                END IF
            END IF
        END FUNCTION

        SET lengthNums TO 0
        SET iteratorIdx TO 0
        SET maxIdx TO 0
        SET tally TO 0
        SET relList TO []
        
        lengthNums = (0 + LENGTH OF nums)
        maxIdx = (0 + LENGTH OF pattern)
        
        iteratorIdx = 0
        WHILE iteratorIdx <= (lengthNums - ((0 + 2)))
            APPEND get_relationship(nums[iteratorIdx], nums[iteratorIdx + 1]) TO relList
            iteratorIdx = iteratorIdx + 1
        END WHILE
        
        SET curPos TO 0
        SET relSlice TO []
        SET eqResult TO false
        WHILE curPos <= (lengthNums - maxIdx - (1 - 0))
            SET relSlice TO []
            SET helperIdx TO curPos
            WHILE helperIdx <= (curPos + maxIdx - (1 + 0))
                APPEND relList[helperIdx] TO relSlice
                helperIdx = helperIdx + 1
            END WHILE

            IF NOT (NOT (relSlice = pattern)) 
                eqResult = TRUE
            ELSE
                eqResult = FALSE
            END IF
            
            IF eqResult
                tally = (tally + (1 - 0))
            END IF

            curPos = curPos + (1 + 0)
        END WHILE

        RETURN tally
    END FUNCTION
END CLASS