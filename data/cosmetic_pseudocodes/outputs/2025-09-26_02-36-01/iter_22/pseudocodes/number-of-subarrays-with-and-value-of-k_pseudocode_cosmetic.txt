CLASS Solution
    FUNCTION countSubarrays(nums parameter LIST OF INTEGER k parameter INTEGER) RETURNS INTEGER
        SET v0 TO 0
        SET v1 TO LENGTH(nums)
        SET v2 TO 0
        WHILE v2 < v1
            SET v3 TO v2
            SET v4 TO nums[v2]
            WHILE TRUE
                SET v4 TO BITWISEAND(v4, nums[v3])
                IF v4 = k THEN
                    SET v0 TO v0 + 1
                END IF
                IF NOT (v4 >= k) THEN
                    EXIT
                END IF
                SET v3 TO v3 + 1
                IF v3 = v1 THEN
                    EXIT
                END IF
            END WHILE
            SET v2 TO v2 + 1
        END WHILE
        RETURN v0
    END FUNCTION
END CLASS