CLASS Solution
    FUNCTION medianOfUniquenessArray(nums)
        FUNCTION countLessOrEqual(target)
            SET Q TO 0
            SET W TO 0
            ASSIGN E TO new empty map with default zero
            SET R TO 0
            SET Y TO 0
            WHILE Y < LENGTH(nums)
                IF E[nums[Y]] = 0 THEN 
                    SET R TO R + 1
                END IF
                SET E[nums[Y]] TO E[nums[Y]] + 1
                WHILE R > target
                    SET E[nums[W]] TO E[nums[W]] - 1
                    IF E[nums[W]] = 0 THEN 
                        SET R TO R - 1
                    END IF
                    SET W TO W + 1
                END WHILE
                SET Q TO Q + (Y - W + 1)
                SET Y TO Y + 1
            END WHILE
            RETURN Q
        END FUNCTION

        SET A TO LENGTH(nums)
        SET S TO (A * (A + 1)) / 2
        SET D TO (S + 1) / 2
        SET F TO 1
        SET G TO A
        WHILE F < G
            SET H TO F + ((G - F) / 2)
            IF countLessOrEqual(H) < D THEN
                SET F TO H + 1
            ELSE
                SET G TO H
            END IF
        END WHILE
        RETURN F
    END FUNCTION
END CLASS