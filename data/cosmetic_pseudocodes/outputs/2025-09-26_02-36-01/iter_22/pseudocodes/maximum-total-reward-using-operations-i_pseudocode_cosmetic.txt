CLASS Solution
  FUNCTION maxTotalReward(rewardValues)
    FUNCTION dfs(y)
      SET idx TO LENGTH(rewardValues)
      SET low TO 0
      SET high TO idx
      WHILE low < high
        SET mid TO low + ((high - low) DIV 2)
        IF rewardValues[mid] <= y
          SET low TO mid + 1
        ELSE
          SET high TO mid
        END IF
      END WHILE
      SET idx TO low
      SET output TO 0
      SET pos TO idx
      WHILE pos < LENGTH(rewardValues)
        SET value TO rewardValues[pos]
        IF NOT (y + value) <= y
          SET temp TO dfs(y + value)
          SET sumVal TO temp + value
          IF sumVal > output
            SET output TO sumVal
          END IF
        END IF
        SET pos TO pos + 1
      END WHILE
      RETURN output
    END FUNCTION

    SET counter TO 0
    WHILE counter < LENGTH(rewardValues) - 1
      SET j TO counter + 1
      WHILE j < LENGTH(rewardValues)
        IF rewardValues[counter] > rewardValues[j]
          SET tmp TO rewardValues[counter]
          SET rewardValues[counter] TO rewardValues[j]
          SET rewardValues[j] TO tmp
        END IF
        SET j TO j + 1
      END WHILE
      SET counter TO counter + 1
    END WHILE

    RETURN dfs(0)
  END FUNCTION
END CLASS