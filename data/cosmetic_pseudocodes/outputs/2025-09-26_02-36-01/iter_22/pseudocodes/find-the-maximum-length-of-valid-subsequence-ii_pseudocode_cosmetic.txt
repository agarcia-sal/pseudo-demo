CLASS Solution
    FUNCTION maximumLength(nums k)
        VAR p = 0
        VAR q = 0
        VAR r = LENGTH OF nums
        IF NOT (r IS NOT 1)
            RETURN 1
        END IF

        VAR st = []
        VAR idx = 0
        WHILE idx < r
            APPEND {} TO st
            idx = idx + 1
        END WHILE

        VAR best = 1
        VAR outer = 0
        REPEAT
            VAR inner = 0
            WHILE inner < outer
                VAR mod_val = (nums[outer] + nums[inner]) MOD k
                IF mod_val IN st[inner]
                    st[outer][mod_val] = st[inner][mod_val] + 1
                ELSE
                    st[outer][mod_val] = 2
                END IF

                IF st[outer][mod_val] > best
                    best = st[outer][mod_val]
                END IF
                inner = inner + 1
            END WHILE
            outer = outer + 1
        UNTIL outer >= r

        RETURN best
    END FUNCTION
END CLASS