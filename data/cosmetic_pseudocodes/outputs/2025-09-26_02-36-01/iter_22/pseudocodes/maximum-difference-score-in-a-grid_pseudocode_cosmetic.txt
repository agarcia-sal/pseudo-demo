CLASS Solution
    FUNCTION maxScore(grid)
        SET r TO 0
        WHILE r < LENGTH(grid)
            IF r = 0
                SET c TO 0
                SET Y TO LENGTH(grid[0])
                CREATE dp AS ARRAY OF LENGTH r+1
                SET dp[0] TO ARRAY OF LENGTH Y FILLED WITH +∞
                SET dp[0][0] TO grid[0][0]
                WHILE c < Y - 1
                    SET dp[0][c+1] TO MIN(dp[0][c], grid[0][c+1])
                    SET c TO c + 1
                END WHILE
                SET max_score VALUE TO -∞
            ELSE
                DEFINE FUNCTION Min(a,b)
                    IF a < b RETURN a ELSE RETURN b
                END FUNCTION

                SET dp[r] TO ARRAY OF LENGTH LENGTH(grid[0]) FILLED WITH +∞
                SET dp[r][0] TO Min(dp[r-1][0], grid[r][0])

                SET x TO 1
                WHILE x < LENGTH(grid[0])
                    SET dp[r][x] TO Min(dp[r][x-1], grid[r][x])
                    SET x TO x + 1
                END WHILE
            END IF

            IF r > 0
                SET z TO 1
                WHILE z < LENGTH(grid[0])
                    SET dp[r][z] TO MIN(dp[r-1][z], dp[r][z-1])
                    SET difference TO grid[r][z] - dp[r][z]
                    IF difference > max_score
                        SET max_score TO difference
                    END IF
                    SET z TO z + 1
                END WHILE
            END IF

            SET r TO r + 1
        END WHILE

        RETURN max_score
    END FUNCTION
END CLASS