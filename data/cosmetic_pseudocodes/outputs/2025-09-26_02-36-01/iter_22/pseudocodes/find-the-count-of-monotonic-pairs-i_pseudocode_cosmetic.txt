CLASS Solution
    FUNCTION countOfPairs(nums)
        SET A TO 1000000000 + 7
        SET B TO LENGTH OF nums
        SET C TO nums[0]
        FOR D FROM 1 TO B - 1
            IF nums[D] > C THEN
                SET C TO nums[D]
            END IF
        END FOR

        SET E TO []
        FOR F FROM 0 TO B - 1
            SET G TO []
            FOR H FROM 0 TO C
                APPEND [0 REPEATED C + 1 TIMES] TO G
            END FOR
            APPEND G TO E
        END FOR

        FOR I FROM 0 TO nums[0]
            SET J TO nums[0] - I
            SET E[0][I][J] TO 1
        END FOR

        SET K TO 1
        WHILE K < B
            SET L TO nums[K]
            SET M TO 0
            WHILE M <= L
                SET N TO L - M
                SET O TO 0
                WHILE O <= M
                    SET P TO N
                    WHILE P <= C
                        SET Q TO E[K][M][N] + E[K - 1][O][P]
                        SET E[K][M][N] TO Q MOD A
                        SET P TO P + 1
                    END WHILE
                    SET O TO O + 1
                END WHILE
                SET M TO M + 1
            END WHILE
            SET K TO K + 1
        END WHILE

        SET R TO 0
        SET S TO B - 1
        SET T TO nums[S]
        FOR U FROM 0 TO C
            FOR V FROM 0 TO C
                IF U + V = T THEN
                    SET R TO (R + E[S][U][V]) MOD A
                END IF
            END FOR
        END FOR

        RETURN R
    END FUNCTION
END CLASS