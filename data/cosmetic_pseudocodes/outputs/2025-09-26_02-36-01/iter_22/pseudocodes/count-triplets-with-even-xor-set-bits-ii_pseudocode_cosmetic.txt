CLASS Solution
    FUNCTION tripletCount(a AS List OF integer, b AS List OF integer, c AS List OF integer) RETURNS integer

        FUNCTION count_even_odd_bits(arr AS List OF integer) RETURNS tuple OF integer and integer
            SET k0 TO 0
            SET idx1 TO 0
            WHILE idx1 < LENGTH OF arr
                SET val TO arr[idx1]
                SET cnt_bits TO 0
                WHILE val > 0
                    SET cnt_bits TO cnt_bits + (val AND 1)
                    SET val TO val >> 1
                END WHILE

                IF (cnt_bits MOD 2) = 0 THEN
                    SET k0 TO k0 + 1
                END IF
                SET idx1 TO idx1 + 1
            END WHILE
            SET k1 TO (LENGTH OF arr) - k0
            RETURN k0 AND k1
        END FUNCTION

        SET p0, p1 TO count_even_odd_bits(a)
        SET q0, q1 TO count_even_odd_bits(b)
        SET r0, r1 TO count_even_odd_bits(c)

        SET m0 TO p0 * q0 * r0
        SET m1 TO (p0 * q1 * r1) + (p1 * q0 * r1) + (p1 * q1 * r0)

        SET ans TO m0 + m1
        RETURN ans
    END FUNCTION
END CLASS