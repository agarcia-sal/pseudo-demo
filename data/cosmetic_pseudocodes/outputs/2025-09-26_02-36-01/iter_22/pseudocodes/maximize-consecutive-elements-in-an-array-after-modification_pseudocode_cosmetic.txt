CLASS Solution  
    FUNCTION maxSelectedElements(nums)  
        SET alpha TO 0  
        SET omega TO empty dictionary  
        SET beta TO sorted version of nums in ascending order  
        SET idx TO 0  
        WHILE idx < length of beta  
            SET x TO beta at position idx  
            IF omega at key x exists THEN  
                SET mu TO omega at key x  
            ELSE  
                SET mu TO 0  
            END IF  
            IF omega at key x minus 1 exists THEN  
                SET nu TO omega at key x minus 1  
            ELSE  
                SET nu TO 0  
            END IF  
            SET omega at key x plus 1 TO mu plus 1  
            SET omega at key x TO nu plus 1  
            SET gamma TO maximum among alpha, omega at key x, omega at key x plus 1  
            SET alpha TO gamma  
            SET idx TO idx plus 1  
        END WHILE  
        RETURN alpha  
    END FUNCTION  
END CLASS