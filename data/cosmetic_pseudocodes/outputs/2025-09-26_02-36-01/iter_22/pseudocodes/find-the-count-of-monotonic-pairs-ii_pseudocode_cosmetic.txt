CLASS Solution
    FUNCTION countOfPairs(nums)
        ASSIGN CONST_MOD = 1000000000 + 7
        ASSIGN LEN_ARR = LENGTH(nums)
        ASSIGN MAX_ELEMENT = MAXIMUM(nums)
        DECLARE TABLE as 3D array size (LEN_ARR + 1) x (MAX_ELEMENT + 1) x (MAX_ELEMENT + 1) filled with 0

        SET IDX0_NUM = nums[0]
        FOR X000 = 0 TO IDX0_NUM DO
            TABLE[1][X000][IDX0_NUM - X000] = 1
        END FOR

        SET POS = 2
        WHILE POS <= LEN_ARR DO
            SET CUR_NUM = nums[POS - 1]
            FOR AAA = 0 TO CUR_NUM DO
                SET BBB = 0
                WHILE BBB <= CUR_NUM DO
                    IF (AAA + BBB) == CUR_NUM THEN
                        FOR P = 0 TO AAA DO
                            SET Q = BBB
                            WHILE Q <= MAX_ELEMENT DO
                                SET TEMP_VAL = TABLE[POS][AAA][BBB] + TABLE[POS - 1][P][Q]
                                TABLE[POS][AAA][BBB] = TEMP_VAL % CONST_MOD
                                Q = Q + 1
                            END WHILE
                        END FOR
                    END IF
                    BBB = BBB + 1
                END WHILE
            END FOR
            POS = POS + 1
        END WHILE

        SET FINAL_RESULT = 0
        SET JJ = 0
        WHILE JJ <= MAX_ELEMENT DO
            FOR KK = 0 TO MAX_ELEMENT DO
                FINAL_RESULT = FINAL_RESULT + TABLE[LEN_ARR][JJ][KK]
                FINAL_RESULT = FINAL_RESULT % CONST_MOD
            END FOR
            JJ = JJ + 1
        END WHILE

        RETURN FINAL_RESULT
    END FUNCTION
END CLASS