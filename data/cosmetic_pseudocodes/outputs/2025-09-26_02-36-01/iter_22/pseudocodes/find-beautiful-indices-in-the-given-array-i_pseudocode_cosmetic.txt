CLASS Solution
    FUNCTION beautifulIndices(s parameter, a parameter, b parameter, k parameter)
        SET X1 TO 0
        SET Y1 TO (LENGTH(s) - LENGTH(a) + 1)
        SET R1 TO []
        WHILE X1 < Y1
            SET Z1 TO X1
            SET W1 TO (X1 + LENGTH(a) - 1)
            SET F1 TO TRUE
            SET M1 TO 0
            WHILE M1 < LENGTH(a) AND F1
                IF s[Z1 + M1] ≠ a[M1]
                    SET F1 TO FALSE
                END IF
                SET M1 TO M1 + 1
            END WHILE
            IF F1 = TRUE
                APPEND X1 TO R1
            END IF
            SET X1 TO X1 + 1
        END WHILE

        SET X2 TO 0
        SET Y2 TO (LENGTH(s) - LENGTH(b) + 1)
        SET R2 TO []
        WHILE X2 <> Y2
            SET Z2 TO X2
            SET W2 TO (X2 + LENGTH(b) - 1)
            SET F2 TO TRUE
            SET M2 TO 0
            WHILE M2 < LENGTH(b) AND F2
                IF s[Z2 + M2] ≠ b[M2]
                    SET F2 TO FALSE
                END IF
                SET M2 TO M2 + 1
            END WHILE
            IF F2 = TRUE
                APPEND X2 TO R2
            END IF
            SET X2 TO X2 + 1
        END WHILE

        SET V TO []
        SET P TO 0
        REPEAT
            IF P >= LENGTH(R1)
                BREAK
            END IF
            SET I TO R1[P]
            SET Q TO 0
            REPEAT
                IF Q >= LENGTH(R2)
                    BREAK
                END IF
                SET J TO R2[Q]
                IF (I - J) ≤ k AND NOT ((I - J) < -k)
                    APPEND I TO V
                    BREAK
                END IF
                SET Q TO Q + 1
            UNTIL FALSE
            SET P TO P + 1
        UNTIL FALSE

        RETURN V
    END FUNCTION
END CLASS