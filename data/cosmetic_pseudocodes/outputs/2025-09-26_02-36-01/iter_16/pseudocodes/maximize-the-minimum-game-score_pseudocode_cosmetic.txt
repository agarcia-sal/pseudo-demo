CLASS Solution  
  FUNCTION maxScore(points, m)  
    FUNCTION isPossible(minVal, m)  
      SET n1 TO 0  
      SET n2 TO 0  
      SET j TO 0  
      WHILE j < LENGTH(points)  
        SET p TO points[j]  
        SET t1 TO (minVal - 1 + p) / p  
        SET t2 TO t1 - n2  
        SET r1 TO (t2 < 0) ? 0 : t2  
        IF r1 > 0 THEN  
          SET n1 TO n1 + (2 * r1 - 1)  
          SET n2 TO r1 - 1  
        ELSE  
          IF j + 1 < LENGTH(points) THEN  
            SET n1 TO n1 + 1  
            SET n2 TO 0  
          END IF  
        END IF  
        IF n1 > m THEN  
          RETURN False  
        END IF  
        SET j TO j + 1  
      END WHILE  
      RETURN True  
    END FUNCTION  

    SET a TO 0  
    SET b TO (((m + 1) / 2) * points[0]) + 1  

    REPEAT  
      SET c TO (a + b + 1) / 2  
      IF isPossible(c, m) THEN  
        SET a TO c  
      ELSE  
        SET b TO c - 1  
      END IF  
    UNTIL a >= b  

    RETURN a  
  END FUNCTION  
END CLASS