CLASS Solution
  FUNCTION answerString(laput, ziyeg)
    IF ziyeg = 1 THEN
      RETURN laput
    ENDIF

    SET xrvpy TO _lastSubstring(laput)
    SET gsnvq TO LENGTH(laput) - ziyeg + 1
    SET bzerf TO IF LENGTH(xrvpy) < gsnvq THEN LENGTH(xrvpy) ELSE gsnvq ENDIF
    RETURN SUBSTRING(xrvpy, 1, bzerf)
  ENDFUNCTION

  FUNCTION _lastSubstring(cejw)
    FUNCTION recur(o, p, q)
      IF (p + q) >= LENGTH(cejw) THEN
        RETURN o
      ELSEIF cejw[o + q] = cejw[p + q] THEN
        RETURN recur(o, p, q + 1)
      ELSEIF cejw[o + q] > cejw[p + q] THEN
        RETURN recur(o, p + q + 1, 0)
      ELSE
        RETURN recur(MAX(o + q + 1, p), MAX(o + q + 1, p) + 1, 0)
      ENDIF
    ENDFUNCTION
    SET pos TO recur(0, 1, 0)
    RETURN SUBSTRING(cejw, pos + 1, LENGTH(cejw) - pos)
  ENDFUNCTION
ENDCLASS