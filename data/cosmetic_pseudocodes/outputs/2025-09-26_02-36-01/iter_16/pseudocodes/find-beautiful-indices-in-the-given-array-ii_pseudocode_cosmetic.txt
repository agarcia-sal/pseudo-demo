CLASS Solution  
  FUNCTION beautifulIndices(s parameter xq parameter yv parameter fq)  
    SET vv TO new list  
    SET wy TO 0  
    WHILE wy NOT EQUAL TO (LENGTH s MINUS LENGTH xq) PLUS 1  
      SET ww TO (SUBSTRING s FROM wy TO (wy PLUS LENGTH xq MINUS 1))  
      IF ww EQUALS xq THEN  
        APPEND wy TO vv  
      END IF  
      SET wy TO wy PLUS 1  
    END WHILE  

    SET qx TO new list  
    SET bg TO 0  
    WHILE bg NOT EQUAL TO (LENGTH s MINUS LENGTH yv) PLUS 1  
      SET mt TO (SUBSTRING s FROM bg TO (bg PLUS LENGTH yv MINUS 1))  
      IF mt EQUALS yv THEN  
        APPEND bg TO qx  
      END IF  
      SET bg TO bg PLUS 1  
    END WHILE  

    SET bos TO new list  

    FUNCTION aux_fn(u parameter v parameter)  
      IF u GREATER THAN OR EQUAL TO LENGTH vv THEN  
        RETURN  
      ELSE IF v GREATER THAN OR EQUAL TO LENGTH qx THEN  
        RETURN  
      END IF  

      SET wq TO vv[u]  
      SET sr TO qx[v]  
      SET oh TO (wq MINUS sr)  
      IF oh LESS THAN 0 THEN  
        SET oh TO 0 MINUS oh  
      END IF  

      IF oh LESS THAN OR EQUAL TO fq THEN  
        APPEND wq TO bos  
        CALL aux_fn(u PLUS 1, v)  
      ELSE  
        IF wq LESS THAN sr THEN  
          CALL aux_fn(u PLUS 1, v)  
        ELSE  
          CALL aux_fn(u, v PLUS 1)  
        END IF  
      END IF  
    END FUNCTION  

    CALL aux_fn(0,0)  
    RETURN bos  
  END FUNCTION  
END CLASS