CLASS Solution  
    FUNCTION maximumHappinessSum(happiness, k)  
    BEGIN  
        SET decrementCounter TO 0  
        SET collectedSum TO 0  
        WHILE decrementCounter < k DO  
            IF decrementCounter = 0 THEN  
                CALL reorderDescending(happiness)  
            END IF  
            SET tempIndex TO decrementCounter  
            SET adjustedValue TO happiness[tempIndex] - decrementCounter  
            IF NOT (adjustedValue >= 0) THEN  
                SET adjustedValue TO 0  
            END IF  
            SET collectedSum TO collectedSum + adjustedValue  
            SET decrementCounter TO decrementCounter + 1  
        END WHILE  
        RETURN collectedSum  
    END FUNCTION  

    FUNCTION reorderDescending(arr)  
    BEGIN  
        IF LENGTH(arr) <= 1 THEN  
            RETURN  
        END IF  
        FOR left <- 0 TO LENGTH(arr) - 2 DO  
            FOR right <- left + 1 TO LENGTH(arr) - 1 DO  
                IF arr[left] < arr[right] THEN  
                    SET swapTemp TO arr[left]  
                    SET arr[left] TO arr[right]  
                    SET arr[right] TO swapTemp  
                END IF  
            END FOR  
        END FOR  
    END FUNCTION  
END CLASS