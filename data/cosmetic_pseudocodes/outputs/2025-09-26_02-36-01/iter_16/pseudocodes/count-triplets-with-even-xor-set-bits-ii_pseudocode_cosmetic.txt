CLASS Solution   
    FUNCTION tripletCount(a AS List OF integer, b AS List OF integer, c AS List OF integer) RETURNS integer   
        
        FUNCTION count_even_odd_bits(arr AS List OF integer) RETURNS tuple OF integer and integer  
            SET M TO 0  
            SET N TO 0  
            SET Z TO 0  
            WHILE Z < LENGTH OF arr  
                SET X TO arr[Z]  
                SET Y TO 0  
                SET sum_ones TO 0  
                WHILE X > 0  
                    SET sum_ones TO sum_ones + (X AND 1)  
                    SET X TO FLOOR(X / 2)  
                END WHILE  
                IF ((((sum_ones + 2) MOD 2) + 0) MOD 2) = 0 THEN  
                    SET M TO M + 1  
                END IF  
                SET Z TO Z + 1  
            END WHILE  
            SET N TO LENGTH OF arr - M  
            RETURN M, N  
        END FUNCTION  
        
        SET p1, p2 TO count_even_odd_bits(a)  
        SET q1, q2 TO count_even_odd_bits(b)  
        SET r1, r2 TO count_even_odd_bits(c)  
        
        SET v1 TO p1 * q1 * r1  
        SET v2 TO (p1 * q2 * r2) + (p2 * q1 * r2) + (p2 * q2 * r1)  
        
        SET w TO v1 + v2  
        RETURN w  
    END FUNCTION  
END CLASS