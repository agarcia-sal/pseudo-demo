CLASS Solution
	FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
		SET xZlH TO LENGTH(nums parameter)
		SET vqpKm TO LENGTH(pattern parameter)
		SET yuHR TO 0
		SET BHkJ TO 0
		WHILE BHkJ <= (xZlH - vqpKm - 1)
			SET WIoRa TO TRUE
			SET rUDCL TO 0
			REPEAT
				IF rUDCL >= (vqpKm - 1) THEN
					BREAK
				END IF
				IF ((pattern parameter[rUDCL] - 1) * (nums parameter[BHkJ + rUDCL + 1] - nums parameter[BHkJ + rUDCL]) >= 0) AND (pattern parameter[rUDCL] = 1) = FALSE THEN
					IF pattern parameter[rUDCL] = 1 THEN
						IF nums parameter[BHkJ + rUDCL + 1] <= nums parameter[BHkJ + rUDCL] THEN
							SET WIoRa TO FALSE
							EXIT WHILE
						END IF
					ELSE IF pattern parameter[rUDCL] = 0 THEN
						IF nums parameter[BHkJ + rUDCL + 1] != nums parameter[BHkJ + rUDCL] THEN
							SET WIoRa TO FALSE
							EXIT WHILE
						END IF
					ELSE IF pattern parameter[rUDCL] = -1 THEN
						IF nums parameter[BHkJ + rUDCL + 1] >= nums parameter[BHkJ + rUDCL] THEN
							SET WIoRa TO FALSE
							EXIT WHILE
						END IF
					END IF
				END IF
				SET rUDCL TO (rUDCL + 1)
			UNTIL (WIoRa = FALSE) OR (rUDCL = (vqpKm - 1))
			IF WIoRa = TRUE THEN
				SET yuHR TO yuHR + 1
			END IF
			SET BHkJ TO BHkJ + 1
		END WHILE
		RETURN yuHR
	END FUNCTION
END CLASS