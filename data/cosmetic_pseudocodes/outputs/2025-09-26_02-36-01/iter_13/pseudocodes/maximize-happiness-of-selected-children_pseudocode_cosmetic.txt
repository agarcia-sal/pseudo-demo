CLASS Solution
    FUNCTION maximumHappinessSum(happiness, k)
        PROCEDURE sortDescending(collection)
            REPEAT
                SET changed TO false
                SET idx TO 0
                WHILE idx LESS THAN (length(collection) MINUS 1)
                    IF collection[idx] LESS THAN collection[idx PLUS 1]
                        SET temp TO collection[idx]
                        SET collection[idx] TO collection[idx PLUS 1]
                        SET collection[idx PLUS 1] TO temp
                        SET changed TO true
                    END IF
                    INCREMENT idx BY 1
                END WHILE
            UNTIL changed EQUALS false
        END PROCEDURE

        CALL sortDescending(happiness)
        SET totalResult TO 0
        SET adjuster TO 0

        PROCEDURE loopAccumulate(pos)
            IF pos GREATER THAN OR EQUAL TO k
                RETURN
            END IF
            SET val TO happiness[pos] MINUS adjuster
            IF val LESS THAN 0
                SET val TO 0
            END IF
            SET totalResult TO totalResult PLUS val
            SET adjuster TO adjuster PLUS 1
            CALL loopAccumulate(pos PLUS 1)
        END PROCEDURE

        CALL loopAccumulate(0)

        RETURN totalResult
    END FUNCTION
END CLASS