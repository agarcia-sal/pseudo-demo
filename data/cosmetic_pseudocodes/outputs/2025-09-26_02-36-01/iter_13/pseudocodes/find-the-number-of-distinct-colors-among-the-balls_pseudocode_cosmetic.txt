CLASS Solution
	FUNCTION queryResults(limit parameter, queries parameter)
		DEFINE ballColorsMap AS EMPTY DICTIONARY
		DEFINE distinctColorCollection AS EMPTY SET
		DEFINE outputCounts AS EMPTY LIST

		DEFINE processPair(index)
			IF index >= LENGTH(queries parameter) THEN RETURN
			LET currentPair BE queries parameter[index]
			LET keyValue BE currentPair[0]
			LET colorValue BE currentPair[1]

			IF keyValue IN ballColorsMap THEN
				LET previousColor BE ballColorsMap[keyValue]
				IF previousColor IN distinctColorCollection THEN
					REMOVE previousColor FROM distinctColorCollection
				END IF
			END IF

			ballColorsMap[keyValue] := colorValue
			ADD colorValue TO distinctColorCollection
			APPEND LENGTH(distinctColorCollection) TO outputCounts

			CALL processPair(index + 1)
		END FUNCTION

		CALL processPair(0)

		RETURN outputCounts
	END FUNCTION
END CLASS