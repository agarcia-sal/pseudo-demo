CLASS Solution
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
        SET totalLength TO LENGTH(nums parameter)
        SET patternLength TO LENGTH(pattern parameter)
        SET resultCounter TO 0

        DEFINE PROCEDURE checkPatternAllowed(startIndex, patternIndex, isValid)
            IF patternIndex >= patternLength - 1 THEN RETURN isValid
            SET currentPatternVal TO pattern parameter[patternIndex]
            SET firstElement TO nums parameter[startIndex + patternIndex]
            SET secondElement TO nums parameter[startIndex + patternIndex + 1]
            IF currentPatternVal == 1 THEN
                IF NOT (secondElement > firstElement) THEN RETURN False END IF
            ELSE IF currentPatternVal == 0 THEN
                IF secondElement != firstElement THEN RETURN False END IF
            ELSE IF currentPatternVal == -1 THEN
                IF NOT (secondElement < firstElement) THEN RETURN False END IF
            END IF
            RETURN checkPatternAllowed(startIndex, patternIndex + 1, isValid)
        END PROCEDURE

        SET iterationIndex TO 0
        WHILE iterationIndex <= totalLength - patternLength
            IF checkPatternAllowed(iterationIndex, 0, True) == True THEN
                resultCounter = resultCounter + 1
            END IF
            iterationIndex = iterationIndex + 1
        END WHILE

        RETURN resultCounter
    END FUNCTION
END CLASS