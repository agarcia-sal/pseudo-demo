CLASS Solution
    FUNCTION numberOfPairs(points)
        SET totalPairs TO 0
        SET length TO LENGTH OF points

        DEFINE FUNCTION checkValidity(startIdx, endIdx) RETURNS BOOLEAN
            SET idx TO 0
            WHILE idx LESS THAN length
                IF idx NOT EQUALS startIdx AND idx NOT EQUALS endIdx THEN
                    SET px TO points AT idx AT 0
                    SET py TO points AT idx AT 1
                    SET sx TO points AT startIdx AT 0
                    SET sy TO points AT startIdx AT 1
                    SET ex TO points AT endIdx AT 0
                    SET ey TO points AT endIdx AT 1

                    IF NOT ((sx LESS THAN OR EQUAL TO px AND px LESS THAN OR EQUAL TO ex) AND (sy GREATER THAN OR EQUAL TO py AND py GREATER THAN OR EQUAL TO ey)) THEN
                        SET idx TO idx + 1
                        CONTINUE
                    END IF

                    RETURN FALSE
                END IF
                SET idx TO idx + 1
            END WHILE
            RETURN TRUE
        END FUNCTION

        SET outerIdx TO 0
        REPEAT
            IF outerIdx GREATER OR EQUAL TO length THEN
                BREAK
            END IF

            SET innerIdx TO 0
            REPEAT
                IF innerIdx GREATER OR EQUAL TO length THEN
                    BREAK
                END IF

                IF outerIdx NOT EQUALS innerIdx THEN
                    SET outerX TO points AT outerIdx AT 0
                    SET outerY TO points AT outerIdx AT 1
                    SET innerX TO points AT innerIdx AT 0
                    SET innerY TO points AT innerIdx AT 1

                    IF (outerX LESS THAN OR EQUAL TO innerX) AND (outerY GREATER THAN OR EQUAL TO innerY) THEN
                        IF checkValidity(outerIdx, innerIdx) THEN
                            SET totalPairs TO totalPairs + 1
                        END IF
                    END IF
                END IF

                SET innerIdx TO innerIdx + 1
            UNTIL FALSE

            SET outerIdx TO outerIdx + 1
        UNTIL FALSE

        RETURN totalPairs
    END FUNCTION
END CLASS