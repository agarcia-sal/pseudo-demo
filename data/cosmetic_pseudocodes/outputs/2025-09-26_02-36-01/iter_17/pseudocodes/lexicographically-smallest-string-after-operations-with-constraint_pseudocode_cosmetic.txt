CLASS Solution
    FUNCTION getSmallestString(s parameter of type string k parameter of type integer) RETURNS string
        FUNCTION cyclic_distance(c1 parameter of type character c2 parameter of type character) RETURNS integer
            SET diff TO ABS(ORD(c1) - ORD(c2))
            SET alt TO 26 - diff
            IF diff < alt THEN
                RETURN diff
            ELSE
                RETURN alt
            END IF
        END FUNCTION

        SET arr TO list()
        FOR index FROM 0 TO LENGTH(s) - 1
            CALL arr.ADD(s[index])
        END FOR

        SET pos TO 0
        SET length_s TO LENGTH(s)

        REPEAT
            IF NOT (k > 0 AND pos < length_s) THEN
                BREAK
            END IF

            IF arr[pos] = 'a' THEN
                SET pos TO pos + 1
                CONTINUE
            END IF

            SET dist TO cyclic_distance(arr[pos], 'a')

            IF dist <= k THEN
                SET arr[pos] TO 'a'
                SET k TO k - dist
            ELSE
                SET arr[pos] TO CHR(ORD(arr[pos]) - k)
                SET k TO 0
            END IF

            SET pos TO pos + 1
        UNTIL FALSE

        SET result_string TO EMPTY_STRING
        FOR elem IN arr
            SET result_string TO result_string + elem
        END FOR

        RETURN result_string
    END FUNCTION
END CLASS