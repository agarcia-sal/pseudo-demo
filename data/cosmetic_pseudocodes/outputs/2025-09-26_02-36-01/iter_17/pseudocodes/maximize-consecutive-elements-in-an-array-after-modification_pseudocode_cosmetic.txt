CLASS Solution
    FUNCTION maxSelectedElements(nums)
        SET result TO 0
        SET table TO new empty dictionary
        SET sortedList TO sort nums in ascending order
        SET idx TO 0
        WHILE idx < length of sortedList
            BEGIN
                SET currentVal TO element at index idx of sortedList
                SET nextValCount TO 1
                IF table contains key currentVal THEN
                    SET nextValCount TO element at key currentVal of table + 1
                ENDIF
                SET table element at key (currentVal + 1) TO nextValCount

                SET prevValCount TO 1
                IF table contains key (currentVal - 1) THEN
                    SET prevValCount TO element at key (currentVal - 1) of table + 1
                ENDIF
                SET table element at key currentVal TO prevValCount

                SET tempMax TO result
                IF tempMax < element at key currentVal of table THEN
                    SET tempMax TO element at key currentVal of table
                ENDIF
                IF tempMax < element at key (currentVal + 1) of table THEN
                    SET tempMax TO element at key (currentVal + 1) of table
                ENDIF
                SET result TO tempMax
            END
            SET idx TO idx + 1
        ENDWHILE
        RETURN result
    END FUNCTION
END CLASS