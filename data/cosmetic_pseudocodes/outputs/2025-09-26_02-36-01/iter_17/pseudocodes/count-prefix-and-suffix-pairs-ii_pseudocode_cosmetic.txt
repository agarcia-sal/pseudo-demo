CLASS Solution
    FUNCTION countPrefixSuffixPairs(words)
        SET totalPairs TO 0
        SET frequencyMap TO createEmptyMapWithDefaultZero()
        DEFINE FUNCTION isMatching(fullString, subString)
            SET prefixCheck TO substring(fullString, 0, length(subString))
            SET suffixCheck TO substring(fullString, length(fullString) - length(subString), length(fullString))
            RETURN (prefixCheck = subString) AND (suffixCheck = subString)
        END FUNCTION

        SET index TO length(words) - 1
        WHILE index >= 0
            SET currentWord TO words[index]
            FOR each key IN keys(frequencyMap)
                IF isMatching(key, currentWord) THEN
                    SET totalPairs TO totalPairs + frequencyMap[key]
                END IF
            END FOR
            SET frequencyMap[currentWord] TO frequencyMap[currentWord] + 1
            SET index TO index - 1
        END WHILE

        RETURN totalPairs
    END FUNCTION
END CLASS