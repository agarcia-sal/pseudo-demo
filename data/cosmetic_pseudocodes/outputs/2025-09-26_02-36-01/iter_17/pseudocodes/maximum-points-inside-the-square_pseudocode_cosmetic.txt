CLASS Solution  
    FUNCTION maxPointsInsideSquare(points s)  
        SET total TO LENGTH OF s  
        SET peak_count TO 0  
        SET idx_outer TO 0  
        WHILE idx_outer < total  
            BEGIN  
                SET coord_x TO s[idx_outer][0]  
                SET coord_y TO s[idx_outer][1]  
                SET limit TO MAX(ABS(coord_x), ABS(coord_y))  
                SET presence_map TO EMPTY DICTIONARY  
                SET is_valid TO TRUE  
                SET idx_inner TO 0  
                WHILE idx_inner < total  
                    BEGIN  
                        SET check_x TO s[idx_inner][0]  
                        SET check_y TO s[idx_inner][1]  
                        IF NOT (ABS(check_x) > limit OR ABS(check_y) > limit) THEN  
                            BEGIN  
                                SET current_tag TO s[idx_inner]  
                                IF current_tag IN presence_map THEN  
                                    SET is_valid TO FALSE  
                                    idx_inner = total  
                                ELSE  
                                    presence_map[current_tag] = TRUE  
                                END IF  
                            END  
                        END IF  
                        idx_inner = idx_inner + 1  
                    END  
                IF is_valid = TRUE THEN  
                    BEGIN  
                        IF peak_count < LENGTH OF presence_map THEN  
                            SET peak_count = LENGTH OF presence_map  
                        END IF  
                    END  
                END IF  
                idx_outer = idx_outer + 1  
            END  
        RETURN peak_count  
    END FUNCTION  
END CLASS