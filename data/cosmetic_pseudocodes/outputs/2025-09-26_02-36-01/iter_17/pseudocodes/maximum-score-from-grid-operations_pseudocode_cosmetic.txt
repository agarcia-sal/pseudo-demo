CLASS Solution  
    FUNCTION maximumScore(grid)  
        SET u TO LENGTH(grid)  
        DECLARE matrix AS LIST OF LIST OF INTEGER = [[0 FOR _ IN RANGE(u + 1)] FOR _ IN RANGE(u)]  
        DECLARE arr1 AS LIST OF INTEGER = [0 FOR _ IN RANGE(u + 1)]  
        DECLARE arr2 AS LIST OF INTEGER = [0 FOR _ IN RANGE(u + 1)]  
        
        SET a TO 0  
        WHILE a < u  
            SET b TO 0  
            WHILE b < u  
                SET matrix[a][b+1] TO matrix[a][b] + grid[a][b]  
                SET b TO b + 1  
            END WHILE  
            SET a TO a + 1  
        END WHILE  
        
        SET c TO 1  
        WHILE c < u  
            DECLARE newArr1 AS LIST OF INTEGER = [0 FOR _ IN RANGE(u + 1)]  
            DECLARE newArr2 AS LIST OF INTEGER = [0 FOR _ IN RANGE(u + 1)]  
            
            SET x TO 0  
            WHILE x <= u  
                SET y TO 0  
                WHILE y <= u  
                    IF x > y THEN  
                        SET val TO matrix[c-1][x] - matrix[c-1][y]  
                        IF newArr1[x] < arr2[y] + val THEN  
                            SET newArr1[x] TO arr2[y] + val  
                        END IF  
                        IF newArr2[x] < arr2[y] + val THEN  
                            SET newArr2[x] TO arr2[y] + val  
                        END IF  
                    ELSE  
                        SET val TO matrix[c][y] - matrix[c][x]  
                        IF newArr1[x] < arr1[y] + val THEN  
                            SET newArr1[x] TO arr1[y] + val  
                        END IF  
                        IF newArr2[x] < newArr2[x] THEN  
                            SET newArr2[x] TO newArr2[x]  
                        END IF  
                        IF newArr2[x] < arr1[y] THEN  
                            SET newArr2[x] TO arr1[y]  
                        END IF  
                    END IF  
                    SET y TO y + 1  
                END WHILE  
                SET x TO x + 1  
            END WHILE  
            
            SET arr1 TO newArr1  
            SET arr2 TO newArr2  
            SET c TO c + 1  
        END WHILE  
        
        DECLARE res AS INTEGER = 0  
        SET idx TO 0  
        WHILE idx <= u  
            IF arr1[idx] > res THEN  
                SET res TO arr1[idx]  
            END IF  
            SET idx TO idx + 1  
        END WHILE  
        
        RETURN res  
    END FUNCTION  
END CLASS