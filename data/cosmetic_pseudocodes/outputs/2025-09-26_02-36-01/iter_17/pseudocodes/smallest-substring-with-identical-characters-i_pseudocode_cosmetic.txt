CLASS Solution
    FUNCTION minLength(s parameter, numOps parameter)
        FUNCTION longest_uniform_substring(s parameter)
            SET a TO 0
            SET b TO 1
            SET c TO 1
            WHILE b < LENGTH OF s
                IF s[b] = s[b-1]
                    SET c TO c + 1
                ELSE
                    IF a < c
                        SET a TO c
                    END IF
                    SET c TO 1
                END IF
                SET b TO b + 1
            END WHILE
            IF a > c
                RETURN a
            ELSE
                RETURN c
            END IF
        END FUNCTION

        SET x TO LENGTH OF s
        SET y TO (1 << x)
        SET z TO x
        SET i TO 0
        REPEAT
            IF (COUNT OF ones IN binary FORM OF i) > numOps THEN
                SET i TO i + 1
                CONTINUE
            END IF

            SET arr TO list FROM s
            SET j TO 0
            WHILE j < x
                IF (i & (1 << j)) != 0 THEN
                    IF arr[j] = '0' THEN
                        SET arr[j] TO '1'
                    ELSE
                        SET arr[j] TO '0'
                    END IF
                END IF
                SET j TO j + 1
            END WHILE

            SET candidate TO longest_uniform_substring(arr)
            IF z > candidate THEN
                SET z TO candidate
            END IF

            SET i TO i + 1
        UNTIL i = y

        RETURN z
    END FUNCTION
END CLASS