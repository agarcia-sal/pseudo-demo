CLASS Solution
    FUNCTION countSubarrays(nums parameter LIST OF INTEGER k parameter INTEGER) RETURNS INTEGER
        DECLARE len INTEGER
        DECLARE tally INTEGER
        DECLARE idx_start INTEGER
        DECLARE idx_end INTEGER
        DECLARE acc_and INTEGER

        len = 0
        tally = 0
        len = LENGTH(nums)

        idx_start = 0
        WHILE idx_start <= len - 1 DO
            acc_and = nums[idx_start]
            idx_end = idx_start
            REPEAT
                acc_and = acc_and BITWISE_AND nums[idx_end]
                IF acc_and == k THEN
                    tally = tally + 1
                END IF
                IF acc_and < k THEN
                    EXIT
                END IF
                idx_end = idx_end + 1
            UNTIL idx_end > len - 1
            idx_start = idx_start + 1
        END WHILE

        RETURN tally
    END FUNCTION
END CLASS