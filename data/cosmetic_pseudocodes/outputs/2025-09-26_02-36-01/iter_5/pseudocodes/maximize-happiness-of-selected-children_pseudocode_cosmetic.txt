CLASS Solution

    FUNCTION maximumHappinessSum(happiness, k)
        CALL sortDescending(happiness)

        SET cumulativeResult TO 0
        SET decrementCounter TO 0

        FUNCTION sumHelper(position, acc, dec)
            IF position GREATER OR EQUAL TO k THEN
                RETURN acc
            ELSE
                SET tempVal TO (happiness[position]) - dec
                IF tempVal LESS THAN 0 THEN
                    SET tempVal TO 0
                END IF
                RETURN sumHelper(position + 1, acc + tempVal, dec + 1)
            END IF
        END FUNCTION

        SET cumulativeResult TO sumHelper(0, 0, 0)

        RETURN cumulativeResult
    END FUNCTION

    FUNCTION sortDescending(collection)
        CALL collection.sort( (a, b) => IF a GREATER THAN b THEN -1 ELSE 1 )
    END FUNCTION

END CLASS