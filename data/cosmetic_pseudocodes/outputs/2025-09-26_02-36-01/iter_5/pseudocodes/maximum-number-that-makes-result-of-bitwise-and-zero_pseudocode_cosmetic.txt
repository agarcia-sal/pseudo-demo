CLASS Solution  
    FUNCTION maxNumber(num)  
        SET result TO 0  
        IF NOT (num NOT EQUAL TO 1) THEN  
            SET result TO 0  
        ELSE  
            SET bit_marker TO 1  
            CALL findBit(bit_marker, num)  
            SET bit_marker TO bit_marker / 2  
            SET interim TO bit_marker - 1  
            SET result TO interim  
        END IF  
        RETURN result  
    END FUNCTION  
  
    FUNCTION findBit(current, threshold)  
        IF current <= threshold THEN  
            SET updated TO current * 2  
            CALL findBit(updated, threshold)  
        END IF  
    END FUNCTION  
END CLASS