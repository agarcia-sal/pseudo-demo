CLASS Solution
    FUNCTION maximumLength(nums)
        SET countEven TO 0
        SET countOdd TO 0

        FUNCTION helper(index, countEvenInner, countOddInner)
            IF NOT (index < (LENGTH(nums) - 1)) THEN
                RETURN (countEvenInner, countOddInner)
            END IF

            SET leftVal TO nums[index]
            SET rightVal TO nums[index + 1]
            SET totalSum TO leftVal + rightVal
            SET isEvenSum TO NOT (totalSum MOD 2)

            IF isEvenSum THEN
                SET newCountEven TO (IF (countEvenInner + 1) > countOddInner THEN (countEvenInner + 1) ELSE countOddInner)
                SET newCountOdd TO countOddInner
            ELSE
                SET newCountOdd TO (IF (countOddInner + 1) > countEvenInner THEN (countOddInner + 1) ELSE countEvenInner)
                SET newCountEven TO countEvenInner
            END IF

            RETURN helper(index + 1, newCountEven, newCountOdd)
        END FUNCTION

        SET (finalEven, finalOdd) TO helper(1, countEven, countOdd)

        SET maxVal TO ((IF finalEven > finalOdd THEN finalEven ELSE finalOdd) + 1)

        RETURN maxVal
    END FUNCTION
END CLASS