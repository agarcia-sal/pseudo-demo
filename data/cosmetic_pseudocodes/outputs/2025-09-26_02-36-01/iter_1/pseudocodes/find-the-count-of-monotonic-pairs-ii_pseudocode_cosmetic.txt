CLASS Solution
    FUNCTION countOfPairs(nums)
        CONSTANT MODULO ← 1000000007
        LENGTH ← LENGTH OF nums
        MAX_NUM ← MAXIMUM VALUE IN nums

        CREATE dp AS 3D ARRAY WITH DIMENSIONS [LENGTH + 1][MAX_NUM + 1][MAX_NUM + 1] FILLED WITH 0

        INITIALIZE first_num ← nums[0]
        FOR a FROM 0 TO first_num
            b ← first_num - a
            dp[1][a][b] ← 1
        END FOR

        FOR index FROM 2 TO LENGTH
            CURRENT ← nums[index - 1]
            FOR x FROM 0 TO CURRENT
                y ← CURRENT - x
                IF y >= 0 THEN
                    SUM ← 0
                    FOR prev_x FROM 0 TO x
                        FOR prev_y FROM y TO MAX_NUM
                            SUM ← (SUM + dp[index - 1][prev_x][prev_y]) MOD MODULO
                        END FOR
                    END FOR
                    dp[index][x][y] ← SUM
                END IF
            END FOR
        END FOR

        TOTAL ← 0
        FOR p FROM 0 TO MAX_NUM
            FOR q FROM 0 TO MAX_NUM
                TOTAL ← (TOTAL + dp[LENGTH][p][q]) MOD MODULO
            END FOR
        END FOR

        RETURN TOTAL
    END FUNCTION
END CLASS