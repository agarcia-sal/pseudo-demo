CLASS Solution  
    FUNCTION maxArea(height, positions, directions)  
        DEFINE n AS LENGTH OF positions  
        INITIALIZE max_area WITH SUM OF positions  
        REPEAT step FROM 1 TO (height * 2) DO  
            FOR index FROM 0 TO n - 1 DO  
                IF positions[index] = 0 AND directions[index] = 'D' THEN  
                    directions = directions[0 TO index - 1] + 'U' + directions[index + 1 TO END]  
                ELSE IF positions[index] = height AND directions[index] = 'U' THEN  
                    directions = directions[0 TO index - 1] + 'D' + directions[index + 1 TO END]  
                END IF  
                
                IF directions[index] = 'U' THEN  
                    positions[index] = positions[index] + 1  
                ELSE  
                    positions[index] = positions[index] - 1  
                END IF  
            END FOR  
            
            LET current_area = SUM OF positions  
            IF current_area > max_area THEN  
                max_area = current_area  
            END IF  
        END REPEAT  
        RETURN max_area  
    END FUNCTION  
END CLASS