CLASS Solution  
    FUNCTION maxSubarraySum(nums)  
        FUNCTION kadane(array)  
            LET current_max BE array[0]  
            LET global_max BE array[0]  
            FOR index FROM 1 TO LENGTH(array) - 1 DO  
                LET current_max BE MAXIMUM OF array[index] AND (current_max + array[index])  
                LET global_max BE MAXIMUM OF global_max AND current_max  
            END FOR  
            RETURN global_max  
        END FUNCTION  

        LET max_sum BE kadane(nums)  
        LET distinct_values BE EMPTY SET  
        FOR EACH val IN nums DO  
            ADD val TO distinct_values  
        END FOR  

        FOR EACH val IN distinct_values DO  
            LET filtered_list BE EMPTY LIST  
            FOR EACH element IN nums DO  
                IF element != val THEN  
                    ADD element TO filtered_list  
                END IF  
            END FOR  
            IF LENGTH(filtered_list) > 0 THEN  
                LET current_kadane_result BE kadane(filtered_list)  
                IF current_kadane_result > max_sum THEN  
                    SET max_sum TO current_kadane_result  
                END IF  
            END IF  
        END FOR  
        RETURN max_sum  
    END FUNCTION  
END CLASS