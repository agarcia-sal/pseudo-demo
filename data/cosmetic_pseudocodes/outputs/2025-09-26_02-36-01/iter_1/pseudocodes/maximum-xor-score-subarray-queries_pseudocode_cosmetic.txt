CLASS Solution  
    FUNCTION maximumSubarrayXor(nums PARAMETER, queries PARAMETER)  
        LET length BE LENGTH OF nums  
        DECLARE f AS LIST OF LISTS WITH DIMENSIONS [length][length] INITIALIZED WITH 0  
        DECLARE g AS LIST OF LISTS WITH DIMENSIONS [length][length] INITIALIZED WITH 0  

        FOR start FROM length - 1 DOWNTO 0  
            ASSIGN f[start][start] TO nums[start]  
            ASSIGN g[start][start] TO nums[start]  

            SET end TO start + 1  
            WHILE end < length  
                LET leftXor BE f[start][end - 1]  
                LET rightXor BE f[start + 1][end]  
                ASSIGN f[start][end] TO leftXor XOR rightXor  

                LET currentXor BE f[start][end]  
                LET prevMaxLeft BE g[start][end - 1]  
                LET prevMaxRight BE g[start + 1][end]  
                ASSIGN g[start][end] TO MAXIMUM OF currentXor, prevMaxLeft, prevMaxRight  

                INCREMENT end BY 1  
            END WHILE  
        END FOR  

        RETURN [g[l][r] FOR EACH (l, r) IN queries]  
    END FUNCTION  
END CLASS