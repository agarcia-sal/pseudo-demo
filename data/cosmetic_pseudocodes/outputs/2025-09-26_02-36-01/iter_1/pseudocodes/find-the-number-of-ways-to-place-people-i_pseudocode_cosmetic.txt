CLASS Solution  
    FUNCTION numberOfPairs(points)  
        LET totalPairs BE 0  
        LET length BE LENGTH(points)  
        FOR firstIndex IN RANGE length DO  
            LET x_first BE points[firstIndex][0]  
            LET y_first BE points[firstIndex][1]  
            FOR secondIndex IN RANGE length DO  
                IF firstIndex = secondIndex THEN CONTINUE  
                LET x_second BE points[secondIndex][0]  
                LET y_second BE points[secondIndex][1]  
                IF x_first <= x_second AND y_first >= y_second THEN  
                    LET isValidPair BE TRUE  
                    FOR midIndex IN RANGE length DO  
                        IF midIndex NOT IN [firstIndex, secondIndex] THEN  
                            LET x_mid BE points[midIndex][0]  
                            LET y_mid BE points[midIndex][1]  
                            IF x_first <= x_mid AND x_mid <= x_second AND y_first >= y_mid AND y_mid >= y_second THEN  
                                isValidPair = FALSE  
                                EXIT LOOP  
                            END IF  
                        END IF  
                    END FOR  
                    IF isValidPair THEN  
                        totalPairs = totalPairs + 1  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        RETURN totalPairs  
    END FUNCTION  
END CLASS