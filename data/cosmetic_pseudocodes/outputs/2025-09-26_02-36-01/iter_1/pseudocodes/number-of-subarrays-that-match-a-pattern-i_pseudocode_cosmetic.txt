CLASS Solution  
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)  
        SET totalLength TO LENGTH(nums parameter)  
        SET patternLength TO LENGTH(pattern parameter)  
        SET resultCount TO 0  
        FOR startIndex IN RANGE(0, totalLength - patternLength)  
            SET isValid TO True  
            FOR offset IN RANGE(0, patternLength - 1)  
                SET currentPatternValue TO pattern parameter[offset]  
                SET currentNum TO nums parameter[startIndex + offset]  
                SET nextNum TO nums parameter[startIndex + offset + 1]  
                SWITCH currentPatternValue  
                    CASE 1:  
                        IF nextNum <= currentNum THEN  
                            SET isValid TO False  
                            EXIT INNER LOOP  
                        END IF  
                    CASE 0:  
                        IF nextNum != currentNum THEN  
                            SET isValid TO False  
                            EXIT INNER LOOP  
                        END IF  
                    CASE -1:  
                        IF nextNum >= currentNum THEN  
                            SET isValid TO False  
                            EXIT INNER LOOP  
                        END IF  
                END SWITCH  
            END FOR  
            IF isValid THEN  
                SET resultCount TO resultCount + 1  
            END IF  
        END FOR  
        RETURN resultCount  
    END FUNCTION  
END CLASS