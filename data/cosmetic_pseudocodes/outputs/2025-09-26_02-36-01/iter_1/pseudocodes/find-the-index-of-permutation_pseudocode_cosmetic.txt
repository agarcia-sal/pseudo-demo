CLASS Solution  
    FUNCTION getPermutationIndex(perm)  
        LET n BE LENGTH OF perm  
        LET MODULO BE 10 POWER 9 PLUS 1  
        
        INITIALIZE factorials AS ARRAY OF SIZE n WITH ALL ELEMENTS AS 1  
        FOR counter FROM 1 TO n - 1  
            factorials[counter] = factorials[counter - 1] * counter  
        END FOR  
        
        CREATE available_numbers AS LIST OF INTEGERS FROM 1 TO n  
        
        LET result_index BE 0  
        FOR idx FROM 0 TO n - 1  
            LET current_value BE perm[idx]  
            FIND position OF current_value IN available_numbers  
            
            INCREMENT result_index BY position * factorials[n - idx - 1]  
            
            DELETE available_numbers[position]  
        END FOR  
        
        RETURN result_index MODULO MODULO  
    END FUNCTION  
END CLASS