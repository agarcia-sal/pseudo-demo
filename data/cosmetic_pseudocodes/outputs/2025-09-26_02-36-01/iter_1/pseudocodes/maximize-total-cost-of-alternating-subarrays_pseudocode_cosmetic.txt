CLASS Solution  
    FUNCTION maximumTotalCost(nums)  
        LET length = LENGTH(nums)  
        
        IF length = 1 THEN  
            RETURN nums[0]  
        END IF  
        
        DECLARE dp AS ARRAY OF length ELEMENTS FILLED WITH 0  
        dp[length - 1] = nums[length - 1]  
        
        FOR index FROM length - 2 DOWNTO 0 DO  
            LET sum = nums[index]  
            IF sum > dp[index + 1] THEN  
                dp[index] = sum  
            ELSE  
                dp[index] = dp[index + 1] + sum  
            END IF  
            
            FOR pos FROM index + 1 TO length - 1 DO  
                LET sign = IF ((pos - index) MOD 2 = 1) THEN -1 ELSE 1  
                sum = sum + (nums[pos] * sign)  
                
                IF pos + 1 < length THEN  
                    LET candidate = sum + dp[pos + 1]  
                    IF dp[index] < candidate THEN  
                        dp[index] = candidate  
                    END IF  
                ELSE  
                    IF dp[index] < sum THEN  
                        dp[index] = sum  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        RETURN dp[0]  
    END FUNCTION  
END CLASS