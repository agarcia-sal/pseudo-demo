CLASS Solution  
    FUNCTION maximumValueSum(nums k edges)  
        DECLARE sum_total AS 0  
        DECLARE count_positive_gain AS 0  
        DECLARE smallest_gain AS infinity_positive  
        
        FOR index FROM 0 TO LENGTH(nums) - 1 DO  
            LET current_num BE nums[index]  
            LET xor_result BE current_num XOR k  
            LET difference BE xor_result - current_num  
            
            IF difference > 0 THEN  
                count_positive_gain = count_positive_gain + 1  
            END IF  
            
            sum_total = sum_total + MAX(current_num, xor_result)  
            smallest_gain = MIN(smallest_gain, ABS(difference))  
        END FOR  
        
        IF (count_positive_gain MOD 2) != 0 THEN  
            sum_total = sum_total - smallest_gain  
        END IF  
        
        RETURN sum_total  
    END FUNCTION  
END CLASS