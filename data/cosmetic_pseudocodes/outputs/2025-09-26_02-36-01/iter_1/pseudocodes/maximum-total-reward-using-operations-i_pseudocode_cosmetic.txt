CLASS Solution  
    FUNCTION maxTotalReward(rewardValues)  
        SORT rewardValues ascendingly  

        FUNCTION dfs(currentSum)  
            SET idx TO bisect_right(rewardValues, currentSum)  
            SET maxReward TO 0  
            FOR index FROM idx TO LENGTH(rewardValues) - 1  
                SET nextVal TO rewardValues[index]  
                IF currentSum + nextVal > currentSum THEN  
                    SET candidate TO nextVal + dfs(currentSum + nextVal)  
                    IF candidate > maxReward THEN  
                        SET maxReward TO candidate  
                    END IF  
                END IF  
            END FOR  
            RETURN maxReward  
        END FUNCTION  

        RETURN dfs(0)  
    END FUNCTION  
END CLASS