CLASS Solution  
    FUNCTION maxPotholes(road STRING road, INTEGER budget) RETURNS INTEGER  
        LET segments BE road SPLIT BY '.'  
        SORT segments BY length ASCENDING  
        LET total_fixed TO 0  
        FOR segment IN segments DO  
            LET length_seg TO LENGTH(segment)  
            IF length_seg = 0 THEN  
                CONTINUE  
            END IF  
            LET required_cost TO length_seg + 1  
            IF required_cost <= budget THEN  
                total_fixed = total_fixed + length_seg  
                budget = budget - required_cost  
            ELSE  
                WHILE length_seg > 0 AND budget > 0 DO  
                    required_cost = length_seg + 1  
                    IF budget >= required_cost THEN  
                        total_fixed = total_fixed + length_seg  
                        budget = budget - required_cost  
                        BREAK  
                    END IF  
                    length_seg = length_seg - 1  
                END WHILE  
            END IF  
        END FOR  
        RETURN total_fixed  
    END FUNCTION  
END CLASS