CLASS Solution
    FUNCTION largestPalindrome(n k)
        IF n IS 1 THEN
            SET candidate TO 9
            WHILE candidate >= 1 DO
                IF candidate MOD k IS 0 THEN
                    RETURN candidate AS STRING
                END IF
                candidate = candidate - 1
            END WHILE
            RETURN "0"
        END IF

        SET halfLength TO (n + 1) DIV 2
        SET halfString TO REPEAT("9", halfLength)
        SET half TO CONVERT halfString TO INTEGER

        LOOP WHILE half > 0
            SET halfStr TO CONVERT half TO STRING
            IF n MOD 2 IS 0 THEN
                SET mirrored TO halfStr + REVERSE(halfStr)
            ELSE
                SET mirrored TO halfStr + REVERSE(SUBSTRING(halfStr, 0, LENGTH(halfStr) - 1))
            END IF

            SET fullNumber TO CONVERT mirrored TO INTEGER

            IF fullNumber MOD k IS 0 THEN
                RETURN mirrored
            END IF

            half = half - 1
        END LOOP

        RETURN "0"
    END FUNCTION
END CLASS