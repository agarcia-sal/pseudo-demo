CLASS Solution  
    FUNCTION maxScore(grid)  
        LET rowCount BE LENGTH OF grid  
        LET colCount BE LENGTH OF grid[0]  
        LET dp BE AN ARRAY OF SIZE rowCount x colCount FILLED WITH POSITIVE_INFINITY  
        dp[0][0] = grid[0][0]  
        LET max_score BE NEGATIVE_INFINITY  
        
        FOR col IN RANGE(1, colCount)  
            dp[0][col] = MIN(dp[0][col - 1], grid[0][col])  
        END FOR  
        
        FOR row IN RANGE(1, rowCount)  
            dp[row][0] = MIN(dp[row - 1][0], grid[row][0])  
        END FOR  
        
        FOR row IN RANGE(1, rowCount)  
            FOR col IN RANGE(1, colCount)  
                dp[row][col] = MIN(dp[row - 1][col], dp[row][col - 1])  
                LET score BE grid[row][col] - dp[row][col]  
                max_score = MAX(max_score, score)  
            END FOR  
        END FOR  
        
        RETURN max_score  
    END FUNCTION  
END CLASS