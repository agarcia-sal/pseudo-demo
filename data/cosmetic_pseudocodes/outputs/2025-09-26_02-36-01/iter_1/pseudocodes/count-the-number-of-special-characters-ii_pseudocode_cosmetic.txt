CLASS Solution  
    FUNCTION numberOfSpecialChars(word)  
        INITIALIZE startPositions AS empty dictionary  
        INITIALIZE endPositions AS empty dictionary  
        FOR index FROM 0 TO LENGTH(word) - 1  
            LET char BE word[index]  
            IF char NOT IN startPositions KEYS  
                ASSIGN startPositions[char] = index  
            END IF  
            ASSIGN endPositions[char] = index  
        END FOR  
        LET totalCount = 0  
        DEFINE lowercase = "abcdefghijklmnopqrstuvwxyz"  
        DEFINE uppercase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"  
        FOR i FROM 0 TO LENGTH(lowercase) - 1  
            LET lowerChar = lowercase[i]  
            LET upperChar = uppercase[i]  
            IF endPositions CONTAINS lowerChar AND startPositions CONTAINS upperChar  
                IF endPositions[lowerChar] < startPositions[upperChar]  
                    totalCount = totalCount + 1  
                END IF  
            END IF  
        END FOR  
        RETURN totalCount  
    END FUNCTION  
END CLASS