CLASS Solution  
    FUNCTION maximumHappinessSum(happiness, k)  
        ASSIGN sortedList TO happiness SORTED DESCENDING  
        ASSIGN total TO 0  
        ASSIGN reduceBy TO 0  
        FOR i FROM 0 TO k - 1 DO  
            LET adjustedValue = sortedList[i] - reduceBy  
            IF adjustedValue < 0 THEN  
                SET adjustedValue TO 0  
            END IF  
            total = total + adjustedValue  
            reduceBy = reduceBy + 1  
        END FOR  
        RETURN total  
    END FUNCTION  
END CLASS