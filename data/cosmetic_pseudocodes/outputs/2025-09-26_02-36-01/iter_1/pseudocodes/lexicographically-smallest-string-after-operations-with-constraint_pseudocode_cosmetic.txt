CLASS Solution
    FUNCTION getSmallestString(s parameter of type string, k parameter of type integer) RETURNS string
        FUNCTION cyclic_distance(c1 parameter of type character, c2 parameter of type character) RETURNS integer
            SET diff TO ABSOLUTE_VALUE(CHAR_CODE(c1) - CHAR_CODE(c2))
            IF diff > 13 THEN
                RETURN 26 - diff
            ELSE
                RETURN diff
            END IF
        END FUNCTION

        SET chars TO SPLIT s INTO CHARACTERS
        SET index TO 0
        SET length TO LENGTH(s)

        LOOP WHILE index < length AND k > 0
            IF chars[index] = 'a' THEN
                index = index + 1
                CONTINUE LOOP
            END IF

            SET distance TO cyclic_distance(chars[index], 'a')

            IF distance <= k THEN
                chars[index] = 'a'
                k = k - distance
            ELSE
                chars[index] = CHARACTER_CODE_TO_CHAR(CHAR_CODE(chars[index]) - k)
                k = 0
            END IF

            index = index + 1
        END LOOP

        RETURN JOIN chars INTO STRING
    END FUNCTION
END CLASS