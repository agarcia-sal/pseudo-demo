CLASS Solution
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
        LET rho <- 0
        LET omega <- LENGTH(nums parameter)
        LET tau <- LENGTH(pattern parameter)
        LET psi <- 0
        SET xi TO 0
        WHILE xi <= omega - tau - 1 DO
            LET zeta <- True
            LET kappa <- 0
            WHILE kappa < tau - 1 AND zeta DO
                LET idx_a <- xi + kappa
                LET idx_b <- idx_a + 1
                LET p_val <- pattern parameter[kappa]
                LET c1 <- (p_val = 1)
                LET c2 <- (p_val = 0)
                LET c3 <- (p_val = -1)
                IF c1 THEN
                    LET cond <- NOT(nums parameter[idx_b] > nums parameter[idx_a])
                    IF cond THEN
                        LET zeta <- False
                        BREAK
                    END IF
                ELSE IF c2 THEN
                    LET cond <- (nums parameter[idx_b] <> nums parameter[idx_a])
                    IF cond THEN
                        LET zeta <- False
                        BREAK
                    END IF
                ELSE IF c3 THEN
                    LET cond <- NOT(nums parameter[idx_b] < nums parameter[idx_a])
                    IF cond THEN
                        LET zeta <- False
                        BREAK
                    END IF
                END IF
                SET kappa <- kappa + 1
            END WHILE
            IF zeta = True THEN
                SET psi <- psi + 1
            END IF
            SET xi <- xi + 1
        END WHILE
        RETURN psi
    END FUNCTION
END CLASS