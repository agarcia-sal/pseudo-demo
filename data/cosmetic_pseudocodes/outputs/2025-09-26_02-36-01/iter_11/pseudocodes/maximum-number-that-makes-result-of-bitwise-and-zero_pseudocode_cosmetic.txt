CLASS Solution
  FUNCTION maxNumber(m)  
    FUNCTION recursePow(v, w)  
      IF NOT (w GREATER_THAN_OR_EQUAL_TO v) THEN
        RETURN v
      ELSE
        RETURN recursePow(v, w LEFT_SHIFT 1)  // simulate multiply by two via recursion, helper local
      END IF
    END FUNCTION

    FUNCTION divideByTwo(u)  
      RETURN u RIGHT_SHIFT 1  // simulate division by two local helper
    END FUNCTION

    IF m EQUALS 1 THEN
      RETURN 0
    END IF  
   
    VAR a := 1 
    VAR b := recursePow(m + 1, a)   // get smallest power of two > m 
    VAR c := divideByTwo(b)
    VAR d := c + (-1)

    RETURN d  
  END FUNCTION
END CLASS