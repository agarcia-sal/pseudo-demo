CLASS Solution
    FUNCTION getPermutationIndex(perm)
        DECLARE a AS INTEGER ← LENGTH(perm)
        DECLARE b AS INTEGER ← 10
        DECLARE c AS INTEGER ← 9
        DECLARE d AS INTEGER ← 1
        DECLARE e AS INTEGER ← b ^ c + d

        DECLARE f AS LIST OF INTEGER ← NEW LIST OF SIZE a FILLED WITH 1
        DECLARE g AS INTEGER ← 2
        WHILE g <= a - 1
            SET f[g] ← f[g - 1] * g
            SET g ← g + 1
        END WHILE

        DECLARE h AS LIST OF INTEGER ← EMPTY LIST
        DECLARE i AS INTEGER ← 1
        REPEAT
            APPEND i TO h
            SET i ← i + 1
        UNTIL i > a

        DECLARE j AS INTEGER ← 0
        DECLARE k AS INTEGER ← 0
        WHILE k < a
            DECLARE l AS INTEGER ← 0
            WHILE l < LENGTH(h) AND h[l] <> perm[k]
                SET l ← l + 1
            END WHILE

            SET j ← j + l * f[a - k - 1]
            REMOVE h[l]
            SET k ← k + 1
        END WHILE

        RETURN j MOD e
    END FUNCTION
END CLASS