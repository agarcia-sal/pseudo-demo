CLASS Solution
    FUNCTION countOfPairs(nums)
        SET ALPHA TO 1000000000 PLUS 7
        SET ZETA TO LENGTH OF nums
        SET GAMMA TO MAXIMUM value FROM nums

        SET VEX TO a list WITH LENGTH ZETA WHERE EACH ELEMENT IS a list WITH LENGTH (GAMMA + 1) WHERE EACH ELEMENT IS a list WITH LENGTH (GAMMA + 1) FILLED WITH 0

        SET RHO TO 0
        REPEAT
            IF RHO > nums[0] THEN BREAK
            END_IF
            SET SIGMA TO nums[0] MINUS RHO
            SET VEX[0][RHO][SIGMA] TO 1
            SET RHO TO RHO PLUS 1
        UNTIL FALSE

        SET MU TO 1
        WHILE MU < ZETA DO
            SET EPSILON TO 0
            REPEAT
                IF EPSILON > nums[MU] THEN BREAK
                END_IF
                SET OMEGA TO nums[MU] MINUS EPSILON
                SET THETA TO 0
                REPEAT
                    IF THETA > EPSILON THEN BREAK
                    END_IF
                    SET IOTA TO OMEGA
                    WHILE IOTA <= GAMMA DO
                        SET VEX[MU][EPSILON][OMEGA] TO VEX[MU][EPSILON][OMEGA] PLUS VEX[MU - 1][THETA][IOTA]
                        SET VEX[MU][EPSILON][OMEGA] TO VEX[MU][EPSILON][OMEGA] MOD ALPHA
                        SET IOTA TO IOTA PLUS 1
                    END_WHILE
                    SET THETA TO THETA PLUS 1
                UNTIL FALSE
                SET EPSILON TO EPSILON PLUS 1
            UNTIL FALSE
            SET MU TO MU PLUS 1
        END_WHILE

        SET KAPPA TO 0
        SET LAMBDA TO 0
        SET XI TO 0
        WHILE KAPPA <= GAMMA DO
            SET LAMBDA TO 0
            REPEAT
                IF LAMBDA > GAMMA THEN BREAK
                END_IF
                IF (KAPPA + LAMBDA) EQUALS nums[ZETA - 1] THEN
                    SET XI TO XI PLUS VEX[ZETA - 1][KAPPA][LAMBDA]
                    SET XI TO XI MOD ALPHA
                END_IF
                SET LAMBDA TO LAMBDA PLUS 1
            UNTIL FALSE
            SET KAPPA TO KAPPA PLUS 1
        END_WHILE

        RETURN XI
    END FUNCTION
END CLASS