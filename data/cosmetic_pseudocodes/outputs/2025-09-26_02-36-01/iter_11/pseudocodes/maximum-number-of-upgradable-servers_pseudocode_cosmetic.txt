CLASS Solution
    FUNCTION maxUpgrades(count LIST OF INTEGER upgrade LIST OF INTEGER sell LIST OF INTEGER money LIST OF INTEGER) RETURNS LIST OF INTEGER
        SET result TO empty list

        FUNCTION computeMax(A INTEGER, B INTEGER, C INTEGER, D INTEGER) RETURNS INTEGER
            SET maximum TO 0
            SET iterator TO 0
            WHILE iterator <= A
                SET remainingUnits TO A - iterator
                SET gainMoney TO iterator * C
                SET totalCash TO D + gainMoney

                SET upgradesPossible TO totalCash / B
                IF upgradesPossible > remainingUnits THEN
                    SET upgradesPossible TO remainingUnits
                END IF

                IF upgradesPossible > maximum THEN
                    SET maximum TO upgradesPossible
                END IF

                SET iterator TO iterator + 1
            END WHILE
            RETURN maximum
        END FUNCTION

        SET pos TO 0
        WHILE pos < length(count)
            SET pCount TO count[pos]
            SET pUpgrade TO upgrade[pos]
            SET pSell TO sell[pos]
            SET pMoney TO money[pos]

            SET val TO computeMax(pCount, pUpgrade, pSell, pMoney)
            APPEND val TO result

            SET pos TO pos + 1
        END WHILE

        RETURN result
    END FUNCTION
END CLASS