CLASS Solution
    FUNCTION maxTotalReward(rewardValues)
        FUNCTION epsilon(theta)
            SET zeta TO LENGTH(rewardValues)
            SET kappa TO 0
            SET lambda TO (LAMBDA omega : (omega < zeta))
            SET mu TO 0
            WHILE lambda(kappa) DO
                IF (theta + rewardValues[kappa]) > theta THEN
                    SET nu TO 0
                    SET sigma TO theta + rewardValues[kappa]
                    SET tau TO epsilon(sigma)
                    SET nu TO tau + rewardValues[kappa]
                    IF mu < nu THEN
                        SET mu TO nu
                    END IF
                END IF
                SET kappa TO kappa + 1
            END WHILE
            RETURN mu
        END FUNCTION

        SET rho TO LENGTH(rewardValues)
        SET alpha TO 0
        WHILE alpha < (rho - 1) DO
            SET beta TO alpha + 1
            WHILE beta > alpha AND beta < rho AND rewardValues[beta] < rewardValues[beta - 1] DO
                SET gamma TO rewardValues[beta]
                SET rewardValues[beta] TO rewardValues[beta - 1]
                SET rewardValues[beta - 1] TO gamma
                SET beta TO beta - 1
            END WHILE
            SET alpha TO alpha + 1
        END WHILE

        RETURN epsilon(0)
    END FUNCTION
END CLASS