```  
CLASS Solution  
    FUNCTION maximumEnergy(energy, k)  
        SET z TO LENGTH(energy)  
        SET results TO ARRAY OF ZEROES LENGTH z  
        SET results[z - 1] TO energy[z - 1]  
        SET peak TO results[z - 1]  
        SET indices TO DEQUE INITIALIZED WITH [z - 1]  

        SET idx TO z - 2  
        WHILE idx >= 0  
            IF indices[0] - idx >= k THEN  
                POP_FRONT(indices)  
            END IF  
            
            SET current_val TO energy[idx] + results[indices[0]]  
            SET results[idx] TO current_val  
            
            IF peak < current_val THEN  
                SET peak TO current_val  
            END IF  
            
            WHILE indices NOT_EMPTY AND results[idx] >= results[indices[-1]] DO  
                POP_BACK(indices)  
            END WHILE  
            
            APPEND idx TO indices  
            SET idx TO idx - 1  
        END WHILE  
        
        SET final_answer TO peak  
        RETURN final_answer  
    END FUNCTION  
END CLASS  
```