```pseudocode
CLASS Solution
    FUNCTION countMatchingSubarrays(nums, pattern)
        FUNCTION compute_relation(a, b)
            IF NOT (a >= b) THEN
                RETURN 1
            ELSE
                IF a = b THEN
                    RETURN 0
                ELSE
                    RETURN -1
                END IF
            END IF
        END FUNCTION

        SET total_length TO LENGTH(nums)
        SET pattern_length TO LENGTH(pattern)
        SET tally TO 0

        SET rels TO []
        SET iterator TO 0
        WHILE iterator <= total_length - 2 DO
            APPEND compute_relation(nums[iterator], nums[iterator + 1]) TO rels
            SET iterator TO iterator + 1
        END WHILE

        SET pos TO 0
        WHILE pos <= total_length - pattern_length - 1 DO
            SET segment TO []
            SET offset TO 0
            WHILE offset <= pattern_length - 1 DO
                APPEND rels[pos + offset] TO segment
                SET offset TO offset + 1
            END WHILE

            IF segment = pattern THEN
                SET tally TO tally + 1
            END IF

            SET pos TO pos + 1
        END WHILE
        
        RETURN tally
    END FUNCTION
END CLASS
```