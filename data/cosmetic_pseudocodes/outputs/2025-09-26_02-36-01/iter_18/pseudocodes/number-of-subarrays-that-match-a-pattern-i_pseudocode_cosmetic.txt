```pseudocode
CLASS Solution
    FUNCTION countMatchingSubarrays(nums parameter, pattern parameter)
        SET zax TO LENGTH(nums parameter)
        SET lom TO LENGTH(pattern parameter)
        SET wex TO 0
        SET xod TO 0
        WHILE xod <= (zax - lom - 1)
            SET vuk TO True
            SET gaf TO 0
            REPEAT
                IF gaf >= (lom - 1) THEN
                    BREAK
                END IF

                IF (pattern parameter[gaf] = 1) THEN
                    IF NOT (nums parameter[xod + gaf + 1] > nums parameter[xod + gaf]) THEN
                        SET vuk TO False
                        BREAK
                    END IF

                ELSEIF (pattern parameter[gaf] = 0) THEN
                    IF (nums parameter[xod + gaf + 1] != nums parameter[xod + gaf]) THEN
                        SET vuk TO False
                        BREAK
                    END IF

                ELSEIF (pattern parameter[gaf] = -1) THEN
                    IF (nums parameter[xod + gaf + 1] >= nums parameter[xod + gaf]) THEN
                        SET vuk TO False
                        BREAK
                    END IF
                END IF

                SET gaf TO gaf + 1
            UNTIL FALSE

            IF vuk THEN
                SET wex TO wex + 1
            END IF

            SET xod TO xod + 1
        END WHILE

        RETURN wex
    END FUNCTION
END CLASS
```