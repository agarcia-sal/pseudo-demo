```pseudocode
CLASS Solution
    FUNCTION countOfPairs(n, x, y)
        IF NOT (x LESS THAN OR EQUAL TO y) THEN
            SET zylto_ven TO x
            SET x TO y
            SET y TO zylto_ven
        END IF

        FUNCTION bfs(fajun)
            SET ukles TO list OF False REPEATED (n PLUS 1) TIMES
            SET ponbic TO list OF 0 REPEATED (n PLUS 1) TIMES
            SET junbo TO deque WITH fajun AS ONLY ELEMENT
            SET ukles[fajun] TO True

            REPEAT
                IF LENGTH OF junbo EQUALS 0 THEN
                    BREAK
                END IF
                SET nmolv TO REMOVE FIRST ELEMENT FROM junbo

                FOR EACH wemog IN [nmolv MINUS 1, nmolv PLUS 1]
                    IF (wemog GREATER THAN OR EQUAL TO 1) AND (wemog LESS THAN OR EQUAL TO n) AND (ukles[wemog] EQUALS False) THEN
                        SET ukles[wemog] TO True
                        SET ponbic[wemog] TO ponbic[nmolv] PLUS 1
                        ADD wemog TO END OF junbo
                    END IF
                END FOR

                IF (nmolv EQUALS x) THEN
                    IF NOT ukles[y] THEN
                        SET ukles[y] TO True
                        SET ponbic[y] TO ponbic[nmolv] PLUS 1
                        ADD y TO END OF junbo
                    END IF
                ELSE IF (nmolv EQUALS y) THEN
                    IF NOT ukles[x] THEN
                        SET ukles[x] TO True
                        SET ponbic[x] TO ponbic[nmolv] PLUS 1
                        ADD x TO END OF junbo
                    END IF
                END IF
            UNTIL False

            RETURN SLICE ponbic FROM 1 TO END
        END FUNCTION

        SET gelfa TO list OF 0 REPEATED n TIMES
        SET lopan TO 1
        WHILE lopan LESS THAN OR EQUAL TO n
            SET vreko TO bfs(lopan)
            FOR EACH vrid IN vreko
                IF vrid GREATER THAN 0 THEN
                    SET gelfa[vrid MINUS 1] TO gelfa[vrid MINUS 1] PLUS 1
                END IF
            END FOR
            SET lopan TO lopan PLUS 1
        END WHILE

        RETURN gelfa
    END FUNCTION
END CLASS
```