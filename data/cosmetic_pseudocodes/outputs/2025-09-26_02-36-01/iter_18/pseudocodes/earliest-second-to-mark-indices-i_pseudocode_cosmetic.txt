```pseudocode
CLASS Solution
    FUNCTION earliestSecondToMarkIndices(nums PARAMETER changeIndices)
      SET p TO LENGTH OF nums
      SET q TO LENGTH OF changeIndices

      FUNCTION can_mark_by_second(u)
        SET v TO ARRAY OF SIZE p INITIALIZED WITH -1
        SET w TO 0
        WHILE w < u
          SET x TO changeIndices[w] - 1
          SET v[x] TO w
          SET w TO w + 1
        END WHILE

        SET y TO 0
        FOR z FROM 0 TO p - 1
          SET y TO y + nums[z]
        END FOR

        SET aa TO 0
        SET ab TO EMPTY SET

        SET ac TO 0
        REPEAT
          IF ac >= u THEN BREAK
          END IF

          SET ad TO changeIndices[ac] - 1

          IF NOT (ad IN ab) THEN
            IF v[ad] == ac THEN
              IF nums[ad] <= aa THEN
                SET aa TO aa - nums[ad]
                ADD ad TO ab
              ELSE
                RETURN False
              END IF
            ELSE
              SET aa TO aa + 1
            END IF
          ELSE
            SET aa TO aa + 1
          END IF

          SET ac TO ac + 1
        UNTIL False

        SET ae TO 0
        FOR af IN ab
          SET ae TO ae + 1
        END FOR

        IF ae == p THEN
          RETURN True
        ELSE
          RETURN False
        END IF
      END FUNCTION

      SET ag TO 0
      SET ah TO q + 1

      WHILE ag < ah
        SET ai TO (ag + ah) // 2
        IF can_mark_by_second(ai) THEN
          SET ah TO ai
        ELSE
          SET ag TO ag + 1
        END IF
      END WHILE

      IF ag <= q THEN
        RETURN ag
      ELSE
        RETURN -1
      END IF
    END FUNCTION
END CLASS
```