CLASS Solution
    FUNCTION numberOfSpecialChars(word)
        DECLARE initialPositions AS empty map
        DECLARE finalPositions AS empty map
        DECLARE idx TO 0
        WHILE idx IS LESS THAN length of word
            LET charAtIdx BE word at position idx
            IF NOT (charAtIdx IS IN keys of initialPositions)
                ASSIGN initialPositions[charAtIdx] = idx
            END IF
            ASSIGN finalPositions[charAtIdx] = idx
            INCREASE idx BY one
        END WHILE

        LET specialCount TO 0
        DECLARE lowercaseLetters AS sequence of 'a' through 'z'
        DECLARE uppercaseLetters AS sequence of 'A' through 'Z'
        DECLARE pos TO 0
        WHILE pos IS LESS THAN length of lowercaseLetters
            LET lowerChar BE lowercaseLetters[pos]
            LET upperChar BE uppercaseLetters[pos]
            IF (lowerChar IS FOUND IN keys of finalPositions) AND (upperChar IS FOUND IN keys of initialPositions)
                LET lowerFinalPos BE finalPositions[lowerChar]
                LET upperInitialPos BE initialPositions[upperChar]
                IF lowerFinalPos < upperInitialPos
                    LET specialCount TO specialCount + 1
                END IF
            END IF
            ADD one TO pos
        END WHILE

        OUTPUT specialCount
    END FUNCTION
END CLASS