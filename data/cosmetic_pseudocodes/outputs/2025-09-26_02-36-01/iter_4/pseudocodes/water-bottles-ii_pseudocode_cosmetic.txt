CLASS Solution
    FUNCTION maxBottlesDrunk(numBottles numBottles numExchange numExchange)
        DECLARE consumed_total AS 0
        DECLARE bottles_emptied AS 0
        WHILE NOT (numBottles <= 0)
            LET consumed_total TO consumed_total + numBottles
            LET bottles_emptied TO bottles_emptied + numBottles
            ASSIGN numBottles TO 0
            WHILE bottles_emptied >= numExchange
                SET bottles_emptied TO bottles_emptied - numExchange
                LET numBottles TO numBottles + 1
                LET numExchange TO numExchange + 1
            END WHILE
        END WHILE
        RETURN consumed_total
    END FUNCTION
END CLASS