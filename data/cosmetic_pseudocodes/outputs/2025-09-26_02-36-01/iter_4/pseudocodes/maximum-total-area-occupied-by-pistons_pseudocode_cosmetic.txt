CLASS Solution  
    FUNCTION maxArea(height positions directions)  
        LET length_positions BE THE NUMBER OF ELEMENTS IN positions  
        LET maximum_area BE THE AGGREGATE SUM OF ALL values IN positions  
        LET iteration_count BE 1  
        WHILE iteration_count IS NOT GREATER THAN height TIMES 2  
            LET index BE 0  
            WHILE index IS LESS THAN length_positions  
                LET pos_value BE positions AT index  
                LET dir_char BE directions AT index  
                IF pos_value IS EQUAL TO 0 AND dir_char IS EQUAL TO 'D'  
                    LET directions BEFORE BE substring OF directions FROM 0 TO index MINUS 1  
                    LET directions AFTER BE substring OF directions FROM index PLUS 1 TO THE END  
                    SET directions TO directions BEFORE CONCATENATED WITH 'U' CONCATENATED WITH directions AFTER  
                ELSE IF pos_value IS EQUAL TO height AND dir_char IS EQUAL TO 'U'  
                    LET directions BEFORE BE substring OF directions FROM 0 TO index MINUS 1  
                    LET directions AFTER BE substring OF directions FROM index PLUS 1 TO THE END  
                    SET directions TO directions BEFORE CONCATENATED WITH 'D' CONCATENATED WITH directions AFTER  
                ENDIF  
                IF directions AT index IS EQUAL TO 'U'  
                    SET positions AT index TO positions AT index PLUS 1  
                ELSE  
                    SET positions AT index TO positions AT index MINUS 1  
                ENDIF  
                INCREMENT index BY 1  
            ENDWHILE  
            LET current_sum BE 0  
            LET sum_index BE 0  
            WHILE sum_index IS LESS THAN length_positions  
                SET current_sum TO current_sum PLUS positions AT sum_index  
                INCREMENT sum_index BY 1  
            ENDWHILE  
            IF maximum_area IS LESS THAN current_sum  
                SET maximum_area TO current_sum  
            ENDIF  
            INCREMENT iteration_count BY 1  
        ENDWHILE  
        RETURN maximum_area  
    END FUNCTION  
END CLASS