CLASS Solution
    FUNCTION beautifulIndices(s parameter, a parameter, b parameter, k parameter)
        DECLARE list_a_indices AS new empty list
        DECLARE len_s AS LENGTH OF s
        DECLARE len_a AS LENGTH OF a
        DECLARE pos AS zero
        WHILE pos <= (len_s - len_a)
            DECLARE sub_s AS SUBSTRING OF s STARTING AT pos FOR len_a CHARACTERS
            IF NOT sub_s NOT EQUAL TO a THEN
                ADD pos TO list_a_indices
            END IF
            SET pos TO pos PLUS one
        END WHILE

        DECLARE list_b_indices AS LIST WITHOUT ELEMENTS
        DECLARE len_b AS LENGTH OF b
        SET pos TO zero
        WHILE pos <= (len_s - len_b)
            DECLARE sub_str AS EXTRACT s FROM pos TO pos + len_b - 1
            IF sub_str == b THEN
                APPEND pos TO list_b_indices
            END IF
            SET pos TO pos PLUS one
        END WHILE

        DECLARE result_indices AS EMPTY ARRAY
        DECLARE idx_a_pos AS zero
        WHILE idx_a_pos < LENGTH OF list_a_indices
            DECLARE current_i AS list_a_indices AT idx_a_pos
            DECLARE idx_b_pos AS zero
            DECLARE found_flag AS FALSE
            WHILE idx_b_pos < LENGTH OF list_b_indices AND NOT found_flag
                DECLARE current_j AS list_b_indices AT idx_b_pos
                DECLARE diff AS current_i - current_j
                IF NOT (diff > k OR diff < -k) THEN
                    INSERT current_i INTO result_indices
                    SET found_flag TO TRUE
                END IF
                SET idx_b_pos TO idx_b_pos PLUS one
            END WHILE
            SET idx_a_pos TO idx_a_pos PLUS one
        END WHILE

        RETURN result_indices
    END FUNCTION
END CLASS