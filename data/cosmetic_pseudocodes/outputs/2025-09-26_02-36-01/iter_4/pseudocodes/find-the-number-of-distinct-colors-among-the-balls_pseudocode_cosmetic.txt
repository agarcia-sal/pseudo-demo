CLASS Solution  
    FUNCTION queryResults(limit, queries)  
        DECLARE colorMap AS a new empty map  
        DECLARE distinctColors AS an empty collection of unique items  
        DECLARE outputList AS an empty array  

        SET idx TO 0  
        WHILE idx < LENGTH OF queries DO  
            DECOMPOSE queries AT idx INTO ballID, newColor  

            IF colorMap CONTAINS KEY ballID THEN  
                LET previousColor = colorMap[ballID]  
                IF distinctColors CONTAINS previousColor THEN  
                    DELETE previousColor FROM distinctColors  
                END IF  
            END IF  

            ASSIGN newColor TO colorMap[ballID]  
            INSERT newColor INTO distinctColors  
            STORE SIZE OF distinctColors AT END OF outputList  

            INCREMENT idx BY 1  
        END WHILE  

        RETURN outputList  
    END FUNCTION  
END CLASS