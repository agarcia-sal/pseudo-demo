CLASS Solution  
    FUNCTION maximumHappinessSum(happiness, k)  
        REARRANGE happiness SO THAT each next element IS less than or equal to the preceding  
        INITIALIZE totalHappiness AS 0  
        INITIALIZE reductionFactor AS 0  
        INITIALIZE counter AS 0  
        WHILE counter IS LESS THAN k  
            LET valueAtCurrentPosition AS happiness[counter] - reductionFactor  
            IF NOT (valueAtCurrentPosition >= 0) THEN  
                LET valueAtCurrentPosition TO 0  
            ENDIF  
            SET totalHappiness TO totalHappiness + valueAtCurrentPosition  
            SET reductionFactor TO reductionFactor + 1  
            UPDATE counter TO counter + 1  
        ENDWHILE  
        OUTPUT totalHappiness  
    END FUNCTION  
END CLASS