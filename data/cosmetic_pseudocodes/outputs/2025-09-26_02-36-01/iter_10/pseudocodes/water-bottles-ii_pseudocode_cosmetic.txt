CLASS Solution
    FUNCTION maxBottlesDrunk(numBottles numBottles numExchange numExchange)
        SET cumulativeConsumed TO 0
        SET leftoverContainers TO 0

        LABEL ProcessIteration:
            IF numBottles <= 0 THEN
                GOTO EndProcess
            END IF

            SET cumulativeConsumed TO cumulativeConsumed + numBottles
            SET leftoverContainers TO leftoverContainers + numBottles

            SET numBottles TO 0

            LABEL ExchangeLoop:
                IF leftoverContainers < numExchange THEN
                    GOTO AfterExchange
                END IF

                SET leftoverContainers TO leftoverContainers - numExchange
                SET numBottles TO numBottles + 1
                SET numExchange TO numExchange + 1

                GOTO ExchangeLoop
            LABEL AfterExchange:

            GOTO ProcessIteration
        LABEL EndProcess:

        RETURN cumulativeConsumed
    END FUNCTION
END CLASS