CLASS Solution
    FUNCTION maxNumber(n)
        SET result_value TO 0
        SET limit_value TO 1

        FUNCTION double(value)
            RETURN value + value
        END FUNCTION

        FUNCTION is_not_one(value)
            RETURN NOT (value = 1)
        END FUNCTION

        FUNCTION is_less_or_equal(a, b)
            RETURN (a <= b)
        END FUNCTION

        IF is_not_one(n) THEN
            WHILE is_less_or_equal(limit_value, n) DO
                SET limit_value TO double(limit_value)
            END WHILE

            SET limit_value TO limit_value / 2

            SET result_value TO limit_value + (-1)
        END IF

        RETURN result_value
    END FUNCTION
END CLASS