CLASS Solution
    FUNCTION numberOfPairs(nums1, nums2, k)
        FUNCTION tallyElements(elements)
            SET tallyMap TO empty map
            SET idx TO 0
            WHILE idx LESS THAN length of elements DO
                SET elem TO elements at idx
                IF elem IS IN keys of tallyMap THEN
                    SET currentVal TO value for key elem in tallyMap
                    SET tallyMap[elem] TO currentVal PLUS 1
                ELSE
                    SET tallyMap[elem] TO 1
                END IF
                SET idx TO idx PLUS 1
            END WHILE
            RETURN tallyMap
        END FUNCTION

        SET bagOfNums TO tallyElements(nums2)
        SET accumulator TO 0
        SET outerIndex TO 0

        WHILE outerIndex LESS THAN length of nums1 DO
            SET candidate TO nums1 at outerIndex
            SET kvPairs TO list of key-value pairs from bagOfNums
            SET innerPos TO 0

            WHILE innerPos LESS THAN length of kvPairs DO
                SET currentPair TO kvPairs at innerPos
                SET baseNum TO currentPair key
                SET freq TO currentPair value

                SET divisor TO baseNum TIMES k
                SET modResult TO remainder after dividing candidate BY divisor

                IF EQUALS(modResult, 0) THEN
                    SET accumulator TO accumulator PLUS freq
                END IF

                SET innerPos TO innerPos PLUS 1
            END WHILE

            SET outerIndex TO outerIndex PLUS 1
        END WHILE

        RETURN accumulator
    END FUNCTION
END CLASS