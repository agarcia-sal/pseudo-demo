CLASS Solution
    FUNCTION countPrefixSuffixPairs(words)
        SET totalPairs = 0 + 0
        SET occurrenceMap TO a default mapping from keys to integer zeros

        FUNCTION comparePrefixSuffix(candidate, reference)
            SET candidateLength = LENGTH(candidate)
            SET prefixSegment = SUBSTRING(reference, 0, candidateLength)
            SET suffixSegment = SUBSTRING(reference, LENGTH(reference) - candidateLength, LENGTH(reference))
            RETURN (candidate == prefixSegment) AND (candidate == suffixSegment)
        END FUNCTION

        FUNCTION iterateOverIndicesDescending(idx)
            IF idx < 0 THEN
                RETURN
            ELSE
                SET currentWord = INDEX(words, idx)
                FOR EACH mapKey IN KEYS(occurrenceMap)
                    IF comparePrefixSuffix(currentWord, mapKey) THEN
                        SET totalPairs = totalPairs + occurrenceMap[mapKey]
                    END IF
                END FOR
                occurrenceMap[currentWord] = occurrenceMap[currentWord] + 1
                CALL iterateOverIndicesDescending(idx - 1)
            END IF
        END FUNCTION

        CALL iterateOverIndicesDescending(LENGTH(words) - (1 + 0))
        RETURN totalPairs
    END FUNCTION
END CLASS