CLASS Solution
    
    
    FUNCTION numberOfStableArrays(alpha, beta, gamma)  
        CONSTANT PRIME_MODULUS := (5 * 2) ^ 9 + (1 * 1)
        
        FUNCTION dp(omega, psi, theta, phi)  
            DECLARE sigma := 0
            DECLARE delta
            
            PROCEDURE recurse(xi, upsilon, chi, rho)  
                RETURN dp(xi, upsilon, chi, rho)
            END PROCEDURE
            
            IF (omega = 0) THEN 
                IF (psi = 0) THEN
                    RETURN 1
                END IF
            END IF
            
            IF (omega < 0) THEN
                RETURN 0
            ELSE 
                IF (psi < 0) THEN
                    RETURN 0
                END IF
            END IF
            
            IF NOT (theta = alpha) OR phi < gamma THEN
                IF theta = alpha THEN
                    SET delta := recurse(omega - 1, psi, alpha, phi + 1)
                ELSE
                    SET delta := recurse(omega - 1, psi, alpha, 1)
                END IF
                
                SET sigma := sigma + delta
                SET sigma := sigma MOD PRIME_MODULUS
            END IF
            
            IF NOT (theta = beta) OR phi < gamma THEN
                IF theta = beta THEN
                    SET delta := recurse(omega, psi - 1, beta, phi + 1)
                ELSE
                    SET delta := recurse(omega, psi - 1, beta, 1)
                END IF
                
                SET sigma := sigma + delta
                SET sigma := sigma MOD PRIME_MODULUS
            END IF
            
            RETURN sigma
        END FUNCTION
        
        RETURN dp(alpha, beta - (1 * 1), -(1), 0)
    END FUNCTION
    

END CLASS