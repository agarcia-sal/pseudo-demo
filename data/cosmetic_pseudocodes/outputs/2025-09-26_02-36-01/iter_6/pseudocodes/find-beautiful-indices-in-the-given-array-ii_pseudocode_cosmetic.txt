CLASS Solution  
    FUNCTION beautifulIndices(s parameter x parameter y parameter z)  
        SET p TO an empty list  
        SET m TO (LENGTH of s) MINUS (LENGTH of x)  
        SET q TO 0  
        WHILE q <= m  
            SET r TO (q PLUS LENGTH of x) MINUS 1  
            SET u TO substring of s FROM q TO r  
            IF NOT (u NOT EQUAL TO x) THEN  
                APPEND q TO p  
            END IF  
            SET q TO q PLUS 1  
        END WHILE  
        
        SET v TO list with zero elements  
        SET n TO (LENGTH of s) MINUS (LENGTH of y)  
        SET t TO 0  
        WHILE t <= n  
            SET w TO (t PLUS LENGTH of y) MINUS 1  
            SET o TO substring of s FROM t TO w  
            IF NOT (o NOT EQUAL TO y) THEN  
                APPEND t TO v  
            END IF  
            SET t TO t PLUS 1  
        END WHILE  
        
        SET c TO an empty collection  
        SET d TO 0  
        SET e TO 0  
        
        FUNCTION loopHelper(a, b, f, g, h)  
            IF (a >= LENGTH of f) OR (b >= LENGTH of g) THEN RETURN h END IF  
            SET s1 TO f[a]  
            SET s2 TO g[b]  
            SET diffTemp TO s1 - s2  
            SET diffValue TO IF diffTemp < 0 THEN 0 - diffTemp ELSE diffTemp END IF  
            IF diffValue <= z THEN  
                APPEND s1 TO h  
                RETURN loopHelper(a + 1, b, f, g, h)  
            ELSE  
                IF s1 < s2 THEN  
                    RETURN loopHelper(a + 1, b, f, g, h)  
                ELSE  
                    RETURN loopHelper(a, b + 1, f, g, h)  
                END IF  
            END IF  
        END FUNCTION  
        
        RETURN loopHelper(d, e, p, v, c)  
    END FUNCTION  
END CLASS