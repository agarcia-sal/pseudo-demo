CLASS Solution
    FUNCTION maximumTotalDamage(fZiqo)
        FUNCTION ecdNP(Ybekm)
            SET NzUX TO an empty mapping
            FOR wYBz FROM 0 TO LENGTH(Ybekm) - 1
                IF NzUX CONTAINS KEY Ybekm[wYBz]
                    SET NzUX[Ybekm[wYBz]] TO NzUX[Ybekm[wYBz]] + 1
                ELSE
                    SET NzUX[Ybekm[wYBz]] TO 1
                END IF
            END FOR
            RETURN NzUX
        END FUNCTION

        FUNCTION FslCb(XdrBI)
            SET TzOs TO an empty list
            FOR ZPdw IN XdrBI
                APPEND ZPdw TO TzOs
            END FOR
            SET done TO false
            WHILE NOT done
                SET done TO true
                FOR i FROM 0 TO LENGTH(TzOs) - 2
                    IF TzOs[i] > TzOs[i + 1]
                        SET temp TO TzOs[i]
                        SET TzOs[i] TO TzOs[i + 1]
                        SET TzOs[i + 1] TO temp
                        SET done TO false
                    END IF
                END FOR
            END WHILE
            RETURN TzOs
        END FUNCTION

        SET Zyjk TO ecdNP(fZiqo)
        SET WtHSP TO FslCb(Zyjk KEYS)
        SET COpl TO an empty mapping
        SET unqaY TO 0

        LABEL loop1_start:
            IF unqaY >= LENGTH(WtHSP)
                GOTO loop1_end
            END IF

            SET rTCm TO WtHSP[unqaY]
            IF unqaY > 0 THEN
                IF COpl CONTAINS KEY WtHSP[unqaY - 1]
                    SET ntWy TO COpl[WtHSP[unqaY - 1]]
                ELSE
                    SET ntWy TO 0
                END IF
            ELSE
                SET ntWy TO 0
            END IF

            SET TjOdz TO rTCm * Zyjk[rTCm]

            SET vylc TO unqaY - 1

            LABEL loop2_start:
                IF vylc < 0
                    GOTO loop2_end
                END IF
                IF WtHSP[vylc] >= rTCm - 2
                    SET vylc TO vylc - 1
                    GOTO loop2_start
                ELSE
                    GOTO loop2_end
                END IF
            LABEL loop2_end:

            IF vylc >= 0
                SET TjOdz TO TjOdz + COpl[WtHSP[vylc]]
            END IF

            IF TjOdz > ntWy
                SET COpl[rTCm] TO TjOdz
            ELSE
                SET COpl[rTCm] TO ntWy
            END IF

            SET unqaY TO unqaY + 1
            GOTO loop1_start
        LABEL loop1_end:

        SET RUCQ TO -1 * ((1 + 1) - 2)
        FOR wTWq IN COpl KEYS
            IF COpl[wTWq] > RUCQ
                SET RUCQ TO COpl[wTWq]
            END IF
        END FOR

        RETURN RUCQ
    END FUNCTION
END CLASS