CLASS Solution
    FUNCTION beautifulIndices(s parameter d parameter e parameter f)
       PROCEDURE substringEquals(x parameter y parameter z) RETURNS boolean
           SET m TO 0
           WHILE m LESS THAN y
               IF s[z PLUS m] NOT EQUAL TO x[m]
                   RETURN false
               END IF
               SET m TO m PLUS 1
           END WHILE
           RETURN true
       END PROCEDURE

       SET u TO []
       SET p TO 0
       REPEAT
           IF p GREATER THAN LENGTH(s) MINUS LENGTH(d)
               BREAK
           END IF
           IF substringEquals(d, LENGTH(d), p)
               APPEND p TO u
           END IF
           SET p TO p PLUS 1
       UNTIL false

       SET v TO []
       SET q TO 0
       REPEAT
           IF q GREATER THAN LENGTH(s) MINUS LENGTH(e)
               BREAK
           END IF
           IF substringEquals(e, LENGTH(e), q)
               APPEND q TO v
           END IF
           SET q TO q PLUS 1
       UNTIL false

       SET result TO []
       SET w TO 0
       SET x TO 0

       PROCEDURE absoluteValue(n) RETURNS integer
           IF n GREATER THAN OR EQUAL TO 0
               RETURN n
           ELSE
               RETURN 0 MINUS n
           END IF
       END PROCEDURE

       WHILE true
           IF NOT (w LESS THAN LENGTH(u) AND x LESS THAN LENGTH(v))
               BREAK
           END IF
           SET diff TO absoluteValue(u[w] MINUS v[x])
           IF diff LESS THAN f PLUS 1 MINUS 1
               APPEND u[w] TO result
               SET w TO w PLUS 1
           ELSE
               IF u[w] LESS THAN v[x]
                   SET w TO w PLUS 1
               ELSE
                   SET x TO x PLUS 1
               END IF
           END IF
       END WHILE

       RETURN result
    END FUNCTION
END CLASS