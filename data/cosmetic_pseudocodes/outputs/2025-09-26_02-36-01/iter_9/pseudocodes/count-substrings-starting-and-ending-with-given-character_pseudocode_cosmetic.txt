CLASS Solution
    FUNCTION countSubstrings(t u)
        FUNCTION tallyOccurrences(v w, x)
            SET z TO 0
            SET a1 TO 0
            WHILE z < LENGTH OF v
                IF GET_CHAR_AT(v, z) = x THEN
                    SET a1 TO a1 + 1
                END IF
                SET z TO z + 1
            END WHILE
            RETURN a1
        END FUNCTION

        SET b2 TO 0
        SET c3 TO LENGTH OF t
        SET d4 TO tallyOccurrences(t, u)
        SET e5 TO (d4 * ((d4 + 1) / 2))
        RETURN e5
    END FUNCTION
END CLASS