CLASS Solution  
    FUNCTION countSubarrays(nums parameter LIST OF INTEGER k parameter INTEGER) RETURNS INTEGER  
        FUNCTION bitwiseAnd(a parameter INTEGER, b parameter INTEGER) RETURNS INTEGER  
            RETURN a BITWISE AND b  
        END FUNCTION  
  
        SET A TO LENGTH OF nums  
        SET B TO 0  
        SET C TO 0  
        WHILE C LESS THAN A DO  
            SET D TO nums AT INDEX C  
            SET E TO C  
            REPEAT  
                SET D TO bitwiseAnd(D, nums AT INDEX E)  
                IF D EQUALS k THEN  
                    SET B TO B PLUS 1  
                END IF  
                IF D LESS THAN k THEN  
                    EXIT REPEAT  
                END IF  
                SET E TO E PLUS 1  
            UNTIL E GREATER THAN OR EQUAL TO A  
            SET C TO C PLUS 1  
        END WHILE  
        RETURN B  
    END FUNCTION  
END CLASS