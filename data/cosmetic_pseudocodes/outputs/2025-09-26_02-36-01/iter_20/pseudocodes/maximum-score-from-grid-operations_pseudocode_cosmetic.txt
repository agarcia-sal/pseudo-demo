CLASS Solution
    FUNCTION maximumScore(grid)
        LET e87b9d := LENGTH(grid)
        LET xc04v5 := a FUNCTION(r, c) RETURNS a 2D LIST OF SIZE r BY c FILLED WITH ZEROS
        LET m201qk := xc04v5(e87b9d + 1, e87b9d + 1)
        LET ug6npr := ARRAY OF LENGTH (e87b9d + 1) FILLED WITH 0
        LET ojspl := ARRAY OF LENGTH (e87b9d + 1) FILLED WITH 0

        FUNCTION xrvkiu(itpura, bacwyq)
            LET dnmjka := itpura
            LET vuw6te := bacwyq
            LET yhvxq := 0
            WHILE yhvxq < LENGTH(dnmjka)
                LET hahpno := 0
                WHILE hahpno < LENGTH(vuw6te[0])
                    IF dnmjka[yhvxq] < vuw6te[0][hahpno]
                        RETURN TRUE
                    END IF
                    SET hahpno := hahpno + 1
                END WHILE
                SET yhvxq := yhvxq + 1
            END WHILE
            RETURN FALSE
        END FUNCTION

        FUNCTION maxfn(o7yeqj, ozizhn)
            IF o7yeqj >= ozizhn
                RETURN o7yeqj
            ELSE
                RETURN ozizhn
            END IF
        END FUNCTION

        LET qp43om := 0
        WHILE qp43om < e87b9d
            LET k5lwic := 0
            WHILE k5lwic < e87b9d
                SET m201qk[qp43om][k5lwic+1] := m201qk[qp43om][k5lwic] + grid[k5lwic][qp43om]
                SET k5lwic := k5lwic + 1
            END WHILE
            SET qp43om := qp43om + 1
        END WHILE

        LET hsvtkz := 1
        WHILE hsvtkz < e87b9d
            LET e4wgkx := ARRAY OF LENGTH (e87b9d + 1) FILLED WITH 0
            LET jwfymn := ARRAY OF LENGTH (e87b9d + 1) FILLED WITH 0

            LET la9fzi := 0
            WHILE la9fzi <= e87b9d
                LET rc0zdr := 0
                WHILE rc0zdr <= e87b9d
                    IF la9fzi > rc0zdr
                        LET d0jlch := m201qk[hsvtkz-1][la9fzi] - m201qk[hsvtkz-1][rc0zdr]
                        SET e4wgkx[la9fzi] := maxfn(e4wgkx[la9fzi], ojspl[rc0zdr] + d0jlch)
                        SET jwfymn[la9fzi] := maxfn(jwfymn[la9fzi], ojspl[rc0zdr] + d0jlch)
                    ELSE
                        LET qcpiiv := m201qk[hsvtkz][rc0zdr] - m201qk[hsvtkz][la9fzi]
                        SET e4wgkx[la9fzi] := maxfn(e4wgkx[la9fzi], ug6npr[rc0zdr] + qcpiiv)
                        SET jwfymn[la9fzi] := maxfn(jwfymn[la9fzi], ug6npr[rc0zdr])
                    END IF
                    SET rc0zdr := rc0zdr + 1
                END WHILE
                SET la9fzi := la9fzi + 1
            END WHILE

            SET ug6npr := e4wgkx
            SET ojspl := jwfymn
            SET hsvtkz := hsvtkz + 1
        END WHILE

        LET splxb6 := ug6npr[0]
        LET uieuya := 1
        WHILE uieuya < LENGTH(ug6npr)
            IF ug6npr[uieuya] > splxb6
                SET splxb6 := ug6npr[uieuya]
            END IF
            SET uieuya := uieuya + 1
        END WHILE
        RETURN splxb6
    END FUNCTION
END CLASS