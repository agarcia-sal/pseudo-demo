CLASS Solution  
    FUNCTION maxScore(grid)  
        FUNCTION alpha(mu, phi, omega)  
            IF mu >= LENGTH(grid) THEN  
                SET beta TO (IF gamma < omega THEN omega ELSE gamma)  
                SET gamma TO beta  
                RETURN  
            ELSE  
                CALL alpha WITH (mu + 1), phi, omega  
                SET delta TO 0  
                WHILE delta < LENGTH(grid[mu]) DO  
                    SET epsilon TO grid[mu][delta]  
                    IF epsilon NOT_IN phi THEN  
                        INSERT epsilon INTO phi  
                        CALL alpha WITH (mu + 1), phi, (omega + epsilon)  
                        REMOVE epsilon FROM phi  
                    END IF  
                    SET delta TO delta + 1  
                END WHILE  
            END IF  
        END FUNCTION  

        FOR IDX FROM 0 TO LENGTH(grid) - 1 DO  
            CALL customSortDesc(grid[IDX])  
        END FOR  

        SET gamma TO 0  

        FUNCTION customSortDesc(arr)  
            FUNCTION swap(i, j)  
                SET temp TO arr[i]  
                SET arr[i] TO arr[j]  
                SET arr[j] TO temp  
            END FUNCTION  
            SET i TO 0  
            WHILE i < LENGTH(arr) - 1 DO  
                SET j TO 0  
                WHILE j < LENGTH(arr) - i - 1 DO  
                    IF arr[j] < arr[j + 1] THEN  
                        CALL swap(j, j + 1)  
                    END IF  
                    SET j TO j + 1  
                END WHILE  
                SET i TO i + 1  
            END WHILE  
        END FUNCTION  

        CALL alpha(0, EMPTY_SET, 0)  

        RETURN gamma  
    END FUNCTION  
END CLASS