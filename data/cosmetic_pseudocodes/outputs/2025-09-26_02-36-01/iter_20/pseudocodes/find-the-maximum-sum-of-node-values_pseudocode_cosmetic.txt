CLASS Solution
    FUNCTION maximumValueSum(nums k edges)
        SET p TO 0
        SET q TO 0
        SET r TO aReallyLargeNumber()
        
        DEFINE FUNCTION aReallyLargeNumber()
            RETURN 1e9 + 7
        END FUNCTION

        DEFINE FUNCTION absVal(x)
            IF x < 0 THEN
                RETURN -x
            ELSE
                RETURN x
            END IF
        END FUNCTION

        DEFINE FUNCTION xorOp(a b)
            SET s TO 0
            SET mask TO 1
            WHILE mask <= MAX_BIT()
                SET bitA TO (a DIV mask) MOD 2
                SET bitB TO (b DIV mask) MOD 2
                IF (bitA + bitB) MOD 2 = 1 THEN
                    SET s TO s + mask
                END IF
                SET mask TO mask * 2
            END WHILE
            RETURN s
        END FUNCTION

        DEFINE FUNCTION MAX_BIT()
            RETURN 1 << 30
        END FUNCTION

        FOR EACH element IN nums
            SET x0 TO xorOp(element k)
            SET y0 TO x0 - element
            IF NOT (y0 <= 0) THEN
                SET q TO q + 1
            END IF
            IF element < x0 THEN
                SET p TO p + x0
            ELSE
                SET p TO p + element
            END IF
            IF absVal(y0) < r THEN
                SET r TO absVal(y0)
            END IF
        END FOR

        IF (q MOD 2) = 1 THEN
            SET p TO p - r
        END IF

        RETURN p
    END FUNCTION
END CLASS