CLASS Solution
    FUNCTION maxArea(height positions directions)
        FUNCTION charUp()
            RETURN 'U'
        END FUNCTION

        FUNCTION charDown()
            RETURN 'D'
        END FUNCTION

        FUNCTION strConcat(a b c)
            RETURN a + b + c
        END FUNCTION

        FUNCTION strSub(s startIndex endIndex)
            VAR ss
            SET ss TO ""
            VAR xx
            SET xx TO startIndex
            WHILE xx <= endIndex
                SET ss TO ss + s[xx]
                SET xx TO xx + 1
            END WHILE
            RETURN ss
        END FUNCTION

        VAR alpha
        SET alpha TO LENGTH OF positions

        VAR beta
        SET beta TO 0
        VAR eta
        SET eta TO 0

        VAR zeta
        SET zeta TO 0

        FOR k FROM 1 TO (height * 2)
            SET zeta TO 0
            WHILE zeta < alpha
                IF positions[zeta] EQUALS 0 THEN
                    IF directions[zeta] EQUALS charDown() THEN
                        SET directions TO strConcat(strSub(directions 0 (zeta - 1)) charUp() strSub(directions (zeta + 1) (LENGTH OF directions - 1)))
                    END IF
                ELSE IF positions[zeta] EQUALS height THEN
                    IF directions[zeta] EQUALS charUp() THEN
                        SET directions TO strConcat(strSub(directions 0 (zeta - 1)) charDown() strSub(directions (zeta + 1) (LENGTH OF directions - 1)))
                    END IF
                END IF

                IF directions[zeta] EQUALS charUp() THEN
                    SET eta TO positions[zeta]
                    SET eta TO eta + 1
                    SET positions[zeta] TO eta
                ELSE
                    SET eta TO positions[zeta]
                    SET eta TO eta - 1
                    SET positions[zeta] TO eta
                END IF
                SET zeta TO zeta + 1
            END WHILE

            SET beta TO 0
            VAR idx
            SET idx TO 0
            WHILE idx < alpha
                SET beta TO beta + positions[idx]
                SET idx TO idx + 1
            END WHILE

            IF max_area < beta THEN
                SET max_area TO beta
            END IF
        END FOR

        RETURN max_area
    END FUNCTION
END CLASS