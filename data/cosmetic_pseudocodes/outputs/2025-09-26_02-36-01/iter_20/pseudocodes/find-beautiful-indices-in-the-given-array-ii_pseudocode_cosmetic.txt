CLASS Solution  
    FUNCTION beautifulIndices(s parameter a parameter b parameter k)  
        
        FUNCTION string_equal(x parameter y parameter)  
            SET p TO LENGTH OF x  
            SET q TO LENGTH OF y  
            IF p NOT EQUAL q THEN  
                RETURN false  
            END IF  
            SET c TO 0  
            WHILE c LESS THAN p  
                IF x AT c NOT EQUAL y AT c THEN  
                    RETURN false  
                END IF  
                SET c TO c PLUS 1  
            END WHILE  
            RETURN true  
        END FUNCTION
        
        FUNCTION substring_extractor(str parameter start parameter length parameter)  
            SET result TO empty list  
            SET f TO 0  
            WHILE f LESS THAN length  
                APPEND str AT (start PLUS f) TO result  
                SET f TO f PLUS 1  
            END WHILE  
            RETURN result  
        END FUNCTION
        
        FUNCTION absolute_value(num parameter)  
            IF num GREATER THAN OR EQUAL TO 0 THEN  
                RETURN num  
            ELSE  
                RETURN 0 MINUS num  
            END IF  
        END FUNCTION
        
        SET lambda_x TO LENGTH OF s  
        SET lambda_y TO LENGTH OF a  
        SET alpha TO empty list  
        SET delta TO 0  
        WHILE delta LESS THAN (lambda_x MINUS lambda_y PLUS 1)  
            SET mu TO substring_extractor(s parameter delta parameter lambda_y)  
            IF string_equal(mu parameter a) THEN  
                APPEND delta TO alpha  
            END IF  
            SET delta TO delta PLUS 1  
        END WHILE
        
        SET omega TO LENGTH OF s  
        SET psi TO LENGTH OF b  
        SET beta TO empty list  
        SET eta TO 0  
        WHILE eta LESS THAN (omega MINUS psi PLUS 1)  
            SET nu TO substring_extractor(s parameter eta parameter psi)  
            IF string_equal(nu parameter b) THEN  
                APPEND eta TO beta  
            END IF  
            SET eta TO eta PLUS 1  
        END WHILE
        
        SET sigma TO empty list  
        SET r TO 0  
        SET t TO 0  
        REPEAT  
            IF r GREATER THAN OR EQUAL TO LENGTH OF alpha OR t GREATER THAN OR EQUAL TO LENGTH OF beta THEN  
                BREAK  
            END IF  
            SET phi TO absolute_value(alpha AT r MINUS beta AT t)  
            IF phi LESS THAN OR EQUAL TO k THEN  
                APPEND alpha AT r TO sigma  
                SET r TO r PLUS 1  
            ELSE IF alpha AT r LESS THAN beta AT t THEN  
                SET r TO r PLUS 1  
            ELSE  
                SET t TO t PLUS 1  
            END IF  
        UNTIL false
        
        RETURN sigma  
    END FUNCTION  
END CLASS