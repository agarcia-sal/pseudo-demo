CLASS Solution  
    FUNCTION countAlternatingSubarrays(nums)  
        DEFINE FUNCTION equivalent_length_sequence(arr, idx, prev_value, length_accum)  
            IF idx GREATER THAN OR EQUAL TO LENGTH OF arr  
                RETURN length_accum  
            END IF  
            DEFINE VARIABLE temp_length  
            IF arr[idx] NOT EQUAL TO prev_value  
                SET temp_length TO length_accum PLUS 1  
            ELSE  
                SET temp_length TO 1  
            END IF  
            RETURN equivalent_length_sequence(arr, idx PLUS 1, arr[idx], temp_length) PLUS (temp_length MINUS 1)  
        END FUNCTION  

        DEFINE VARIABLE total_count  
        DEFINE VARIABLE total_length  
        SET total_length TO LENGTH OF nums  
        IF total_length EQUALS 0  
            RETURN 0  
        END IF  
        SET total_count TO total_length PLUS equivalent_length_sequence(nums, 1, nums[0], 1)  
        RETURN total_count  
    END FUNCTION  
END CLASS