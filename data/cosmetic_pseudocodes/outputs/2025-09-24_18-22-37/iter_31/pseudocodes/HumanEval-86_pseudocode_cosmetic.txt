FUNCTION anti_shuffle(text_input)
    SET words_collection TO SPLIT text_input BY " "
    SET sorted_collection TO NEW LIST
    SET index_counter TO 0
    WHILE index_counter < LENGTH(words_collection)
        SET current_word TO words_collection.at(index_counter)
        SET chars_array TO CONVERT current_word TO CHAR ARRAY
        SET temp_index TO 0
        WHILE temp_index < LENGTH(chars_array)
            SET pos TO temp_index
            WHILE pos + 1 < LENGTH(chars_array)
                IF chars_array.at(pos) > chars_array.at(pos + 1) THEN
                    SET swap_tmp TO chars_array.at(pos)
                    SET chars_array[pos] TO chars_array[pos + 1]
                    SET chars_array[pos + 1] TO swap_tmp
                END IF
                SET pos TO pos + 1
            END WHILE
            SET temp_index TO temp_index + 1
        END WHILE
        SET sorted_word_string TO ""
        FOR EACH character IN chars_array
            SET concat_tmp TO sorted_word_string + character
            SET sorted_word_string TO concat_tmp
        END FOR
        ADD sorted_word_string TO sorted_collection
        SET index_counter TO index_counter + 1
    END WHILE
    SET output_string TO ""
    SET join_index TO 0
    FOR join_index FROM 0 TO LENGTH(sorted_collection) - 2
        SET output_string TO output_string + sorted_collection.at(join_index) + " "
    END FOR
    IF LENGTH(sorted_collection) > 0 THEN
        SET output_string TO output_string + sorted_collection.at(LENGTH(sorted_collection) - 1)
    END IF
    RETURN output_string
END FUNCTION