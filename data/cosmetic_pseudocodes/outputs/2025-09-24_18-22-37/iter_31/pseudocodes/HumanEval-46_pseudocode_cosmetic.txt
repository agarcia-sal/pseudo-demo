FUNCTION fib4(number_x)  
    INITIALIZE buffer TO LIST [0, 0, 2, 0]  
    IF NOT (number_x >= 4) THEN  
        LET output_value BE buffer.at(number_x)  
        RETURN output_value  
    END IF  

    LET current_index BE 4  
    WHILE current_index <= number_x DO  
        LET temp_sum_part1 BE buffer.at(3)  
        LET temp_sum_part2 BE buffer.at(2)  
        LET temp_sum_part3 BE buffer.at(1)  
        LET temp_sum_part4 BE buffer.at(0)  
        LET cumulative_sum BE (((temp_sum_part1 + temp_sum_part2) + temp_sum_part3) + temp_sum_part4)  

        APPEND cumulative_sum TO buffer  
        REMOVE buffer.at(0)  

        SET current_index TO (current_index + 1)  
    END WHILE  

    LET final_answer BE buffer.at(3)  
    RETURN final_answer  
END FUNCTION