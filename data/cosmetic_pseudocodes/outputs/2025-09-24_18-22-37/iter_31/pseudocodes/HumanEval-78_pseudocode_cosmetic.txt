FUNCTION hex_key(code_str)
    SET prime_chars TO ('2', '3', '5', '7', 'B', 'D')
    SET count_prime_occurrences TO 0
    SET pos TO 0
    WHILE pos < LENGTH(code_str)
        SET current_c TO code_str[pos]
        SWITCH current_c
            CASE '2', '3', '5', '7', 'B', 'D':
                SET count_prime_occurrences TO count_prime_occurrences + 1
                BREAK
            DEFAULT:
                BREAK
        END SWITCH
        SET pos TO pos + 1
    END WHILE
    RETURN count_prime_occurrences
END FUNCTION