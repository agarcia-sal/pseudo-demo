FUNCTION sort_array(collection)
  DECLARE total_elements = LENGTH(collection)
  DECLARE output_result
  IF total_elements EQUALS 0 THEN
    SET output_result TO []
  ELSE
    DECLARE initial_element = collection.at(0)
    DECLARE last_element_index = total_elements - 1
    DECLARE final_element = collection.at(last_element_index)
    DECLARE combined_sum = initial_element + final_element
    DECLARE descending_flag
    SWITCH combined_sum MOD 2
      CASE 0:
        SET descending_flag = TRUE
      DEFAULT:
        SET descending_flag = FALSE
    END SWITCH
    SET output_result = SORTED(collection, descending_order = descending_flag)
  END IF
  RETURN output_result
END FUNCTION