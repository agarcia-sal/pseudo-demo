FUNCTION common(list1, list2)
    SET accumulator TO empty set
    SET outer_element TO undefined
    SET inner_element TO undefined
    SET i TO 0
    WHILE i LESS THAN LENGTH of list1
        SET outer_element TO list1.at(i)
        SET j TO 0
        REPEAT
            SET inner_element TO list2.at(j)
            SWITCH outer_element = inner_element
                CASE true:
                    ADD outer_element TO accumulator
                DEFAULT:
                    NO-OP
            END SWITCH
            INCREMENT j BY 1
        UNTIL j >= LENGTH of list2
        INCREMENT i BY 1
    END WHILE
    SET sorted_result TO EMPTY list
    FOR each item IN accumulator
        ADD item TO sorted_result
    END FOR
    SORT sorted_result IN ascending order
    RETURN sorted_result
END FUNCTION