FUNCTION count_up_to(q)
    SET result_list TO []
    SET current_number TO 2
    WHILE current_number < q
        SET flag_prime TO true
        SET divisor TO 2
        REPEAT
            IF current_number MOD divisor = 0 THEN
                SET flag_prime TO false
                BREAK
            END IF
            SET divisor TO divisor + 1
        UNTIL divisor = current_number OR flag_prime = false
        SWITCH flag_prime
            CASE true:
                result_list.APPEND(current_number)
            CASE false:
                // do nothing
        END SWITCH
        SET current_number TO current_number + 1
    END WHILE
    RETURN result_list
END FUNCTION