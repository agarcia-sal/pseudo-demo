```
FUNCTION is_sorted(sequence)
    DEFINE tally AS dictionary WITH keys FROM sequence AND VALUES INITIALIZED TO 0
    FOR element IN sequence
        tally.at(element) = tally.at(element) + 1
    FOR item IN sequence
        IF tally.at(item) > 2 THEN
            RETURN False
    SET idx TO 1
    WHILE idx < LENGTH(sequence) DO
        IF NOT (sequence.at(idx - 1) <= sequence.at(idx)) THEN
            RETURN False
        idx = idx + 1
    RETURN True
END FUNCTION
```