FUNCTION sort_array(array_of_integers)
    SET temp_sorted_list TO SORT array_of_integers IN ASCENDING ORDER
    FUNCTION count_ones(bin_str)
        SET counter TO 0
        SET idx TO 0
        WHILE idx < LENGTH(bin_str)
            IF bin_str.at(idx) == '1'
                SET counter TO counter + 1
            END IF
            SET idx TO idx + 1
        END WHILE
        RETURN counter
    END FUNCTION
    SET result_list TO EMPTY LIST
    SET i TO 0
    REPEAT
        IF i >= LENGTH(temp_sorted_list)
            BREAK
        END IF
        APPEND temp_sorted_list.at(i) TO result_list
        SET i TO i + 1
    UNTIL FALSE
    SORT result_list BY
        CALL count_ones(TO_BINARY_STRING(element).SLICE(2))
    RETURN result_list
END FUNCTION