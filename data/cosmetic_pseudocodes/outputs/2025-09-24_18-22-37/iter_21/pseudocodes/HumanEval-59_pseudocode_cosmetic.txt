```
FUNCTION largest_prime_factor(x)
	 FUNCTION is_prime(y)
		  SWITCH
				CASE y < 2 : 
					RETURN False
		  END SWITCH
		  SET p TO 2
		  REPEAT 
			   IF (y MODULO p) = 0 THEN 
					RETURN False
			   ENDIF
			   SET p TO p + 1
		  UNTIL p >= y
		  RETURN True
	 END FUNCTION

	 SET greatest TO 1
	 SET q TO 2
	 WHILE q <= x DO
		  IF ((x MODULO q) = 0) THEN
				IF is_prime(q) THEN
					 IF q > greatest THEN
						  SET greatest TO q
					 ENDIF
				ENDIF
		  ENDIF
		  SET q TO q + 1
	 ENDWHILE
	 RETURN greatest
END FUNCTION
```