FUNCTION flip_case(str_param)
    DECLARE result_str AS EMPTY_STRING
    DECLARE idx AS INTEGER
    SET idx = 1
    REPEAT
        DECLARE current_ch AS CHARACTER
        SET current_ch = str_param.at(idx)
        IF (current_ch >= 'a' AND current_ch <= 'z') THEN
            SET current_ch = current_ch - ('a' - 'A')
        ELSE
            IF (current_ch >= 'A' AND current_ch <= 'Z') THEN
                SET current_ch = current_ch + ('a' - 'A')
            END IF
        END IF
        SET result_str = result_str + current_ch
        SET idx = idx + 1
    UNTIL (idx > LENGTH(str_param))
    RETURN result_str
END FUNCTION