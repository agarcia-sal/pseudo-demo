```
FUNCTION closest_integer(input_str)
    IMPORT floor, ceil FROM math

    SET dot_count TO 0
    FOR EACH char IN input_str DO
        IF char == '.'
            SET dot_count TO dot_count + 1
        END IF
    END FOR

    IF dot_count == 1 THEN
        REPEAT
            SET last_char TO input_str.at(input_str.LENGTH - 1)
            IF last_char != '0' THEN
                BREAK
            END IF

            SET input_str TO input_str.at(0 TO input_str.LENGTH - 2)
        UNTIL FALSE
    END IF

    SET decimal_value TO FLOAT(input_str)

    SWITCH TRUE
        CASE input_str.LENGTH >= 2 AND input_str.at(input_str.LENGTH - 2 TO input_str.LENGTH - 1) == '.5':
            IF decimal_value > 0 THEN
                SET output_num TO ceil(decimal_value)
            ELSE
                SET output_num TO floor(decimal_value)
            END IF
        CASE input_str.LENGTH > 0:
            SET output_num TO ROUND(decimal_value)
        DEFAULT:
            SET output_num TO 0
    END SWITCH

    RETURN output_num
END FUNCTION
```