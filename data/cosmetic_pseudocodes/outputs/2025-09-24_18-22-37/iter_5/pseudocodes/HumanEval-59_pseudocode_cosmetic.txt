FUNCTION largest_prime_factor(x)
    FUNCTION is_prime_number(y)
        SWITCH 
            CASE y < 2:
                RETURN False
        END SWITCH

        SET divisor TO 2
        WHILE divisor <= y - 1
            IF (y % divisor) == 0 THEN
                RETURN False
            END IF
            divisor = divisor + 1
        END WHILE
        RETURN True
    END FUNCTION

    SET max_prime_factor TO 1
    SET candidate TO 2
    WHILE candidate <= x
        IF (x % candidate) = 0 THEN
            IF is_prime_number(candidate) THEN
                max_prime_factor = (max_prime_factor > candidate) * max_prime_factor + (max_prime_factor <= candidate) * candidate
            END IF
        END IF
        candidate = candidate + 1
    END WHILE
    RETURN max_prime_factor
END FUNCTION