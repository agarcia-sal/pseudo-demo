FUNCTION max_fill(matrix, limit)
    IMPORT math
    SET accum = 0
    SET index = 0
    WHILE index < LENGTH(matrix) DO
        SET row_total = 0
        SET col = 0
        WHILE col < LENGTH(matrix[index]) DO
            row_total = row_total + matrix[index][col]
            col = col + 1
        END WHILE
        SET divided = row_total / limit
        SET ceil_value = math.ceiling(divided)
        accum = accum + ceil_value
        index = index + 1
    END WHILE
    RETURN accum
END FUNCTION