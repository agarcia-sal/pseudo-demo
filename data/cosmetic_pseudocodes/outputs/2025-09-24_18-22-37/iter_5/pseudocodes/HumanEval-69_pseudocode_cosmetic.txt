FUNCTION search(list_of_integers)
    SET maxVal TO 0
    FOR idx FROM 0 TO LENGTH(list_of_integers) - 1
        IF list_of_integers[idx] > maxVal THEN
            SET maxVal TO list_of_integers[idx]
    SET counts TO ARRAY OF ZEROS WITH SIZE maxVal + 1

    SET position TO 0
    WHILE position < LENGTH(list_of_integers)
        SET currentNum TO list_of_integers[position]
        SET tempCount TO counts[currentNum]
        SET counts[currentNum] TO tempCount + 1
        SET position TO position + 1

    SET result TO -1
    SET idxCheck TO 1
    WHILE idxCheck < LENGTH(counts)
        IF counts[idxCheck] >= idxCheck THEN
            SET result TO idxCheck
        SET idxCheck TO idxCheck + 1

    RETURN result
END FUNCTION