FUNCTION parse_music(music_string)
    INITIALIZE durations WITH EMPTY LIST
    DECLARE mapping AS DICTIONARY
    mapping['o'] = 4
    mapping['o|'] = 2
    mapping['.|'] = 1
    SET tokens TO SPLIT music_string BY ' '
    SET index TO 0
    WHILE index < LENGTH OF tokens DO
        SET current_note TO tokens[index]
        IF current_note != '' THEN
            APPEND mapping[current_note] TO durations
        ENDIF
        INCREMENT index BY 1
    ENDWHILE
    RETURN durations
END FUNCTION