FUNCTION is_sorted(list_of_numbers)
    CREATE frequency_map AS dictionary WHERE keys COME FROM list_of_numbers AND ALL values ARE 0
    SET idx TO 0
    WHILE idx < LENGTH OF list_of_numbers
        LET num TO list_of_numbers[idx]
        frequency_map[num] = frequency_map[num] + 1
        idx = idx + 1
    END WHILE
    
    SET has_excess_duplicates TO False
    FOR key IN list_of_numbers
        IF frequency_map[key] > 2 THEN
            has_excess_duplicates = True
            BREAK
        END IF
    END FOR
    IF has_excess_duplicates THEN
        RETURN False
    END IF
    
    SET position TO 1
    SET sorted_flag TO True
    WHILE position < LENGTH OF list_of_numbers
        IF NOT (list_of_numbers[position - 1] <= list_of_numbers[position]) THEN
            sorted_flag = False
            BREAK
        END IF
        position = position + 1
    END WHILE
    
    IF sorted_flag THEN
        RETURN True
    ELSE
        RETURN False
    END IF
END FUNCTION