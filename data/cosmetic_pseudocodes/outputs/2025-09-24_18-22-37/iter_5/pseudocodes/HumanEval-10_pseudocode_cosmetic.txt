FUNCTION is_palindrome(str)
  SET str_reversed TO REVERSE OF str
  IF str EQUALS str_reversed THEN
    RETURN TRUE
  ELSE
    RETURN FALSE
  END IF
END FUNCTION

FUNCTION make_palindrome(str)
  SWITCH LENGTH OF str
    CASE 0:
      RETURN ""
    DEFAULT:
      SET index TO 0
      FOR index FROM 0 TO LENGTH OF str
        SET candidate TO SUBSTRING OF str FROM index TO LENGTH OF str
        IF is_palindrome(candidate) THEN
          BREAK
        END IF
      END FOR

      SET prefix TO SUBSTRING OF str FROM 0 TO index
      SET prefix_reversed TO REVERSE OF prefix
      RETURN str + prefix_reversed
  END SWITCH
END FUNCTION