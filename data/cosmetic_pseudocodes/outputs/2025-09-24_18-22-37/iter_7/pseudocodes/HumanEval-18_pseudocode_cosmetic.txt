FUNCTION how_many_times(original_string, target_substring)
    SET count_occurrences := 0
    SET limit := LENGTH(original_string) - LENGTH(target_substring)
    SET position := 0
    WHILE position <= limit
        SET segment := SUBSTRING(original_string, position, position + LENGTH(target_substring))
        SWITCH segment == target_substring
            CASE true:
                count_occurrences := count_occurrences + 1
            CASE false:
        END SWITCH
        position := position + 1
    END WHILE
    RETURN count_occurrences
END FUNCTION