FUNCTION max_fill(array2D, limit)
  IMPORT math
  SET accumulator TO 0
  SET current_index TO 0
  WHILE current_index < LENGTH(array2D) DO
    SET row_elements TO array2D[current_index]
    SET sum_row TO 0
    SET element_index TO 0
    WHILE element_index < LENGTH(row_elements) DO
      SET sum_row TO sum_row plus row_elements[element_index]
      INCREMENT element_index BY 1
    END WHILE
    SET division_result TO sum_row / limit
    SET ceiling_value TO math ceiling of division_result
    SET accumulator TO accumulator plus ceiling_value
    INCREMENT current_index BY 1
  END WHILE
  RETURN accumulator
END FUNCTION