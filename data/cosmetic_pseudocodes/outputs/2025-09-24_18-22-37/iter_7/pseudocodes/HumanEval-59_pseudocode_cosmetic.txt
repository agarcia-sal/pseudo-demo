FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF k LESS THAN 2 THEN
            RETURN False
        END IF
        SET m TO 2
        WHILE m LESS THAN k DO
            IF (k MODULO m) IS EQUAL TO 0 THEN
                RETURN False
            END IF
            SET m TO m PLUS 1
        END WHILE
        RETURN True
    END FUNCTION

    SET max_factor TO 1
    SET counter TO 2
    WHILE counter LESS THAN OR EQUAL TO n DO
        SET divisible TO (n MODULO counter)
        IF (divisible IS EQUAL TO 0) THEN
            SET prime_check TO is_prime(counter)
            IF prime_check THEN
                IF counter GREATER THAN max_factor THEN
                    SET max_factor TO counter
                END IF
            END IF
        END IF
        SET counter TO counter PLUS 1
    END WHILE
    RETURN max_factor
END FUNCTION