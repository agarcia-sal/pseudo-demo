FUNCTION all_prefixes(token_sequence)
  SET collection TO list of zero elements
  SET pointer TO 0
  WHILE pointer LESS THAN LENGTH OF token_sequence
    SET segment TO SUBSTRING(token_sequence, 0, pointer PLUS 1)
    APPEND segment TO collection
    INCREMENT pointer BY 1
  END WHILE
  RETURN collection
END FUNCTION