FUNCTION common(list1, list2)
  DECLARE converged_elements AS empty set
  SET idx_outer TO 0
  WHILE idx_outer LESS THAN length of list1
    SET current_outer_element TO list1[idx_outer]
    SET idx_inner TO 0
    WHILE idx_inner LESS THAN length of list2
      SET current_inner_element TO list2[idx_inner]
      SWITCH
        CASE current_outer_element is equal to current_inner_element
          converged_elements := converged_elements UNION {current_outer_element}
          BREAK
        DEFAULT
      END SWITCH
      SET idx_inner TO idx_inner plus 1
    END WHILE
    SET idx_outer TO idx_outer plus 1
  END WHILE
  DECLARE ordered_result AS sort(converged_elements as list)
  RETURN ordered_result
END FUNCTION