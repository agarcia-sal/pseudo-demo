FUNCTION parse_music(music_string)
    DECLARE durations_map AS DICTIONARY
    durations_map['o|'] := 2
    durations_map['o'] := 4
    durations_map['.|'] := 1

    DECLARE tokens AS LIST
    tokens := SPLIT(music_string, " ")

    DECLARE result_list AS LIST
    SET index_counter TO 0

    WHILE index_counter < LENGTH(tokens)
        DECLARE current_note AS STRING
        current_note := tokens[index_counter]

        IF current_note IS NOT EQUAL TO ""
            DECLARE duration_value AS INTEGER
            duration_value := durations_map[current_note]
            APPEND duration_value TO result_list
        END IF

        INCREMENT index_counter BY 1
    END WHILE

    RETURN result_list
END FUNCTION