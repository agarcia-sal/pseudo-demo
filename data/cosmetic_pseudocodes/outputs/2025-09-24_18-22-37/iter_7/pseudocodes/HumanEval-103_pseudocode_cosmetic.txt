FUNCTION rounded_avg(p, q)
    SWITCH
        CASE q < p:
            RETURN -1
    END SWITCH
    SET total_sum := 0
    SET idx := p
    WHILE idx <= q
        total_sum := total_sum + idx
        idx := idx + 1
    END WHILE
    SET count := q - p + 1
    SET avg := total_sum / count
    SET rounded_val := ROUND(avg)
    SET bin_str := CONVERT_TO_BINARY(rounded_val)
    RETURN bin_str
END FUNCTION