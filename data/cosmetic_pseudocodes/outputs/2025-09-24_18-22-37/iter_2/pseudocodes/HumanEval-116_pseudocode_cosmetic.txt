```
FUNCTION sort_array(array_of_integers)
    LET ascending_sorted = array_of_integers
    ascending_sorted = array_of_integers SORTED BY value FROM SMALLEST TO LARGEST
    LET result = SORT ascending_sorted BY
        FUNCTION(elem)
            LET binary_string = TO_BINARY_STRING(elem)
            LET number_of_ones = LENGTH_OF_ALL_CHARACTERS_EQUALS(binary_string, '1')
            RETURN number_of_ones
        END FUNCTION
    RETURN result
END FUNCTION
```