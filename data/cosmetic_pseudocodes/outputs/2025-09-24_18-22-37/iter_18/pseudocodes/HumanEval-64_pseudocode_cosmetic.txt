```
FUNCTION vowels_count(corpus)
    LET allowed_chars BE "aeiouAEIOU"
    LET accumulator BE 0
    SET iterator TO 0

    WHILE iterator < LENGTH(corpus) DO
        LET current_char BE corpus.at(iterator)
        IF CONTAINS(allowed_chars, current_char) THEN
            accumulator ← accumulator + 1
        END IF
        iterator ← iterator + 1
    END WHILE

    IF LENGTH(corpus) == 0 THEN
        RETURN accumulator
    END IF

    LET terminal_character BE corpus.at(LENGTH(corpus) - 1)
    SWITCH terminal_character
        CASE 'y':
        CASE 'Y':
            accumulator ← accumulator + 1
        DEFAULT:
            /* no operation */
    END SWITCH

    RETURN accumulator
END FUNCTION
```