```
FUNCTION hex_key(input_str)
    DECLARE prime_chars AS ARRAY = ('2', '3', '5', '7', 'B', 'D')
    DECLARE accumulator TO 0
    DECLARE cursor TO 0
    REPEAT
        IF cursor GREATER THAN LENGTH OF input_str MINUS 1 THEN
            EXIT LOOP
        END IF
        DECLARE current_char TO input_str.at(cursor)
        SWITCH TRUE
            CASE current_char EQUALS prime_chars.at(0):
            CASE current_char EQUALS prime_chars.at(1):
            CASE current_char EQUALS prime_chars.at(2):
            CASE current_char EQUALS prime_chars.at(3):
            CASE current_char EQUALS prime_chars.at(4):
            CASE current_char EQUALS prime_chars.at(5):
                accumulator ← accumulator + 1
                BREAK
            DEFAULT:
                BREAK
        END SWITCH
        cursor ← cursor + 1
    UNTIL FALSE
    RETURN accumulator
END FUNCTION
```