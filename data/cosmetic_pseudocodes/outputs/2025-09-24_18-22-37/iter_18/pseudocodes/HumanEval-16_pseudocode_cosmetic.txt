```
FUNCTION count_distinct_characters(alp)
    DECLARE coded_set
    DECLARE idx
    DECLARE current_char
    DECLARE lowered_text
    
    lowered_text = EMPTY_STRING
    idx = 1
    WHILE idx <= LENGTH(alp) DO
        current_char = alp.at(idx)
        IF current_char >= 'A' AND current_char <= 'Z' THEN
            DECLARE offset
            offset = (ASC(current_char) - ASC('A')) + ASC('a')
            lowered_text = lowered_text + CHAR(offset)
        ELSE
            lowered_text = lowered_text + current_char
        END IF
        idx = idx + 1
    END WHILE

    coded_set = EMPTY_SET
    idx = 1
    REPEAT
        current_char = lowered_text.at(idx)
        IF NOT (current_char IN coded_set) THEN
            coded_set = coded_set UNION {current_char}
        END IF
        idx = idx + 1
    UNTIL idx > LENGTH(lowered_text)
    
    RETURN SIZE(coded_set)
END FUNCTION
```