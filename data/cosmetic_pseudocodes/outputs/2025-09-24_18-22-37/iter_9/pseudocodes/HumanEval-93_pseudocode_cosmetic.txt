```
FUNCTION encode(inputString)
    SET vowelChars TO "aeiouAEIOU"
    SET mappingDict TO EMPTY DICTIONARY
    FOR EACH char IN vowelChars
        SET newCharCode TO ASCII_CODE(char) PLUS 2
        SET mappingDict[char] TO CHARACTER_FROM_ASCII(newCharCode)
    END FOR

    SET toggledString TO EMPTY STRING
    FOR EACH symbol IN inputString
        IF symbol IS UPPERCASE LETTER
            APPEND TO toggledString LOWERCASE(symbol)
        ELSE IF symbol IS LOWERCASE LETTER
            APPEND TO toggledString UPPERCASE(symbol)
        ELSE
            APPEND TO toggledString symbol
        END IF
    END FOR

    SET resultString TO EMPTY STRING
    FOR EACH elem IN toggledString
        IF mappingDict.CONTAINS_KEY(elem)
            APPEND TO resultString mappingDict.ELEMENT_AT(elem)
        ELSE
            APPEND TO resultString elem
        END IF
    END FOR

    RETURN resultString
END FUNCTION
```