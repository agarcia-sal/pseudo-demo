FUNCTION parse_music(input_sequence)  
    SET duration_lookup TO MAP CONTAINING KEYS 'o', 'o|', '.|' MAPPED TO 4, 2, 1 RESPECTIVELY  
    SET result_collection TO EMPTY LIST  
    FOR token IN input_sequence.SPLIT(" ") DO  
        IF NOT (token == "") THEN  
            SET mapped_value TO duration_lookup.at(token)  
            APPEND mapped_value TO result_collection  
        END IF  
    END FOR  
    RETURN result_collection  
END FUNCTION