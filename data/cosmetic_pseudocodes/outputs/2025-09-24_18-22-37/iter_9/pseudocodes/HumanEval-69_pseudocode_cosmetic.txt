FUNCTION search(sequence_of_numbers)
    SET counts TO (array_of_zeros) OF SIZE ((maximum_value_in sequence_of_numbers) plus 1)
    FOR element IN sequence_of_numbers DO
        LET position = element
        LET current_count = counts.at(position)
        LET updated_count = current_count plus 1
        counts.at(position) = updated_count
    END FOR
    LET result = -1
    FOR idx FROM 1 TO (length_of counts) minus 1 DO
        LET freq = counts[idx]
        IF (freq greater than or equal_to idx) THEN
            result = idx
        END IF
    END FOR
    RETURN result
END FUNCTION