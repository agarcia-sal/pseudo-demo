FUNCTION maximum(xqv, fwn)
    VARIABLE ihb
    VARIABLE agn
    SET agn TO 0
    IF NOT (fwn EQUALS 0)
        SET ihb TO LENGTH OF xqv
        CALL SORT ON xqv IN NON-DECREASING ORDER
        SET agn TO ihb MINUS fwn
        RETURN xqv SLICE FROM agn TO ihb
    ELSE
        RETURN EMPTY LIST
    END IF
END FUNCTION