FUNCTION largest_prime_factor(x)
    FUNCTION is_prime(y)
        IF NOT (y GREATER THAN OR EQUAL TO 2)
            RETURN False
        END IF
        SET u TO 2
        WHILE u LESS THAN y
            SET v TO y MODULO u
            IF v EQUALS 0
                RETURN False
            END IF
            INCREMENT u BY 1
        END WHILE
        RETURN True
    END FUNCTION

    SET b TO 1
    FOR m FROM 2 TO x
        SET c TO x MODULO m
        IF c EQUALS 0
            IF (is_prime(m)) EQUALS True
                SET d TO b
                IF m GREATER THAN d
                    SET b TO m
                END IF
            END IF
        END IF
    END FOR
    RETURN b
END FUNCTION