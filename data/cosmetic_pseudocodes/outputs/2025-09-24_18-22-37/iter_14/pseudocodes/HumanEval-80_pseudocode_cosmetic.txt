FUNCTION is_happy(kappa)  
    IF 3 GREATER THAN LENGTH OF kappa THEN  
        RETURN False  
    END IF  

    SET delta TO 0  
    WHILE delta NOT GREATER THAN (LENGTH OF kappa MINUS 3) DO  
        SET varpi TO kappa.at(delta)  
        SET theta TO kappa.at(delta + 1)  
        SET xi TO kappa.at(delta + 2)  

        IF (varpi EQUALS theta) OR (theta EQUALS xi) OR (varpi EQUALS xi) THEN  
            RETURN False  
        END IF  

        SET delta TO delta PLUS 1  
    END WHILE  

    RETURN True  
END FUNCTION