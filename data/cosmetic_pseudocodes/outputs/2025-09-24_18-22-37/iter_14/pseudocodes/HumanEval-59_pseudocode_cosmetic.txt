FUNCTION largest_prime_factor(p)
  FUNCTION is_prime(q)
        SET u TO 2
        IF q LESS THAN 2 THEN
               RETURN False
        END IF
        WHILE u LESS THAN q DO
                SET v TO q MODULO u
                IF v EQUALS 0 THEN
                      RETURN False
                END IF
                SET u TO u PLUS 1
        END WHILE
        RETURN True
  END FUNCTION

  SET w TO 1
  SET x TO 2
  WHILE x LESS THAN OR EQUAL TO p DO
      SET y TO p MODULO x
      IF y EQUALS 0 THEN
          IF is_prime(x) THEN
              SET z TO w
              IF z LESS THAN x THEN
                SET w TO x
              END IF
          END IF
      END IF
      SET x TO x PLUS 1
  END WHILE
  RETURN w
END FUNCTION