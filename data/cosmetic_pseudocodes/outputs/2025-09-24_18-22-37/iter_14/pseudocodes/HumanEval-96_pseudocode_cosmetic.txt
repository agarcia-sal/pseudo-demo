FUNCTION count_up_to(p)
primesList ← list of zero elements with size 0  
iCounter ← 2  
WHILE iCounter LESS THAN p DO  
    primeFlag ← true  
    jCounter ← 2  
    WHILE jCounter LESS THAN iCounter DO  
        modResult ← iCounter MOD jCounter  
        IF modResult EQUALS 0 THEN  
            primeFlag ← false  
            BREAK  
        END IF  
        jCounter ← jCounter + 1  
    END WHILE  
    SWITCH primeFlag  
        CASE true:  
            primesList APPEND iCounter  
        CASE false:  
            # no action  
    END SWITCH  
    iCounter ← iCounter + 1  
END WHILE  
RETURN primesList  
END FUNCTION