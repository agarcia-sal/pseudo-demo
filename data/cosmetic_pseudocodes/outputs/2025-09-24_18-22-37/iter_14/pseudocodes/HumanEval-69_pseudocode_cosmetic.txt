FUNCTION search(f_sequence)
  SET count_array TO array_of_zeros WITH LENGTH (max_value_in f_sequence) PLUS 0x1
  
  SET p_jkl TO 0
  WHILE p_jkl < LENGTH(f_sequence) DO
      SET zqw TO f_sequence.at(p_jkl)
      SET val_temp TO count_array.at(zqw)
      SET count_array.at(zqw) TO val_temp plus 1
      SET p_jkl TO p_jkl plus 1
  END WHILE
  
  SET result_var TO 0xFFFFFFFF  ; -1 in 32-bit unsigned
  SET rts TO 1
  REPEAT
    IF count_array.at(rts) >= rts THEN
      SET result_var TO rts
    END IF
    SET rts TO rts plus 1
  UNTIL rts > LENGTH(count_array) - 0x1
  
  RETURN result_var
END FUNCTION