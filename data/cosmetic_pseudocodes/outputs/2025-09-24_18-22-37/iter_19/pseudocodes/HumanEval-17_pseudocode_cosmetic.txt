FUNCTION parse_music(music_string)  
    DECLARE helper_map  
    SET helper_map ← DICTIONARY WITH 'o|' → 0x2, 'o' → 4, '.|' → 0x1  
    DECLARE split_notes ← SPLIT music_string BY ' '  
    DECLARE durations ← EMPTY LIST  
    DECLARE idx ← 0  
    REPEAT WHILE idx < LENGTH(split_notes)  
        DECLARE current_note ← split_notes.at(idx)  
        IF current_note ≠ '' THEN  
            DECLARE mapped_value ← helper_map.at(current_note)  
            APPEND mapped_value TO durations  
        END IF  
        SET idx ← idx + 1  
    END REPEAT  
    RETURN durations  
END FUNCTION