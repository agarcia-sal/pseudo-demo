FUNCTION fib4(integer_n)
    SET buffer TO LIST OF [0, 0, 2, 0]
    IF NOT (integer_n >= 4)
        RETURN buffer.at(integer_n)
    END IF

    SET idx TO 4
    REPEAT
        SET a TO buffer.at(0)
        SET b TO buffer.at(1)
        SET c TO buffer.at(2)
        SET d TO buffer.at(3)
        SET sum_value TO a + b + c + d
        APPEND sum_value TO buffer
        REMOVE buffer.at(0)
        SET idx TO idx + 1
    UNTIL idx > integer_n

    SET final_element TO buffer.at(buffer.size() - 1)
    RETURN final_element
END FUNCTION