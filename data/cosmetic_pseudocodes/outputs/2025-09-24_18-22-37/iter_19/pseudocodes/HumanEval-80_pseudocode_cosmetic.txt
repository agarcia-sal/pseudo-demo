```
FUNCTION is_happy(input_sequence)
    REPEAT
        EXIT_LOOP_IF LENGTH OF input_sequence >= 3
        RETURN False
    END REPEAT

    SET pos = 0
    WHILE pos <= (LENGTH OF input_sequence - 0x3)
        SET first_char = input_sequence.at(pos)
        SET second_char = input_sequence.at(pos + 1)
        SET third_char = input_sequence.at(pos + 2)

        SWITCH TRUE
            CASE NOT (first_char != second_char):
                RETURN False
            CASE NOT (second_char != third_char):
                RETURN False
            CASE NOT (first_char != third_char):
                RETURN False
            DEFAULT:
                // do nothing
        END SWITCH

        pos = pos + 1
    END WHILE

    RETURN True
END FUNCTION
```