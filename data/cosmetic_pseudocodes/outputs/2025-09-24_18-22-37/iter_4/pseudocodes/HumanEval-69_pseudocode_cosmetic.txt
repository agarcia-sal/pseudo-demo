FUNCTION search(list_of_integers)
    SET max_val TO 0
    SET iterator TO 0
    WHILE iterator < LENGTH OF list_of_integers
        IF list_of_integers AT iterator > max_val THEN
            SET max_val TO list_of_integers AT iterator
        ENDIF
        INCREMENT iterator BY 1
    ENDWHILE

    SET freq_array TO ARRAY OF ZEROS WITH SIZE max_val + 1
    SET idx TO 0
    WHILE idx < LENGTH OF list_of_integers
        SET current_num TO list_of_integers AT idx
        SET freq_array AT current_num TO freq_array AT current_num + 1
        INCREMENT idx BY 1
    ENDWHILE

    SET resulting_value TO -1
    SET check_index TO 1
    REPEAT
        IF freq_array AT check_index >= check_index THEN
            SET resulting_value TO check_index
        ENDIF
        INCREMENT check_index BY 1
    UNTIL check_index > LENGTH OF freq_array - 1

    RETURN resulting_value
END FUNCTION