FUNCTION parse_music(music_string)
    DECLARE durations_map AS DICTIONARY
    ASSIGN durations_map['o'] = 4
    ASSIGN durations_map['o|'] = 2
    ASSIGN durations_map['.|'] = 1

    DECLARE result_list AS EMPTY LIST
    DECLARE parts_list AS LIST OBTAINED BY SPLITTING music_string BY ' '

    DECLARE index AS INTEGER = 0
    WHILE index < LENGTH(parts_list)
        DECLARE current_note AS STRING = parts_list[index]
        IF current_note != ''
            APPEND durations_map[current_note] TO result_list
        END IF
        INCREMENT index BY 1
    END WHILE

    RETURN result_list
END FUNCTION