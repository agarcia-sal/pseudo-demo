FUNCTION count_up_to(n)
    INITIALIZE result AS empty list
    SET outer_index TO 2
    WHILE outer_index < n DO
        SET prime_flag TO true
        SET inner_index TO 2
        WHILE inner_index < outer_index DO
            SWITCH (outer_index MOD inner_index)
                CASE 0:
                    SET prime_flag TO false
                    SET inner_index TO outer_index
                DEFAULT:
                    SET inner_index TO inner_index + 1
            END SWITCH
        END WHILE
        IF prime_flag THEN
            INSERT outer_index AT END OF result
        END IF
        INCREMENT outer_index BY 1
    END WHILE
    RETURN result
END FUNCTION