FUNCTION flip_case(text)
    SET index TO 0
    SET result TO EMPTY STRING
    WHILE index < LENGTH(text)
        SET char TO CHARACTER AT text[index]
        IF char IS UPPERCASE LETTER THEN
            APPEND LOWERCASE OF char TO result
        ELSE IF char IS LOWERCASE LETTER THEN
            APPEND UPPERCASE OF char TO result
        ELSE
            APPEND char TO result
        END IF
        INCREMENT index BY 1
    END WHILE
    RETURN result
END FUNCTION