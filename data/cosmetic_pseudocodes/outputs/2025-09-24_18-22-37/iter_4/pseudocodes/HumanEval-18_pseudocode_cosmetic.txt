FUNCTION how_many_times(original_string, target_substring)
    SET count_occurrences = 0
    SET max_start = LENGTH(original_string) - LENGTH(target_substring)
    SET current_pos = 0
    WHILE current_pos <= max_start DO
        SET segment = SUBSTRING(original_string, current_pos, LENGTH(target_substring))
        SWITCH segment
            CASE target_substring:
                SET count_occurrences = count_occurrences + 1
                BREAK
            DEFAULT:
                NO OPERATION
        END SWITCH
        SET current_pos = current_pos + 1
    END WHILE
    RETURN count_occurrences
END FUNCTION