FUNCTION encode(input_text)
    DECLARE vowels_string AS "aeiouAEIOU"
    DECLARE vowel_mappings AS EMPTY DICTIONARY
    DECLARE index AS INTEGER = 1
    WHILE index <= LENGTH(vowels_string) DO
        DECLARE current_char AS CHAR = CHAR_AT(vowels_string, index)
        SET vowel_mappings[current_char] = CHAR(ASCII_VALUE(current_char) + 2)
        INCREMENT index BY 1
    END WHILE
    DECLARE toggled_text AS EMPTY STRING
    DECLARE position AS INTEGER = 1
    WHILE position <= LENGTH(input_text) DO
        DECLARE ch AS CHAR = CHAR_AT(input_text, position)
        IF IS_UPPERCASE(ch) THEN
            SET toggled_text = concatenation(toggled_text, TO_LOWERCASE(ch))
        ELSE IF IS_LOWERCASE(ch) THEN
            SET toggled_text = concatenation(toggled_text, TO_UPPERCASE(ch))
        ELSE
            SET toggled_text = concatenation(toggled_text, ch)
        END IF
        INCREMENT position BY 1
    END WHILE
    DECLARE result_text AS EMPTY STRING
    DECLARE counter AS INTEGER = 1
    WHILE counter <= LENGTH(toggled_text) DO
        DECLARE current_char AS CHAR = CHAR_AT(toggled_text, counter)
        IF vowel_mappings HAS KEY current_char THEN
            SET result_text = concatenation(result_text, vowel_mappings[current_char])
        ELSE
            SET result_text = concatenation(result_text, current_char)
        END IF
        INCREMENT counter BY 1
    END WHILE
    RETURN result_text
END FUNCTION