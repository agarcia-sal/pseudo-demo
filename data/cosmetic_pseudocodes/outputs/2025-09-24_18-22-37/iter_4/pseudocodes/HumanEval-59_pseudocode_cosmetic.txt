FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF k <= 1 THEN
            RETURN False
        END IF
        SET divisor TO 2
        WHILE divisor < k DO
            IF (k MOD divisor) = 0 THEN
                RETURN False
            END IF
            SET divisor TO divisor + 1
        END WHILE
        RETURN True
    END FUNCTION

    SET max_prime_factor TO 1
    SET candidate TO 2
    WHILE candidate <= n DO
        SWITCH (n MOD candidate = 0 AND is_prime(candidate))
            CASE True:
                IF candidate > max_prime_factor THEN
                    SET max_prime_factor TO candidate
                END IF
            BREAK
            CASE False:
            BREAK
        END SWITCH
        SET candidate TO candidate + 1
    END WHILE
    RETURN max_prime_factor
END FUNCTION