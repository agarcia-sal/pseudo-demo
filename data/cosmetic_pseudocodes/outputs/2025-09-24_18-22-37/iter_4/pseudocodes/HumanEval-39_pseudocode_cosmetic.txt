FUNCTION prime_fib(number_n)
    IMPORT mathematical_functions_module

    FUNCTION is_prime_check(value_p)
        SWITCH
            CASE value_p < 2:
                RETURN False
            DEFAULT:
                SET divisor_i TO 2
                SET limit TO MIN(FLOOR(SQUARE_ROOT(value_p)) + 1, value_p - 1)
                WHILE divisor_i <= limit
                    IF value_p MOD divisor_i == 0
                        RETURN False
                    SET divisor_i TO divisor_i + 1
                END WHILE
                RETURN True
        END SWITCH
    END FUNCTION

    SET sequence_fib TO [0, 1]

    LOOP
        SET last_idx TO LENGTH(sequence_fib) - 1
        SET next_fib TO sequence_fib[last_idx] + sequence_fib[last_idx - 1]
        APPEND next_fib TO sequence_fib

        IF is_prime_check(sequence_fib[LENGTH(sequence_fib) - 1]) == True THEN
            SET number_n TO number_n - 1
        END IF

        IF number_n == 0 THEN
            RETURN sequence_fib[LENGTH(sequence_fib) - 1]
        END IF
    END LOOP
END FUNCTION