FUNCTION rounded_avg(alpha, beta)
    SET flag_invalid TO FALSE
    IF NOT (beta >= alpha)
        SET flag_invalid TO TRUE
    IF flag_invalid
        RETURN ( -1 )
    SET accumulator TO 0
    SET iterator TO alpha
    WHILE iterator <= beta
        SET accumulator TO (accumulator + iterator)
        SET iterator TO (iterator + 1)
    SET count_elements TO (beta - alpha + 1)
    SET ratio TO (accumulator DIV count_elements)
    SET rounded_val TO 0
    // Emulate rounding by adding 0.5 and truncating
    SET temp_ratio TO ratio + 0.5
    SET rounded_val TO FLOOR(temp_ratio)
    SET binary_result TO STRING_EMPTY
    SET temp_int TO rounded_val
    IF temp_int == 0
        SET binary_result TO "0"
    ELSE
        SET bits TO EMPTY_LIST
        WHILE temp_int > 0
            APPEND (temp_int MOD 2) TO bits
            SET temp_int TO temp_int DIV 2
        SET index_bits TO LENGTH(bits) - 1
        SET binary_result TO ""
        WHILE index_bits >= 0
            SET binary_result TO binary_result + CHAR(bits.at(index_bits) + '0')
            SET index_bits TO index_bits - 1
    RETURN binary_result
END FUNCTION