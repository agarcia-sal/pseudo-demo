FUNCTION max_fill(input_matrix, max_capability)
    IMPORT math
    SET total_accumulation TO 0
    SET row_counter TO 0
    WHILE row_counter < LENGTH(input_matrix) DO
        SET current_row TO input_matrix.at(row_counter)
        SET sum_in_row TO 0
        SET elem_index TO 0
        WHILE elem_index < LENGTH(current_row) DO
            SET sum_in_row TO sum_in_row + current_row.at(elem_index)
            SET elem_index TO elem_index + 1
        END WHILE
        SET division_result TO sum_in_row / max_capability
        SET ceil_value TO math ceiling of division_result
        SET total_accumulation TO total_accumulation + ceil_value
        SET row_counter TO row_counter + 1
    END WHILE
    RETURN total_accumulation
END FUNCTION