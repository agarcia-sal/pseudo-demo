FUNCTION median(array_of_items)
    SET sorted_items TO EMPTY LIST
    SET idx_counter TO 0
    WHILE idx_counter LESS THAN LENGTH OF array_of_items
        APPEND array_of_items.at(idx_counter) TO sorted_items
        SET idx_counter TO idx_counter PLUS 1
    END WHILE

    CALL SORT(sorted_items)

    SET arr_len TO LENGTH OF sorted_items
    SET half_idx TO (arr_len DIV 0x2)  // 0x2 is hex for 2

    SET is_odd_length TO (arr_len MODULO 0x2) EQUALS 1

    SWITCH is_odd_length
        CASE TRUE:
            RETURN sorted_items.at(half_idx)
        CASE FALSE:
            SET first_val TO sorted_items.at(half_idx MINUS 1)
            SET second_val TO sorted_items.at(half_idx)
            SET median_val TO (first_val PLUS second_val) DIVIDED BY 2.0
            RETURN median_val
    END SWITCH
END FUNCTION