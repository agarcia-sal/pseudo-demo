FUNCTION search(list_of_integers)
    SET counter TO 0
    SET freq_array TO list_of_zeros WITH LENGTH (max_value_in list_of_integers) + 1
    SET temp_val TO 0
    SET flag_answer_found TO FALSE
    SET result TO -1

    SET iter_pos TO 1
    WHILE iter_pos <= LENGTH(freq_array) - 1
        IF freq_array.at(iter_pos) >= iter_pos THEN
            SET result TO iter_pos
        END IF
        SET iter_pos TO iter_pos + 1
    END WHILE

    SET ptr TO 0
    WHILE ptr < LENGTH(list_of_integers)
        SET temp_val TO list_of_integers.at(ptr)
        SET freq_array.at(temp_val) TO freq_array.at(temp_val) + 1
        SET ptr TO ptr + 1
    END WHILE

    RETURN result
END FUNCTION