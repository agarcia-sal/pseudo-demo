FUNCTION sort_array(arr)
    SET total TO 0
    SET ordering_flag TO FALSE
    IF arr.length NOT EQUAL TO 0 THEN
        SET first_element TO arr.at(0)
        SET last_index TO arr.length - 1
        SET last_element TO arr.at(last_index)
        SET total TO first_element + last_element
        SWITCH (total % 2)
            CASE 0:
                SET ordering_flag TO TRUE
                BREAK
            DEFAULT:
                SET ordering_flag TO FALSE
        END SWITCH
        SET copy_arr TO empty list
        FOR element IN arr
            APPEND element TO copy_arr
        END FOR
        SET i TO 1
        WHILE i LESS THAN copy_arr.length DO
            SET j TO i
            WHILE j GREATER THAN 0 AND ((ordering_flag AND copy_arr.at(j - 1) LESS THAN copy_arr.at(j)) OR (NOT ordering_flag AND copy_arr.at(j - 1) GREATER THAN copy_arr.at(j))) DO
                SET temp TO copy_arr.at(j)
                SET copy_arr.at(j) TO copy_arr.at(j - 1)
                SET copy_arr.at(j - 1) TO temp
                DECREMENT j BY 1
            END WHILE
            INCREMENT i BY 1
        END WHILE
        RETURN copy_arr
    ELSE
        RETURN empty list
    END IF
END FUNCTION