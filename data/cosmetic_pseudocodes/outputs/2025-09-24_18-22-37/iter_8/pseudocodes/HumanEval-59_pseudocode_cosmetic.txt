FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
            IF k LESS THAN 2 THEN
                  RETURN False
            ENDIF
        SET m TO 2
        WHILE m LESS THAN k
                SET r TO k MODULO m
                IF r EQUALS 0 THEN
                      RETURN False
                ENDIF
                SET m TO m PLUS 1
        ENDWHILE
        RETURN True
    END FUNCTION

    SET p TO 1
    SET q TO 2
    WHILE q LESS THAN OR EQUAL TO n
          SET s TO n MODULO q
          IF (s EQUALS 0) THEN
                 IF is_prime(q) THEN
                        IF q GREATER THAN p THEN
                              SET p TO q
                        ENDIF
                 ENDIF
          ENDIF
          SET q TO q PLUS 1
    ENDWHILE
    RETURN p
END FUNCTION