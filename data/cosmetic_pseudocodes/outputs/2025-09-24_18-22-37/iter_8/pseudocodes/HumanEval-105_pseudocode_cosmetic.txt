FUNCTION by_length(p_list)
  SET p_map TO {
    1: "One" ,
    9: "Nine" ,
    3: "Three" ,
    4: "Four" ,
    7: "Seven" ,
    8: "Eight" ,
    5: "Five" ,
    2: "Two" ,
    6: "Six"
  }

  SET p_sorted TO EMPTY LIST
  SET p_index TO 0
  WHILE p_index < LENGTH(p_list)
    SET p_sorted = p_sorted + [p_list.at(p_index)]
    SET p_index TO p_index + 1
  END WHILE

  SET p_sorted = p_sorted SORTED BY VALUE DESCENDING

  SET p_result TO EMPTY LIST
  SET p_counter TO 0
  WHILE p_counter < LENGTH(p_sorted)
    SET p_value TO p_sorted.at(p_counter)
    SWITCH TRUE
      CASE (p_value IN p_map):
        SET p_tmp TO p_map[p_value]
        APPEND p_tmp TO p_result
        BREAK
      CASE ELSE:
        BREAK
    END SWITCH
    SET p_counter TO p_counter + 1
  END WHILE

  RETURN p_result
END FUNCTION