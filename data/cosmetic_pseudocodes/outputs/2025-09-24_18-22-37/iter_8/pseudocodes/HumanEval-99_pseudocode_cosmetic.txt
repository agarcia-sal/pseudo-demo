FUNCTION closest_integer(param0)
    IMPORT ceil, floor FROM math

    DECLARE tempA, tempB, tempC, tempD, tempE

    SET tempA TO 0
    SET tempA TO 0
    SET tempB TO 0

    SET tempC TO LENGTH OF param0
    SET tempD TO 0

    SET tempE TO 0
    FOR INDEX tempB = 0 ; tempB LESS THAN tempC ; tempB = tempB PLUS 1
        IF param0.at(tempB) EQUALS '.'
            tempA = tempA PLUS 1
        END IF
    END FOR

    IF tempA EQUALS 1
        SET tempD TO LENGTH OF param0
        WHILE param0.at(tempD MINUS 1) EQUALS '0' AND tempD GREATER THAN 0
            SET tempD TO tempD MINUS 1
            SET param0 TO SUBSTRING OF param0 FROM 0 TO tempD
        END WHILE
    END IF

    SET tempE TO FLOAT(param0)

    SWITCH
        CASE LENGTH OF param0 GREATER THAN OR EQUAL TO 2 AND param0.at(LENGTH OF param0 MINUS 2) EQUALS '.' AND param0.at(LENGTH OF param0 MINUS 1) EQUALS '5'
            IF tempE GREATER THAN 0
                SET tempB TO ceil(tempE)
            ELSE
                SET tempB TO floor(tempE)
            END IF
        BREAK
        CASE LENGTH OF param0 GREATER THAN 0
            SET tempB TO tempE ROUND
        BREAK
        DEFAULT
            SET tempB TO 0
    END SWITCH

    RETURN tempB
END FUNCTION