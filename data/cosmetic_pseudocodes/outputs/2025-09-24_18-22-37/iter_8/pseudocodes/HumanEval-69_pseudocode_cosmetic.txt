FUNCTION search(sequence_of_numbers)
  SET counts_array TO array_of_zeros WITH SIZE (maximum_value_in sequence_of_numbers) INCREMENTED BY 1
  SET iterator_var TO 0
  WHILE iterator_var LESS THAN LENGTH(sequence_of_numbers)
    SET current_element TO sequence_of_numbers.at(iterator_var)
    SET current_frequency TO counts_array.at(current_element)
    SET updated_frequency TO current_frequency PLUS 1
    SET counts_array AT current_element TO updated_frequency
    SET iterator_var TO iterator_var PLUS 1
  END WHILE

  SET result_value TO -1
  SET position_var TO 1
  WHILE position_var LESS THAN LENGTH(counts_array)
    SET current_count TO counts_array AT position_var
    IF current_count GREATER THAN OR EQUAL TO position_var THEN
      SET result_value TO position_var
    END IF
    SET position_var TO position_var PLUS 1
  END WHILE

  RETURN result_value
END FUNCTION