FUNCTION is_nested(text)
    SET start_positions TO empty list
    SET end_positions TO empty list
    SET ptr TO 0
    SET text_length TO LENGTH OF text
    WHILE ptr LESS THAN text_length
        SET ch TO text.at(ptr)
        IF ch EQUALS '['
            APPEND ptr TO start_positions
        ELSE
            APPEND ptr TO end_positions
        ENDIF
        SET ptr TO ptr PLUS 1
    ENDWHILE
    CALL end_positions.REVERSE()
    SET matched_count TO 0
    SET end_ptr TO 0
    SET end_len TO LENGTH OF end_positions
    FOR element IN start_positions
        IF end_ptr LESS THAN end_len
            IF element LESS THAN end_positions.at(end_ptr)
                SET matched_count TO matched_count PLUS 1
                SET end_ptr TO end_ptr PLUS 1
            ENDIF
        ENDIF
    ENDFOR
    RETURN matched_count GREATER THAN OR EQUAL TO 2
END FUNCTION