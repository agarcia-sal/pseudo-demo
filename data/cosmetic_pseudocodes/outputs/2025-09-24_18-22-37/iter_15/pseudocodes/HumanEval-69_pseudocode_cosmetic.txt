FUNCTION search(array_of_numbers)
    SET helper_array TO list_of_zeros WITH LENGTH (maximum_value_in array_of_numbers) PLUS 1
    SET pointer TO 0
    WHILE pointer LESS THAN length_of array_of_numbers
        SET current_element TO array_of_numbers.at(pointer)
        SET old_value TO helper_array.at(current_element)
        SET new_value TO old_value + 1
        SET helper_array.at(current_element) TO new_value
        SET pointer TO pointer + 1
    END WHILE

    SET result TO -1
    SET idx TO 1
    WHILE idx LESS THAN length_of helper_array
        SET frequency_value TO helper_array.at(idx)
        IF frequency_value GREATER THAN OR EQUAL TO idx THEN
            SET result TO idx
        END IF
        SET idx TO idx + 1
    END WHILE

    RETURN result
END FUNCTION