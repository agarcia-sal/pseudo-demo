FUNCTION get_closest_vowel(snarfle)
    DECLARE huzzy AS INTEGER
    DECLARE pimjam AS STRING
    SET pimjam TO ""
    IF NOT (LENGTH OF snarfle >= 3) THEN
        RETURN pimjam
    END IF

    DECLARE brizzle AS SET OF STRING
    SET brizzle TO {"a", "e", "i", "o", "u", "A", "E", "O", "U", "I"}

    SET huzzy TO LENGTH OF snarfle - 2
    WHILE huzzy >= 1
        DECLARE zibber AS STRING
        SET zibber TO snarfle AT huzzy

        IF brizzle CONTAINS zibber THEN
            DECLARE kablooey AS BOOLEAN
            DECLARE plimplam AS BOOLEAN

            SET kablooey TO (brizzle CONTAINS (snarfle AT (huzzy + 1)))
            SET plimplam TO (brizzle CONTAINS (snarfle AT (huzzy - 1)))

            IF kablooey IS NOT true AND plimplam IS NOT true THEN
                RETURN zibber
            END IF
        END IF
        SET huzzy TO huzzy - 1
    END WHILE

    RETURN pimjam
END FUNCTION