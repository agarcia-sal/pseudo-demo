FUNCTION largest_prime_factor(xw)
  
  FUNCTION is_prime(xp)
    IF xp < 2 THEN
      RETURN False
    END IF

    SET qz TO 2
    WHILE qz < xp DO
      SET qc TO xp MODULO qz
      IF qc = 0 THEN
        RETURN False
      END IF
      SET qz TO qz + 1
    END WHILE

    RETURN True
  END FUNCTION

  DECLARE yn = 1
  SET yd TO 2
  WHILE yd <= xw DO
    DECLARE df = xw MODULO yd
    IF df = 0 THEN
      IF is_prime(yd) = True THEN
        IF yn < yd THEN
          SET yn = yd
        END IF
      END IF
    END IF
    SET yd = yd + 1
  END WHILE
  RETURN yn
END FUNCTION