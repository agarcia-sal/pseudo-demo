FUNCTION search(numbers)
    LET counts TO new list filled with 0 having size (maximum number in numbers) plus 0x1
    LET iterator TO 0
    WHILE iterator LESS THAN length of numbers
        LET element TO numbers.at(iterator)
        LET prev_count TO counts.at(element)
        LET next_count TO prev_count plus 0x1
        SET counts.at(element) TO next_count
        SET iterator TO iterator plus 0b1
    LET result TO negative 0b1
    LET pos TO 1
    REPEAT
        IF counts.at(pos) greater than or equal to pos THEN
            SET result TO pos
        END IF
        SET pos TO pos plus 1
    UNTIL pos greater than (length of counts minus 1)
    RETURN result
END FUNCTION