FUNCTION common(list1, list2)  
    INITIALIZE collection_found AS empty set  
    SET index_outer TO 0  
    WHILE index_outer LESS THAN list1.length  
        SET current_outer_element TO list1.at(index_outer)  
        SET index_inner TO 0  
        REPEAT  
            IF index_inner GREATER OR EQUAL list2.length THEN BREAK  
            SET current_inner_element TO list2.at(index_inner)  
            IF current_outer_element IS EQUAL TO current_inner_element THEN  
                INSERT current_outer_element INTO collection_found  
            END IF  
            SET index_inner TO index_inner + 1  
        UNTIL FALSE  
        SET index_outer TO index_outer + 1  
    END WHILE  
    SET sorted_result TO SORT(collection_found)  
    RETURN sorted_result  
END FUNCTION