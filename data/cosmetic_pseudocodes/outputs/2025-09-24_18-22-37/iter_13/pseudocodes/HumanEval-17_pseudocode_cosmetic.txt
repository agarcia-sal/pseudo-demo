FUNCTION parse_music(music_string)
    DECLARE duration_lookup AS DICTIONARY
    SET duration_lookup['o|'] = 2
    SET duration_lookup['o'] = 4
    SET duration_lookup['.|'] = 1

    DECLARE result_list AS LIST
    SET result_list = EMPTY LIST

    DECLARE tokens AS LIST
    SET tokens = SPLIT music_string BY " "

    DECLARE index_counter AS INTEGER
    SET index_counter = 0

    WHILE index_counter LESS THAN LENGTH OF tokens DO
        DECLARE current_note AS STRING
        SET current_note = tokens.at(index_counter)

        IF LENGTH OF current_note NOT EQUAL TO 0 THEN
            DECLARE mapped_duration AS INTEGER
            SET mapped_duration = duration_lookup[current_note]
            APPEND mapped_duration TO result_list
        END IF

        SET index_counter = index_counter + 1
    END WHILE

    RETURN result_list
END FUNCTION