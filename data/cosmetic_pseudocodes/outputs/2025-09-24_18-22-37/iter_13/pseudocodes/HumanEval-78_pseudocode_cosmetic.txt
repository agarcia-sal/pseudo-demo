FUNCTION hex_key(input_string)  
    DECLARE prime_chars AS ARRAY = ('2', '3', '5', '7', 'B', 'D')  
    DECLARE count_primes WITH INITIAL VALUE 0  
    DECLARE current_position WITH INITIAL VALUE 0  
    WHILE current_position < LENGTH(input_string)  
        DECLARE current_character = input_string.at(current_position)  
        SWITCH current_character  
            CASE '2'  
            CASE '3'  
            CASE '5'  
            CASE '7'  
            CASE 'B'  
            CASE 'D'  
                count_primes = count_primes + 1  
                BREAK  
            DEFAULT  
                BREAK  
        END SWITCH  
        current_position = current_position + 1  
    END WHILE  
    RETURN count_primes  
END FUNCTION