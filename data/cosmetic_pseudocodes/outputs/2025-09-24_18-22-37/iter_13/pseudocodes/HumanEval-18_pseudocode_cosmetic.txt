FUNCTION how_many_times(text_data, search_term)  
    SET result_counter = 0  
    SET position = 0  
    SET max_start = LENGTH(text_data) - LENGTH(search_term)  
    WHILE position <= max_start  
        SET slice_start = position  
        SET slice_end = slice_start + LENGTH(search_term)  
        SET segment = SUBSTRING(text_data, slice_start, slice_end)  
        IF segment == search_term THEN  
            result_counter = result_counter + 1  
        END IF  
        position = position + 1  
    END WHILE  
    RETURN result_counter  
END FUNCTION