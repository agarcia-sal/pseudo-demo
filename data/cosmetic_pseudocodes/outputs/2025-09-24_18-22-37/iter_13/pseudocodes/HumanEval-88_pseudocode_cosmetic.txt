FUNCTION sort_array(sequence)  
    SET initial_length = LENGTH OF sequence  
    IF initial_length NOT EQUAL TO 0 THEN  
        SET first_element = sequence.at(0)  
        SET last_element_index = initial_length MINUS 1  
        SET last_element = sequence.at(last_element_index)  
        SET sum_ends = first_element PLUS last_element  
        SET even_sum_flag = FALSE  
        IF sum_ends MODULO 2 EQUALS 0 THEN  
            SET even_sum_flag = TRUE  
        END IF  
        SET sorted_sequence = SORTED COPY OF sequence WITH descending order AS even_sum_flag  
        RETURN sorted_sequence  
    ELSE  
        RETURN LIST WITH ZERO ELEMENTS  
    END IF  
END FUNCTION