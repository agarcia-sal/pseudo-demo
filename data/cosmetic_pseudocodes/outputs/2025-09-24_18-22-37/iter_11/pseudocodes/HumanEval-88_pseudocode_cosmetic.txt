FUNCTION sort_array(collection)  
    DECLARE length_of_collection AS INTEGER = LENGTH OF collection  
    IF length_of_collection EQUALS 0 THEN  
        RETURN list()  
    ELSE  
        DECLARE first_element AS INTEGER = collection.at(0)  
        DECLARE last_element AS INTEGER = collection.at(length_of_collection - 1)  
        DECLARE combined_sum AS INTEGER = first_element + last_element  
        DECLARE is_descending AS BOOLEAN  
        DECLARE remainder AS INTEGER = combined_sum MOD 2  
        IF remainder EQUALS 0 THEN  
            is_descending = TRUE  
        ELSE  
            is_descending = FALSE  
        END IF  
        DECLARE sorted_collection AS LIST  
        SET sorted_collection = SORTED(collection, descending = is_descending)  
        RETURN sorted_collection  
    END IF  
END FUNCTION