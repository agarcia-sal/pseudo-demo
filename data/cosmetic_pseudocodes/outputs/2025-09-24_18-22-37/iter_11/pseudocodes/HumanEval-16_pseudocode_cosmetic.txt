FUNCTION count_distinct_characters(input_string_param)  
    DECLARE lowercase_version AS STRING  
    DECLARE char_set AS SET  
    DECLARE character_index AS INTEGER  
    DECLARE current_character AS CHARACTER  
    DECLARE distinct_count AS INTEGER  

    lowercase_version = EMPTY_STRING  
    char_set = EMPTY_SET  
    character_index = 0  
    WHILE character_index < LENGTH(input_string_param)  
        current_character = input_string_param.at(character_index)  
        DECLARE lower_char AS CHARACTER  
        lower_char = TO_LOWERCASE(current_character)  
        lowercase_version = lowercase_version + lower_char  
        character_index = character_index + 1  
    END WHILE

    character_index = 0  
    distinct_count = 0  
    WHILE character_index < LENGTH(lowercase_version)  
        current_character = lowercase_version[character_index]  
        IF current_character NOT IN char_set THEN  
            char_set = char_set UNION {current_character}  
        END IF  
        character_index = character_index + 1  
    END WHILE

    distinct_count = SIZE_OF(char_set)  
    RETURN distinct_count  
END FUNCTION