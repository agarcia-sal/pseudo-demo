FUNCTION median(list_of_elements)
    
    SET sorted_copy TO SORTED COPY OF list_of_elements

    SET total_count TO LENGTH OF sorted_copy

    SET is_odd TO (total_count MOD 2) NOT EQUAL TO 0

    IF NOT is_odd THEN

        SET middle_index TO total_count DIV 2

        SET left_mid_element TO sorted_copy[middle_index - 1]

        SET right_mid_element TO sorted_copy[middle_index]

        SET sum_of_mids TO left_mid_element + right_mid_element

        SET median_value TO sum_of_mids / 2.0

    ELSE

        SET middle_index TO total_count DIV 2

        SET median_value TO sorted_copy[middle_index]

    END IF

    RETURN median_value

END FUNCTION