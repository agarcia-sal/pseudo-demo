FUNCTION sort_array(numerical_collection)
    DEFINE intermediate_list
    DEFINE bit_count_key
    SET intermediate_list TO SORT array_elements IN numerical_collection BY ASCENDING
    SET final_list_to_return TO SORT intermediate_list WITH KEY AS
        BEGIN
            SET binary_string := TO_BINARY_STRING OF current_item
            SET filtered_binary := REMOVE_PREFIX '0b' FROM binary_string
            SET bit_total := COUNT_CHAR '1' IN filtered_binary
            RETURN bit_total
        END
    RETURN final_list_to_return
END FUNCTION