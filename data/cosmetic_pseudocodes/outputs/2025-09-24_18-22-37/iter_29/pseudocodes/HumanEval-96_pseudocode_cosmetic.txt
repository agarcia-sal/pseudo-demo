```
FUNCTION count_up_to(m)
    SET result TO []
    SET p TO 2
    WHILE p < m
        SET prime_flag TO true
        SET q TO 2
        WHILE q < p
            IF (p MOD q) == 0 THEN
                prime_flag = false
                GOTO end_inner
            END IF
            SET q TO q + 1
        END WHILE
        end_inner:
        IF prime_flag != false THEN
            result.APPEND(p)
        END IF
        SET p TO p + 1
    END WHILE
    RETURN result
END FUNCTION
```