FUNCTION median(array_input)  
    SET sorted_array TO DUPLICATE array_input  
    CALL sorted_array.SORT()  
    
    SET size TO LENGTH OF sorted_array  
    SET midpoint TO size DIV 2  
    
    IF (size MOD 2) â‰  0 THEN  
        SET center_value TO sorted_array.at(midpoint)  
        RETURN center_value  
    END IF  
    
    SET lower_mid TO sorted_array.at(midpoint - 1)  
    SET upper_mid TO sorted_array.at(midpoint)  
    SET median_result TO (lower_mid + upper_mid) / 2.0  
    RETURN median_result  
END FUNCTION