```
FUNCTION parse_music(music_string) 
    DECLARE temp_map AS DICTIONARY
    DECLARE results AS LIST
    DECLARE token AS STRING
    SET temp_map = NEW DICTIONARY
    temp_map['o|'] = 2
    temp_map['o'] = 4
    temp_map['.|'] = 1
    DECLARE notes AS LIST
    SET notes = SPLIT(music_string, ' ')
    DECLARE idx AS INTEGER
    SET idx = 0
    WHILE idx < LENGTH(notes) DO
        SET token = notes.at(idx)
        IF token != '' THEN 
            APPEND temp_map.at(token) TO results
        END IF
        SET idx = idx + 1
    END WHILE
    RETURN results
END FUNCTION
```