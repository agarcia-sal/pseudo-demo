```
FUNCTION median(collection)
  DECLARE sorted_version
  SET sorted_version TO EMPTY LIST
  FOR idx IN 0 TO LENGTH OF collection - 1
    APPEND collection[idx] TO sorted_version
  END FOR
  CALL SORT(sorted_version)
  DECLARE total_elements
  SET total_elements TO LENGTH OF sorted_version
  DECLARE midpoint
  SET midpoint TO total_elements / 2
  IF (total_elements MOD 2) â‰  0 THEN
    RETURN sorted_version[midpoint]
  END IF
  DECLARE left_center
  DECLARE right_center
  SET left_center TO sorted_version[midpoint - 1]
  SET right_center TO sorted_version[midpoint]
  DECLARE median_value
  SET median_value TO (left_center + right_center) / 2.0
  RETURN median_value
END FUNCTION
```