```
FUNCTION flip_case(alpha)
  DECLARE delta CHAR
  DECLARE result STRING
  SET result TO EMPTY_STRING
  DECLARE idx INTEGER
  SET idx TO 0
  WHILE idx < LENGTH(alpha) DO
     SET delta TO alpha.AT(idx)
     IF delta >= 'a' AND delta <= 'z' THEN
        SET delta TO CHAR(ASCII(delta) - 32)
     ELSE
        IF delta >= 'A' AND delta <= 'Z' THEN
           SET delta TO CHAR(ASCII(delta) + 32)
        END IF
     END IF
     SET result TO result + delta
     SET idx TO idx + 1
  END WHILE
  RETURN result
END FUNCTION
```