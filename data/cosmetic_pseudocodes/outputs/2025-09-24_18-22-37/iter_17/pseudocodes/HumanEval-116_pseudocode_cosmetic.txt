```
FUNCTION sort_array(list_of_ints)
     VAR temp_list1
     VAR result_list
     VAR iterator_var
     iterator_var=0
     temp_list1=[]

     WHILE iterator_var < LENGTH(list_of_ints)
         temp_list1.INSERT_AT_END(list_of_ints.AT(iterator_var))
         iterator_var=iterator_var+1
     END WHILE

     temp_list1 = temp_list1.SORTED_ASCENDING()
     VAR temp_list2 = []
     VAR iterator_idx=0

     WHILE iterator_idx < LENGTH(temp_list1)
         temp_list2.INSERT_AT_END(temp_list1.AT(iterator_idx))
         iterator_idx=iterator_idx+1
     END WHILE

     result_list = temp_list2.SORTED(
         FUNCTION(curr_val)
             VAR bin_representation = ""
             VAR count_ones = 0
             VAR str_index = 2

             bin_representation = BINARY_STRING_OF(curr_val)
             count_ones = 0

             WHILE str_index < LENGTH(bin_representation)
                 IF bin_representation.AT(str_index) == '1' THEN
                     count_ones = count_ones + 1
                 END IF
                 str_index = str_index + 1
             END WHILE
             RETURN count_ones
         END FUNCTION
     )
     RETURN result_list
END FUNCTION
```