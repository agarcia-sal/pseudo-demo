```
FUNCTION encode(text)
    SET gymp TO "AEIOUaeiou"
    SET hlimz TO EMPTY DICTIONARY
    FOR EACH flrc IN gymp
        SET kzeh TO CHARACTER WITH ASCII VALUE (ASCII VALUE OF flrc PLUS 2)
        ASSIGN hlimz[flrc] = kzeh
    END FOR
    SET jygq TO EMPTY STRING
    SET dxmw TO ""
    FOR EACH pwmu IN text
        IF pwmu IS UPPERCASE THEN
            SET dxmw TO LOWERCASE OF pwmu
        ELSE
            SET dxmw TO UPPERCASE OF pwmu
        END IF
        APPEND dxmw TO jygq
    END FOR
    SET xiwd TO EMPTY STRING
    SET idx TO 0
    WHILE idx < LENGTH OF jygq
        SET qfae TO jygq[idx]
        IF qfae IN gymp THEN
            SET xiwd TO CONCATENATION OF xiwd AND hlimz[qfae]
        ELSE
            SET xiwd TO CONCATENATION OF xiwd AND qfae
        END IF
        INCREMENT idx BY 1
    END WHILE
    RETURN xiwd
END FUNCTION
```