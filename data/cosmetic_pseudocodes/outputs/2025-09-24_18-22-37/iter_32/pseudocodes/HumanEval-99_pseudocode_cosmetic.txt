```
FUNCTION closest_integer(input_str)
    IMPORT floor, ceil FROM math

    DECLARE idx
    DECLARE temp_num
    DECLARE res
    DECLARE last_two_chars
    DECLARE dot_count

    dot_count <- 0
    FOR idx FROM 1 TO LENGTH(input_str)
        IF input_str[idx] = '.'
            dot_count <- dot_count + 1
        END IF
    END FOR

    IF dot_count = 1
        WHILE LENGTH(input_str) > 0 AND input_str[LENGTH(input_str)] = '0'
            input_str <- SUBSTRING(input_str, 1, LENGTH(input_str) - 1)
        END WHILE
    END IF

    temp_num <- TO_FLOAT(input_str)

    last_two_chars <- ''
    IF LENGTH(input_str) >= 2 THEN
        last_two_chars <- CONCAT(input_str[LENGTH(input_str) - 1], input_str[LENGTH(input_str)])
    END IF

    IF last_two_chars = '.5'
        IF temp_num > 0
            res <- ceil(temp_num)
        ELSE
            res <- floor(temp_num)
        END IF
    ELSE
        IF LENGTH(input_str) > 0
            res <- ROUND(temp_num)
        ELSE
            res <- 0
        END IF
    END IF

    RETURN res
END FUNCTION
```