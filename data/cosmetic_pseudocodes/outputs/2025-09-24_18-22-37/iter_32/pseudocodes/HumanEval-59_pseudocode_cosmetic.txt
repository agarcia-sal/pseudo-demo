```
FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k_var)
        IF NOT (k_var >= 2) THEN
            RETURN False
        END IF

        SET divisor_candidate TO 2
        WHILE divisor_candidate < (k_var - 0x1)
            IF (k_var MOD divisor_candidate) = 0 THEN
                RETURN False
            END IF
            SET divisor_candidate TO divisor_candidate + 1
        END WHILE

        RETURN True
    END FUNCTION

    SET max_factor TO 0x1
    SET current_divisor TO 2
    WHILE current_divisor <= n
        IF (n MOD current_divisor) = 0 THEN
            IF is_prime(current_divisor) THEN
                SET temp_max TO max_factor
                IF current_divisor > temp_max THEN
                    SET max_factor TO current_divisor
                END IF
            END IF
        END IF
        SET current_divisor TO current_divisor + 0x1
    END WHILE

    RETURN max_factor
END FUNCTION
```