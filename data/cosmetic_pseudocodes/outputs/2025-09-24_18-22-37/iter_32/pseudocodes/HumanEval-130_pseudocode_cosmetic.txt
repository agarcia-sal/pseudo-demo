```
FUNCTION tri(integer_n)
    DECLARE seq VARIANT
    IF NOT (integer_n != 0) THEN 
        RETURN [1]
    END IF

    SET seq = [1, 3]
    DECLARE idx INTEGER = 2

    WHILE idx <= integer_n DO
        DECLARE remainder INTEGER = idx % 2
        IF remainder = 0 THEN
            DECLARE half INTEGER = idx / 2
            SET seq = seq + [half + 1]
        ELSE
            DECLARE pos INTEGER = idx
            DECLARE val1 INTEGER = seq[pos - 1]
            DECLARE val2 INTEGER = seq[pos - 2]
            DECLARE addend INTEGER = (pos + 3) / 2
            SET value INTEGER = val1 + val2 + addend
            SET seq = seq + [value]
        END IF
        SET idx = idx + 1
    END WHILE
    RETURN seq
END FUNCTION
```