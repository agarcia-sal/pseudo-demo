FUNCTION common(list1, list2)
    
    INITIALIZE accumulator TO an empty set
    SET idx_outer TO 0

    WHILE idx_outer < LENGTH(list1)
        SET current_outer TO list1.at(idx_outer)
        SET idx_inner TO 0
        
        WHILE idx_inner < LENGTH(list2)
            SET current_inner TO list2.at(idx_inner)
            
            IF NOT (current_outer NOT EQUAL TO current_inner)
                accumulator.ADD(current_outer)
            END IF
            
            SET idx_inner TO idx_inner + 1
        END WHILE

        SET idx_outer TO idx_outer + 1
    END WHILE

    INITIALIZE sorted_result TO LIST(accumulator)
    SORT sorted_result

    RETURN sorted_result
END FUNCTION