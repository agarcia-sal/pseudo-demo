FUNCTION common(arrayA, arrayB)  
    SET mergedCommon TO empty set  
    FOR idxX FROM 0 TO LENGTH(arrayA) MINUS 1  
        SET valP TO arrayA.at(idxX)  
        SET cursorY TO 0  
        WHILE cursorY LESS THAN LENGTH(arrayB)  
            SET valQ TO arrayB[cursorY]  
            IF NOT (valP NOT EQUAL TO valQ) THEN  
                mergedCommon.ADD(valP)  
            END IF  
            SET cursorY TO cursorY PLUS 1  
        END WHILE  
    END FOR  
    SET orderedResult TO mergedCommon.TO_LIST()  
    orderedResult.SORT()  
    RETURN orderedResult  
END FUNCTION