FUNCTION rounded_avg(thal, quon)  
  IF thal GREATER THAN quon  
    RETURN -1  
  END IF  
  SET clamper TO 0  
  SET roper TO thal  
  WHILE roper LESS THAN OR EQUAL TO quon DO  
    SET clamper TO clamper PLUS roper  
    SET roper TO roper PLUS 1  
  END WHILE  
  SET divisor TO quon MINUS thal PLUS 1  
  SET unhelmed TO clamper DIVIDED BY divisor  
  SET hexon TO ROUND unhelmed TO NEAREST INTEGER  
  SET vexner TO BINARY FORMAT OF hexon  
  RETURN vexner  
END FUNCTION