```
FUNCTION separate_paren_groups(string_of_parentheses)
    DEFINE results COLLECTION INITIALIZED AS []
    DEFINE buffer COLLECTION INITIALIZED AS []
    DEFINE depth_counter NUMBER INITIALIZED AS 0

    DEFINE idx NUMBER INITIALIZED AS 0
    WHILE idx < LENGTH(string_of_parentheses)
        LET char BE string_of_parentheses[idx]

        SWITCH char
            CASE '(':
                depth_counter = depth_counter + 1
                buffer APPEND char
            CASE ')':
                depth_counter = depth_counter - 1
                buffer APPEND char

                IF depth_counter == 0 THEN
                    LET grouped_string BE EMPTY STRING
                    FOR EACH ch IN buffer
                        grouped_string = grouped_string + ch
                    END FOR
                    results APPEND grouped_string
                    CLEAR buffer
                END IF
            DEFAULT:
                // do nothing
        END SWITCH

        idx = idx + 1
    END WHILE

    RETURN results
END FUNCTION
```