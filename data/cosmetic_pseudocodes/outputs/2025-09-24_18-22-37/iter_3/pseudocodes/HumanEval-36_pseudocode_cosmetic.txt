```
FUNCTION fizz_buzz(integer_n)
    DEFINE helper_collect(accumulated, current)
        IF current >= integer_n THEN
            RETURN accumulated
        ELSE
            IF (current % 11 = 0) OR (current % 13 = 0) THEN
                RETURN helper_collect(accumulated + [current], current + 1)
            ELSE
                RETURN helper_collect(accumulated, current + 1)
            END IF
        END IF
    END DEFINE

    SET filtered_numbers TO helper_collect([], 0)

    DEFINE concat_all(elements, index)
        IF index = LENGTH(elements) THEN
            RETURN ""
        ELSE
            RETURN TO_STRING(elements[index]) + concat_all(elements, index + 1)
        END IF
    END DEFINE

    SET all_numbers_concatenated TO concat_all(filtered_numbers, 0)

    SET sevens_counter TO 0
    SET pos TO 0
    WHILE pos < LENGTH(all_numbers_concatenated) DO
        IF SUBSTRING(all_numbers_concatenated, pos, 1) = '7' THEN
            sevens_counter = sevens_counter + 1
        END IF
        pos = pos + 1
    END WHILE

    RETURN sevens_counter
END FUNCTION
```