```
FUNCTION hex_key(string_num)
    DECLARE prime_chars AS ('2', '3', '5', '7', 'B', 'D')
    DECLARE count_primes := 0
    DECLARE pos := 0

    WHILE pos < LENGTH(string_num)
        IF prime_chars CONTAINS string_num[pos]
            count_primes := count_primes + 1
        pos := pos + 1

    RETURN count_primes
END FUNCTION
```