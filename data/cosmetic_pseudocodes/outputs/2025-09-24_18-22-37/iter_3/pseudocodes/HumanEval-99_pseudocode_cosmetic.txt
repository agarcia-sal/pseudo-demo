```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    DEF trim_trailing_zeros(s):
        IF '.' IN s AND s.count('.') == 1:
            IF s[-1] == '0':
                RETURN trim_trailing_zeros(s[:-1])
            ELSE:
                RETURN s
        ELSE:
            RETURN s

    value = trim_trailing_zeros(value)

    num = float(value)

    IF value[-2:] == '.5':
        IF num > 0:
            result = ceil(num)
        ELSE:
            result = floor(num)
    ELSE:
        IF len(value) > 0:
            result = int(round(num))
        ELSE:
            result = 0

    RETURN result
END FUNCTION
```