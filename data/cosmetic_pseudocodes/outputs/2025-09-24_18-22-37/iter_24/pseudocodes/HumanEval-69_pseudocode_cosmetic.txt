```
FUNCTION search(list_of_integers)
    SET temp_max TO max_value_in list_of_integers
    SET freq_tracker TO list_of_zeros WITH LENGTH (temp_max + 1)
    SET outer_counter TO 0
    WHILE outer_counter < LENGTH OF list_of_integers
        SET current_val TO list_of_integers.at(outer_counter)
        SET freq_tracker.at(current_val) TO freq_tracker.at(current_val) + 1
        SET outer_counter TO outer_counter + 1
    END WHILE
    SET result_val TO -1
    SET inner_idx TO 1
    WHILE inner_idx <= (LENGTH OF freq_tracker - 1)
        SWITCH freq_tracker.at(inner_idx) >= inner_idx
            CASE TRUE:
                SET result_val TO inner_idx
            CASE FALSE:
                NO OPERATION
        END SWITCH
        SET inner_idx TO inner_idx + 1
    END WHILE
    RETURN result_val
END FUNCTION
```