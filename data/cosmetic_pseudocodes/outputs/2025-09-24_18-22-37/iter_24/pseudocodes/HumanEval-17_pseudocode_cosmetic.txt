```
FUNCTION parse_music(music_string)
    DECLARE index_counter AS INTEGER
    DECLARE split_notes AS LIST OF STRING
    DECLARE duration_lookup AS DICTIONARY
    DECLARE result_notes AS LIST OF INTEGER
    DECLARE temp_note AS STRING
    DECLARE temp_duration AS INTEGER
    
    SET duration_lookup TO DICTIONARY
        WITH KEYS 'o', 'o|', '.|' 
        AND ASSOCIATED VALUES 4, 2, 1
    
    SET split_notes TO SPLIT music_string BY " "
    SET index_counter TO 0
    SET result_notes TO EMPTY LIST
    
    WHILE index_counter < LENGTH OF split_notes DO
        SET temp_note TO split_notes.at(index_counter)
        IF temp_note != "" THEN
            SET temp_duration TO duration_lookup.at(temp_note)
            APPEND temp_duration TO result_notes
        END IF
        SET index_counter TO index_counter + 1
    END WHILE
    
    RETURN result_notes
END FUNCTION
```