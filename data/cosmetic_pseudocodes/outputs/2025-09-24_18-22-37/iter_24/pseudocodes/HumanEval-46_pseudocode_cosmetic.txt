```
FUNCTION fib4(integer_n)
    SET tmp_list TO LIST OF [0, 0, 2, 0]
    SET position_marker TO 4
    SET continue_flag TO TRUE
    SET interim_sum TO 0
    SET end_limit TO integer_n

    SWITCH TRUE
        CASE integer_n < 4:
            SET output_val TO tmp_list.at(integer_n)
            RETURN output_val
    END SWITCH

    WHILE continue_flag
        SET idx FROM 0
        SET interim_sum TO 0

        WHILE idx < 4
            SET interim_sum TO interim_sum + tmp_list.at(3 - idx)
            SET idx TO idx + 1
        END WHILE

        SET next_val TO interim_sum

        tmp_list.APPEND(next_val)
        tmp_list.REMOVE_AT(0)

        SET position_marker TO position_marker + 1

        IF position_marker > end_limit
            SET continue_flag TO FALSE
        END IF
    END WHILE

    SET result_val TO tmp_list.at(3)
    RETURN result_val
END FUNCTION
```