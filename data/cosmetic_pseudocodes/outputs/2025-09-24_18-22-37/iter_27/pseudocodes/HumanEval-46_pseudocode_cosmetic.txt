FUNCTION fib4(delta_q)
    SET beta_r TO [0, 0, 2, 0]
    IF NOT (delta_q >= 4)
        RETURN beta_r.at(delta_q)
    END IF

    SET zeta_s TO 4
    WHILE zeta_s <= delta_q
        SET chi_t TO beta_r.at(0)
        SET omega_u TO beta_r.at(1)
        SET alpha_v TO beta_r.at(2)
        SET gamma_w TO beta_r.at(3)
        SET kappa_x TO chi_t + omega_u
        SET lambda_y TO kappa_x + alpha_v
        SET next_value TO lambda_y + gamma_w

        APPEND next_value TO beta_r

        REMOVE beta_r.at(0)
        SET zeta_s TO zeta_s + 1
    END WHILE

    SET result_z TO beta_r.at(beta_r.length - 1)
    RETURN result_z
END FUNCTION