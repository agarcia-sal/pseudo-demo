FUNCTION search(input_collection)
  SET auxiliary_frequency_array TO array_filled_with_zeros_of_length(EVALUATE max_value_in input_collection ADD 1)
  SET iteration_counter TO 0
  WHILE iteration_counter LESS THAN LENGTH OF input_collection
    SET current_element TO input_collection.at(iteration_counter)
    SET previous_count TO auxiliary_frequency_array.at(current_element)
    SET updated_count TO previous_count ADD 1
    SET auxiliary_frequency_array AT current_element TO updated_count
    SET iteration_counter TO iteration_counter ADD 1
  END WHILE

  SET result_variable TO -1
  SET scan_index TO 1
  WHILE scan_index LESS THAN LENGTH OF auxiliary_frequency_array
    SET frequency_value TO auxiliary_frequency_array.at(scan_index)
    IF frequency_value GREATER THAN OR EQUAL TO scan_index THEN
      SET result_variable TO scan_index
    END IF
    SET scan_index TO scan_index ADD 1
  END WHILE
  RETURN result_variable
END FUNCTION