FUNCTION common(list1, list2)  
    SET collected TO empty set  
    SET outerIndex TO 0  
    WHILE outerIndex LESS THAN LENGTH(list1)  
        SET outerItem TO list1.at(outerIndex)  
        SET innerIndex TO 0  
        WHILE innerIndex LESS THAN LENGTH(list2)  
            SET innerItem TO list2.at(innerIndex)  
            SWITCH (outerItem EQUALS innerItem)  
                CASE TRUE:  
                    collected.ADD(outerItem)  
                DEFAULT:  
                    /* no action */  
            END SWITCH  
            innerIndex = innerIndex + 1  
        END WHILE  
        outerIndex = outerIndex + 1  
    END WHILE  
    SET sortedOutput TO SORT(LIST OF collected)  
    RETURN sortedOutput  
END FUNCTION