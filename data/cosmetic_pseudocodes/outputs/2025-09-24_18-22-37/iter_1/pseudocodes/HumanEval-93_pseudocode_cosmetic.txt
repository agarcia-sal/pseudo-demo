```
FUNCTION encode(message)
    DEFINE vowels AS "aeiouAEIOU"
    INITIALIZE vowels_replace AS EMPTY DICTIONARY
    FOR EACH character IN vowels DO
        SET shifted_char TO CHARACTER WITH ASCII VALUE (ASCII(character) + 2)
        ASSIGN vowels_replace[character] = shifted_char
    END FOR
    CONVERT message TO A LIST OF CHARACTERS WHERE EACH CHARACTER'S CASE IS SWITCHED (UPPER TO LOWER, LOWER TO UPPER)
    INITIALIZE result AS EMPTY LIST
    FOR EACH ch IN converted message DO
        IF ch EXISTS IN vowels_replace THEN
            APPEND vowels_replace[ch] TO result
        ELSE
            APPEND ch TO result
        END IF
    END FOR
    RETURN CONCATENATED STRING OF ELEMENTS IN result
END FUNCTION
```