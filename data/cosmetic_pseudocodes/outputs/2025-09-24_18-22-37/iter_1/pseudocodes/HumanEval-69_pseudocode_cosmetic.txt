```
FUNCTION search(list_of_integers)
    LET max_element BE MAXIMUM VALUE IN list_of_integers
    LET counts BE ARRAY OF ZEROS WITH SIZE max_element + 1
    FOR value IN list_of_integers DO
        counts[value] = counts[value] + 1
    END FOR
    LET result BE -1
    FOR idx FROM 1 TO LENGTH(counts) - 1 DO
        IF counts[idx] >= idx THEN
            result = idx
        END IF
    END FOR
    RETURN result
END FUNCTION
```