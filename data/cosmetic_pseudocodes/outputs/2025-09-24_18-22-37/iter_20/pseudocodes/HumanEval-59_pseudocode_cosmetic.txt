```
FUNCTION largest_prime_factor(n)
    
    FUNCTION is_prime(k)
        INITIALIZE p AS k 
        IF p < 2 THEN 
            RETURN False 
        END IF

        INITIALIZE q AS 2 
        WHILE q <= p - 1 DO
            INITIALIZE r AS p MODULO q 
            IF r EQUALS 0 THEN
                RETURN False 
            END IF
            SET q TO q + 1
        END WHILE
        
        RETURN True
    END FUNCTION

    INITIALIZE max_factor AS 1
    INITIALIZE divisor AS 2

    WHILE divisor <= n DO
        INITIALIZE remainder AS n MODULO divisor
        IF (remainder EQUALS 0) THEN
            IF is_prime(divisor) = True THEN
                IF max_factor < divisor THEN
                    SET max_factor TO divisor
                END IF
            END IF
        END IF
        SET divisor TO divisor + 1
    END WHILE

    RETURN max_factor
END FUNCTION
```