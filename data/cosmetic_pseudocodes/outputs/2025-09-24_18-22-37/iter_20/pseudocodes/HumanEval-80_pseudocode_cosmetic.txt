```
FUNCTION is_happy(token_seq) 
    DECLARE pos VARIANT_INTEGER
    DECLARE seq_len VARIANT_INTEGER
    DECLARE ch_a CHARACTER
    DECLARE ch_b CHARACTER
    DECLARE ch_c CHARACTER

    seq_len ← LENGTH OF token_seq

    IF NOT (seq_len >= (0x3)) THEN
        RETURN False
    END IF

    pos ← 0

    WHILE (pos <= (seq_len - (0x3))) DO
        ch_a ← token_seq AT pos
        ch_b ← token_seq AT (pos + 1)
        ch_c ← token_seq AT (pos + 2)

        IF ( (ch_a = ch_b) ∨ (ch_b = ch_c) ) THEN
            RETURN False
        ELSE
            IF (ch_a = ch_c) THEN
                RETURN False
            END IF
        END IF

        pos ← pos + 1
    END WHILE

    RETURN True
END FUNCTION
```