FUNCTION count_up_to(q)
    INITIALIZE r AS empty list
    SET s TO 2
    WHILE s < q
        SET t TO true
        SET u TO 2
        WHILE u < s
            IF (s MOD u) = 0 THEN
                SET t TO false
                EXIT inner loop
            ELSE
                SET u TO u + 1
            END IF
        END WHILE
        IF t = true THEN
            ADD s TO r
        END IF
        SET s TO s + 1
    END WHILE
    RETURN r
END FUNCTION