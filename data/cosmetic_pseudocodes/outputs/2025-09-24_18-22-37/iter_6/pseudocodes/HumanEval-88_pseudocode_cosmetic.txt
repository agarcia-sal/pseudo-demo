FUNCTION sort_array(sequence)
  IF LENGTH(sequence) IS 0 THEN
    RETURN []
  END IF

  DECLARE first_element := sequence[0]
  DECLARE last_element_index := LENGTH(sequence) - 1
  DECLARE last_element := sequence[last_element_index]
  DECLARE combined_sum := 0
  combined_sum := first_element + last_element

  DECLARE evenness_flag := FALSE
  IF (combined_sum MOD 2) IS 0 THEN
    evenness_flag := TRUE
  ELSE
    evenness_flag := FALSE
  END IF

  RETURN sorted(sequence, descending = evenness_flag)
END FUNCTION