FUNCTION median(list_of_elements)
    SET sorted_list TO COPY OF list_of_elements
    CALL SORT(sorted_list)
    SET count TO LENGTH OF sorted_list
    SET remainder TO count MOD 2
    IF remainder IS NOT EQUAL TO 0 THEN
        SET midpoint TO count DIV 2
        RETURN sorted_list[midpoint]
    ELSE
        SET midpoint TO count DIV 2
        SET first_mid TO sorted_list[midpoint - 1]
        SET second_mid TO sorted_list[midpoint]
        SET sum_midpoints TO first_mid + second_mid
        SET average TO sum_midpoints / 2.0
        RETURN average
END FUNCTION