FUNCTION is_sorted(array_values)  
    SET accumulator_map := empty dictionary  
    SET index_counter := 0  
    WHILE index_counter < LENGTH of array_values  
        SET key_lookup := array_values[index_counter]  
        accumulator_map[key_lookup] := 0  
        INCREMENT index_counter BY 1  
    END WHILE  
  
    SET position := 0  
    WHILE position < LENGTH of array_values  
        SET curr_key := array_values[position]  
        SET previous_count := accumulator_map[curr_key]  
        SET new_count := previous_count + 1  
        accumulator_map[curr_key] := new_count  
        INCREMENT position BY 1  
    END WHILE  
  
    SET check_index := 0  
    WHILE check_index < LENGTH of array_values  
        SET val_to_check := array_values[check_index]  
        IF accumulator_map[val_to_check] > 2 THEN  
            RETURN False  
        END IF  
        INCREMENT check_index BY 1  
    END WHILE  
  
    IF LENGTH of array_values < 2 THEN  
        RETURN True  
    END IF  
  
    SET pos := 1  
    WHILE pos < LENGTH of array_values  
        IF NOT (array_values[pos - 1] <= array_values[pos]) THEN  
            RETURN False  
        END IF  
        INCREMENT pos BY 1  
    END WHILE  
  
    RETURN True  
END FUNCTION