FUNCTION hex_key(input_str)
    SET prime_chars TO ('2', '3', '5', '7', 'B', 'D')
    SET count_primes TO 0
    SET pos TO 0
    WHILE pos < LENGTH(input_str)
        SET current_char TO input_str[pos]
        IF current_char NOT IN prime_chars THEN
            SET pos TO pos + 1
            CONTINUE
        ELSE
            count_primes := count_primes + 1
        END IF
        SET pos TO pos + 1
    END WHILE
    RETURN count_primes
END FUNCTION