FUNCTION mean_absolute_deviation(array_of_vals)
    DECLARE count AS INTEGER
    DECLARE average AS REAL
    DECLARE sum_abs_diff AS REAL
    DECLARE index AS INTEGER
    DECLARE current_val AS REAL
    DECLARE accumulator AS REAL

    count := LENGTH OF array_of_vals
    IF count IS 0 THEN
        RETURN 0
    END IF

    accumulator := 0
    index := 0
    WHILE index < count
        current_val := array_of_vals[index]
        accumulator := accumulator + current_val
        index := index + 1
    END WHILE

    average := accumulator / count

    sum_abs_diff := 0
    index := 0

    WHILE index < count
        current_val := array_of_vals[index]
        DECLARE diff AS REAL
        diff := current_val - average
        IF diff < 0 THEN
            diff := 0 - diff
        ELSE
            diff := diff
        END IF
        sum_abs_diff := sum_abs_diff + diff
        index := index + 1
    END WHILE

    average := sum_abs_diff / count

    RETURN average
END FUNCTION