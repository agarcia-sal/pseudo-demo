FUNCTION search(sequence_of_numbers)
LET counts_array := array_of_zeroes_of_size((maximum_element_in sequence_of_numbers) + 1)
LET iterator := 0
WHILE iterator < length_of(sequence_of_numbers)
    LET current_num := sequence_of_numbers[iterator]
    LET counts_array[current_num] := counts_array[current_num] + 1
    LET iterator := iterator + 1
LET result := -1
LET position := 1
WHILE position <= length_of(counts_array) - 1
    IF counts_array[position] < position THEN
        LET position := position + 1
        CONTINUE
    END IF
    LET result := position
    LET position := position + 1
END WHILE
RETURN result
END FUNCTION