FUNCTION vowels_count(input_str)
    SET candidate_vowels TO "aeiouAEIOU"
    SET total_vowel_count TO 0
    SET current_pos TO 0
    WHILE current_pos < LENGTH(input_str)
        SET current_char TO input_str.at(current_pos)
        IF candidate_vowels.at(0) == current_char OR candidate_vowels.at(1) == current_char OR candidate_vowels.at(2) == current_char OR candidate_vowels.at(3) == current_char OR candidate_vowels.at(4) == current_char OR candidate_vowels.at(5) == current_char OR candidate_vowels.at(6) == current_char OR candidate_vowels.at(7) == current_char OR candidate_vowels.at(8) == current_char OR candidate_vowels.at(9) == current_char
            total_vowel_count ← total_vowel_count + 1
        END IF
        current_pos ← current_pos + 1
    END WHILE

    SET last_index TO LENGTH(input_str) - 1
    IF last_index >= 0
        SET final_char TO input_str.at(last_index)
        IF final_char == 'y'
            total_vowel_count ← total_vowel_count + 1
        ELSE
            IF final_char == 'Y'
                total_vowel_count ← total_vowel_count + 1
            END IF
        END IF
    END IF

    RETURN total_vowel_count
END FUNCTION