FUNCTION largest_prime_factor(xz)
  FUNCTION is_prime(yq)
    IF yq LESS THAN 2 THEN
      RETURN False
    ENDIF
    SET vm TO 2
    WHILE vm LESS THAN yq
      SET wr TO yq MODULO vm
      IF wr EQUALS 0 THEN
        RETURN False
      ENDIF
      SET vm TO vm PLUS 1
    ENDWHILE
    RETURN True
  END FUNCTION

  SET zn TO 1
  SET bb TO 2
  WHILE bb LESS THAN OR EQUAL TO xz
    SET pd TO xz MODULO bb
    IF NOT (pd NOT EQUAL TO 0) THEN
      IF is_prime(bb) THEN
        SET zn TO largest_element(zn, bb)
      ENDIF
    ENDIF
    SET bb TO bb PLUS 1
  ENDWHILE
  RETURN zn
END FUNCTION