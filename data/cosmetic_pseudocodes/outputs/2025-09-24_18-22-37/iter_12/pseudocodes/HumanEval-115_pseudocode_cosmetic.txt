FUNCTION max_fill(matrix, limit)
    IMPORT math
    DECLARE total_sum <- 0
    DECLARE index_i <- 0
    FOR index_i < LENGTH(matrix) DO
        DECLARE row_sum <- 0
        DECLARE index_j <- 0
        WHILE index_j < LENGTH(matrix.at(index_i)) DO
            row_sum <- row_sum + matrix.at(index_i).at(index_j)
            index_j <- index_j + 1
        END WHILE
        DECLARE divided_value <- row_sum / limit
        DECLARE ceil_value <- math.ceil(divided_value)
        total_sum <- total_sum + ceil_value
        index_i <- index_i + 1
    END FOR
    RETURN total_sum
END FUNCTION