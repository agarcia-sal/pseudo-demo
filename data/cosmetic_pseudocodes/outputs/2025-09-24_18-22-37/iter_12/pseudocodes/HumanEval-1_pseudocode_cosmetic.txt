FUNCTION separate_paren_groups(input_string)
    SET results TO new empty list
    SET temp_chars TO new empty list
    SET depth_counter TO 0

    SET idx TO 0
    WHILE idx LESS THAN LENGTH(input_string)
        SET current_char TO input_string.at(idx)

        IF current_char EQUALS '(' THEN
            SET depth_counter TO depth_counter PLUS 1
            APPEND current_char TO temp_chars

        ELSE
            IF current_char EQUALS ')' THEN
                SET depth_counter TO depth_counter MINUS 1
                APPEND current_char TO temp_chars

                IF depth_counter EQUAL 0 THEN
                    SET group_string TO EMPTY_STRING
                    FOR pos FROM 0 TO LENGTH(temp_chars) MINUS 1
                        SET group_string TO group_string CONCAT temp_chars.at(pos)
                    END FOR
                    APPEND group_string TO results
                    CLEAR temp_chars
                END IF
            END IF
        END IF
        SET idx TO idx PLUS 1
    END WHILE

    RETURN results
END FUNCTION