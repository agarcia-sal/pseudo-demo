FUNCTION sort_array(collection)
  IF LENGTH(collection) LESS THAN 1 THEN
    RETURN []
  END IF

  DECLARE initial_element AS INTEGER
  DECLARE final_element AS INTEGER
  DECLARE sum_edge_values AS INTEGER
  DECLARE descending_flag AS BOOLEAN

  SET initial_element TO collection.at(0)
  SET final_element TO collection.at(LENGTH(collection) MINUS 1)
  SET sum_edge_values TO initial_element PLUS final_element

  IF (sum_edge_values MODULO 2) EQUALS 0 THEN
    SET descending_flag TO TRUE
  ELSE
    SET descending_flag TO FALSE
  END IF

  RETURN SORTED(collection) BY descending descending_flag
END FUNCTION