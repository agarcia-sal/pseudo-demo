```
FUNCTION count_distinct_characters(str_param)
    DECLARE char_set AS SET
    DECLARE idx AS INTEGER
    DECLARE length_val AS INTEGER
    DECLARE lower_char AS CHARACTER
    char_set = EMPTY SET
    length_val = LENGTH OF str_param
    idx = 0
    WHILE idx < length_val DO
        lower_char = TO_LOWERCASE(CHAR AT str_param[idx])
        IF NOT (lower_char IN char_set) THEN
            ADD lower_char TO char_set
        END IF
        idx = idx + 1
    END WHILE
    RETURN SIZE OF char_set
END FUNCTION
```