```
FUNCTION fib4(count)
    SET buffer TO [0, 0, 2, 0]

    IF NOT (count GREATER OR EQUAL 4)
        RETURN buffer[count]
    END IF

    SET index TO 4
    WHILE index LESS OR EQUAL count
        SET a TO buffer[0]
        SET b TO buffer[1]
        SET c TO buffer[2]
        SET d TO buffer[3]
        SET sum_of_last_four TO a + b + c + d

        CALL buffer.ADD(sum_of_last_four)
        CALL buffer.REMOVE_AT(0)

        SET index TO index + 1
    END WHILE

    RETURN buffer[buffer.LENGTH - (1)]
END FUNCTION
```