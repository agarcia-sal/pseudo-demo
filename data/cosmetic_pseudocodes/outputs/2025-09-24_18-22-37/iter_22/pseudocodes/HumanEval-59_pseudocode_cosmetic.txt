```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime_number(y)
        IF NOT (y GREATER THAN OR EQUAL TO 2)
            RETURN False
        SET m TO 2
        WHILE m LESS THAN y
            IF y MODULO m EQUALS 0
                RETURN False
            SET m TO m + 1
        RETURN True
    END FUNCTION

    SET max_factor TO 1
    SET divisor TO 2
    WHILE divisor LESS THAN OR EQUAL TO x
        IF NOT (x MODULO divisor NOT EQUAL TO 0 OR NOT is_prime_number(divisor))
            IF max_factor LESS THAN divisor
                SET max_factor TO divisor
        SET divisor TO divisor + 1
    RETURN max_factor
END FUNCTION
```