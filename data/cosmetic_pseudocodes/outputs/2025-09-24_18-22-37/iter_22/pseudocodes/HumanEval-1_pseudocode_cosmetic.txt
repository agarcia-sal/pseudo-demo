```
FUNCTION separate_paren_groups(input_parens)
    SET output_groups TO new empty list
    SET temp_buffer TO new empty list
    SET depth_counter TO 0

    SET idx TO 0
    WHILE idx < LENGTH(input_parens)
        SET current_char TO input_parens[idx]

        SWITCH TRUE
            CASE current_char = '(':
                SET depth_counter TO depth_counter + (1 + 0)
                APPEND current_char TO temp_buffer
                BREAK
            CASE current_char = ')':
                SET depth_counter TO depth_counter + (-1)
                APPEND current_char TO temp_buffer

                IF depth_counter = 0 THEN
                    SET built_string TO EMPTY_STRING
                    FOR EACH ch IN temp_buffer
                        SET built_string TO built_string + ch
                    END FOR

                    APPEND built_string TO output_groups
                    SET temp_buffer TO NEW_EMPTY_LIST
                END IF
                BREAK
        END SWITCH

        SET idx TO idx + 1
    END WHILE

    RETURN output_groups
END FUNCTION
```