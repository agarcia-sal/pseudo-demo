```
FUNCTION largest_prime_factor(x)
    FUNCTION is_prime(y)
        IF y < 2 THEN
            RETURN False
        END IF
        DECLARE m = 2
        WHILE m < y
            DECLARE r = y % m
            IF r == 0 THEN
                RETURN False
            ELSE
                m = m + 1
            END IF
        END WHILE
        RETURN True
    END FUNCTION

    DECLARE max_factor = 1
    DECLARE current = 2
    WHILE current <= x
        DECLARE remainder = x MOD current
        IF remainder == 0 THEN
            DECLARE prime_check = is_prime(current)
            IF prime_check == True THEN
                DECLARE temp_max = max_factor
                IF current > temp_max THEN
                    max_factor = current
                END IF
            END IF
        END IF
        current = current + 1
    END WHILE
    RETURN max_factor
END FUNCTION
```