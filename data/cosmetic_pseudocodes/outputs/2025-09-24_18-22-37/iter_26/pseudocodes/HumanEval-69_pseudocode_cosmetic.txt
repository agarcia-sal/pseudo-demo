```
FUNCTION search(list_of_integers)
    SET count_array TO new list filled with 0x0, size = (max of list_of_integers) + 0x1
    SET iterator_index TO 0
    WHILE iterator_index < LENGTH(list_of_integers)
        SET current_element TO list_of_integers.at(iterator_index)
        SET temporary_value TO count_array.at(current_element)
        SET count_array.at(current_element) TO temporary_value + 0x1
        SET iterator_index TO iterator_index + 0x1
    END WHILE
    
    SET result TO -0x1
    SET position TO 0x1
    WHILE position <= LENGTH(count_array) - 0x1
        SET occurrence TO count_array.at(position)
        IF NOT (occurrence < position)
            SET result TO position
        END IF
        SET position TO position + 0x1
    END WHILE
    
    RETURN result
END FUNCTION
```