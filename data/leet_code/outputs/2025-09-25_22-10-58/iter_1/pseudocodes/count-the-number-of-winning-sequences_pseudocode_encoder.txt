CLASS Solution  
    FUNCTION countWinningSequences(s)  
        FUNCTION calc(x, y)  
            IF x EQUALS y  
                RETURN zero  
            END IF  
            IF x LESS THAN y  
                IF x EQUALS zero AND y EQUALS two  
                    RETURN one  
                ELSE  
                    RETURN negative one  
                END IF  
            END IF  
            IF x EQUALS two AND y EQUALS zero  
                RETURN negative one  
            ELSE  
                RETURN one  
            END IF  
        END FUNCTION  
      
        FUNCTION dfs(i, j, k)  
            IF the LENGTH OF s MINUS i LESS THAN OR EQUAL TO j  
                RETURN zero  
            END IF  
            IF i GREATER THAN OR EQUAL TO the LENGTH OF s  
                IF j LESS THAN zero  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
            SET res TO zero  
            FOR each l IN values zero to two inclusive  
                IF l EQUALS k  
                    CONTINUE to next iteration  
                END IF  
                SET res TO res PLUS dfs(i PLUS one, j PLUS calc(value at position i of d, l), l)  
                SET res TO the remainder of res DIVIDED BY mod  
            END FOR  
            RETURN res  
        END FUNCTION  
      
        SET mod TO one billion PLUS seven  
        SET d TO a map with key F mapped to zero key W mapped to one key E mapped to two  
        SET ans TO dfs(zero, zero, negative one)  
        CALL dfs cache clear method  
        RETURN ans  
    END FUNCTION  
END CLASS