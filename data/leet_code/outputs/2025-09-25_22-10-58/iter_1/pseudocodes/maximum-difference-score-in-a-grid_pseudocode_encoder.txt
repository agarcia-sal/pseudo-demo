CLASS Solution  
    FUNCTION maxScore(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET dp TO a list containing m elements each of which is a list containing n elements each set TO positive infinity  
        SET element at position zero of element at position zero of dp TO element at position zero of element at position zero of grid  
        SET max_score TO negative infinity  
        
        FOR j FROM one TO n MINUS one  
            SET element at position j of element at position zero of dp TO the lesser value BETWEEN element at position j MINUS one of element at position zero of dp AND element at position j of element at position zero of grid  
        END FOR  
        
        FOR i FROM one TO m MINUS one  
            SET element at position i of element at position zero of dp TO the lesser value BETWEEN element at position i MINUS one of element at position zero of dp AND element at position i of element at position zero of grid  
        END FOR  
        
        FOR i FROM one TO m MINUS one  
            FOR j FROM one TO n MINUS one  
                SET element at position j of element at position i of dp TO the lesser value BETWEEN element at position j of element at position i MINUS one of dp AND element at position j MINUS one of element at position i of dp  
                SET score TO element at position j of element at position i of grid MINUS element at position j of element at position i of dp  
                SET max_score TO the greater value BETWEEN max_score AND score  
            END FOR  
        END FOR  
        
        RETURN max_score  
    END FUNCTION  
END CLASS