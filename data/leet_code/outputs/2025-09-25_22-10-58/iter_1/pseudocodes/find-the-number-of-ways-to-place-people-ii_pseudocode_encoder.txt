CLASS Solution  
    FUNCTION numberOfPairs(points)  
        SORT points BY x-coordinate IN ASCENDING ORDER AND BY y-coordinate IN DESCENDING ORDER  
        SET n TO the LENGTH OF points  
        SET count TO zero  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM i PLUS one TO n MINUS one  
                SET x1 TO the x-coordinate OF element at position i of points  
                SET y1 TO the y-coordinate OF element at position i of points  
                SET x2 TO the x-coordinate OF element at position j of points  
                SET y2 TO the y-coordinate OF element at position j of points  
                IF x1 LESS THAN OR EQUAL TO x2 AND y1 GREATER THAN OR EQUAL TO y2  
                    SET valid TO True  
                    FOR k FROM i PLUS one TO j MINUS one  
                        SET xk TO the x-coordinate OF element at position k of points  
                        SET yk TO the y-coordinate OF element at position k of points  
                        IF x1 LESS THAN OR EQUAL TO xk AND xk LESS THAN OR EQUAL TO x2 AND y2 LESS THAN OR EQUAL TO yk AND yk LESS THAN OR EQUAL TO y1  
                            SET valid TO False  
                            BREAK out of the FOR loop  
                        END IF  
                    END FOR  
                    IF valid EQUALS True  
                        INCREMENT count BY one  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        RETURN count  
    END FUNCTION  
END CLASS