CLASS Solution  
    FUNCTION maximumSumSubsequence(nums, queries)  
        SET MOD TO ten raised to the power nine PLUS one  
        SET n TO the LENGTH OF nums  
        INITIALIZE dp_take AS a list of zero SETS with the LENGTH OF n  
        INITIALIZE dp_skip AS a list of zero SETS with the LENGTH OF n  
        SET element at position zero of dp_take TO the maximum of zero AND element at position zero of nums  
        SET element at position zero of dp_skip TO zero  
        FOR index i FROM one TO n MINUS one  
            SET element at position i of dp_take TO the maximum of zero AND element at position i MINUS one of dp_skip PLUS element at position i of nums  
            SET element at position i of dp_skip TO the maximum of element at position i MINUS one of dp_skip AND element at position i MINUS one of dp_take  
        END FOR  
        SET total_result TO zero  
        FOR each pos AND x IN queries  
            SET element at position pos of nums TO x  
            IF pos EQUALS zero  
                SET element at position pos of dp_take TO the maximum of zero AND element at position pos of nums  
                SET element at position pos of dp_skip TO zero  
            ELSE  
                SET element at position pos of dp_take TO the maximum of zero AND element at position pos MINUS one of dp_skip PLUS element at position pos of nums  
                SET element at position pos of dp_skip TO the maximum of element at position pos MINUS one of dp_skip AND element at position pos MINUS one of dp_take  
            END IF  
            FOR index i FROM pos PLUS one TO n MINUS one  
                SET element at position i of dp_take TO the maximum of zero AND element at position i MINUS one of dp_skip PLUS element at position i of nums  
                SET element at position i of dp_skip TO the maximum of element at position i MINUS one of dp_skip AND element at position i MINUS one of dp_take  
            END FOR  
            SET total_result TO the remainder of the sum of total_result AND the maximum of element at position n MINUS one of dp_take AND element at position n MINUS one of dp_skip DIVIDED BY MOD  
        END FOR  
        RETURN total_result  
    END FUNCTION  
END CLASS