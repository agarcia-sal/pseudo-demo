CLASS Solution  
    FUNCTION maxSelectedElements(nums)  
        SET ans TO zero  
        SET dp TO empty dictionary  
        FOR each num IN the list nums sorted in ascending order  
            SET element at position num plus one of dp TO the value at position num of dp if it exists otherwise zero PLUS one  
            SET element at position num of dp TO the value at position num minus one of dp if it exists otherwise zero PLUS one  
            SET ans TO the maximum value among ans the value at position num of dp and the value at position num plus one of dp  
        END FOR  
        RETURN ans  
    END FUNCTION  
END CLASS