CLASS Solution  
    FUNCTION answerString(word, numFriends)  
        IF numFriends EQUALS one  
            RETURN word  
        END IF  
        SET s TO CALL _lastSubstring WITH word  
        SET sz TO the LENGTH OF word MINUS numFriends PLUS one  
        RETURN substring from position one TO the MINIMUM VALUE BETWEEN the LENGTH OF s AND sz of s  
    END FUNCTION  
  
    FUNCTION _lastSubstring(s)  
        SET i TO zero  
        SET j TO one  
        SET k TO zero  
        WHILE j PLUS k LESS THAN the LENGTH OF s  
            IF element at position i PLUS k of s EQUALS element at position j PLUS k of s  
                INCREMENT k BY one  
            ELSE IF element at position i PLUS k of s GREATER THAN element at position j PLUS k of s  
                SET j TO j PLUS k PLUS one  
                SET k TO zero  
            ELSE  
                SET i TO the MAXIMUM VALUE BETWEEN i PLUS k PLUS one AND j  
                SET j TO i PLUS one  
                SET k TO zero  
            END IF  
        END WHILE  
        RETURN substring from position i PLUS one TO the end of s  
    END FUNCTION  
END CLASS