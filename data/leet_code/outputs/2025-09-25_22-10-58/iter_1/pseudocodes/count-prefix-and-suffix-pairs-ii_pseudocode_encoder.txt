CLASS Solution  
    FUNCTION countPrefixSuffixPairs(words)  
        SET count TO zero  
        SET seen TO a mapping from keys to integer counts with default zero  
        FOR each word IN the reverse order of words  
            FOR each key IN seen  
                IF word EQUALS the substring of key from position zero TO the position equal to the length of word MINUS one AND word EQUALS the substring of key from the position equal to the length of key MINUS the length of word TO the end of key  
                    INCREMENT count BY the value associated with key in seen  
                END IF  
            END FOR  
            INCREMENT the value associated with word in seen BY one  
        END FOR  
        RETURN count  
    END FUNCTION  
END CLASS