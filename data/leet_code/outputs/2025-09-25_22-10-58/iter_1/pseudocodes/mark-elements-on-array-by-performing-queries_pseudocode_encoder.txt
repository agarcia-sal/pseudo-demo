CLASS Solution  
    FUNCTION unmarkedSumArray(nums FUNCTION PARAMETER, queries FUNCTION PARAMETER) RETURNS list  
        SET min_heap TO empty list  
        FOR each index AND value IN the enumeration of nums  
            APPEND the pair of value and index TO min_heap  
        END FOR  
        CALL heapify ON min_heap  

        SET marked_indices TO empty set  
        SET total_sum TO the sum of all elements in nums  
        SET result TO empty list  

        FOR each index_i AND k_i IN queries  
            IF index_i NOT IN marked_indices THEN  
                ADD index_i TO marked_indices  
                SET total_sum TO total_sum MINUS the element at position index_i of nums  
            END IF  

            SET count TO zero  
            WHILE count LESS THAN k_i AND min_heap IS NOT empty  
                CALL heappop ON min_heap AND EXTRACT value AND index  
                IF index NOT IN marked_indices THEN  
                    ADD index TO marked_indices  
                    SET total_sum TO total_sum MINUS value  
                    INCREMENT count BY one  
                END IF  
            END WHILE  

            APPEND total_sum TO result  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS