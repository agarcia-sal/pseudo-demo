CLASS Solution  
    FUNCTION maximumSubarrayXor(nums PARAMETER, queries PARAMETER)  
        SET n TO the LENGTH OF nums  
        SET f TO a two dimensional list FILLED WITH zero ELEMENTS of SIZE n BY n  
        SET g TO a two dimensional list FILLED WITH zero ELEMENTS of SIZE n BY n  
        FOR i FROM n MINUS one TO zero DECREASING BY one  
            SET element at position i and position i of f TO element at position i of nums  
            SET element at position i and position i of g TO element at position i of nums  
            FOR j FROM i PLUS one TO n MINUS one INCREASING BY one  
                SET element at position i and position j of f TO element at position i and position j MINUS one of f XOR element at position i PLUS one and position j of f  
                SET element at position i and position j of g TO the MAXIMUM OF element at position i and position j of f AND element at position i and position j MINUS one of g AND element at position i PLUS one and position j of g  
            END FOR  
        END FOR  
        RETURN a list COMPRISING element at position l and position r of g FOR each pair l and r IN queries  
    END FUNCTION  
END CLASS