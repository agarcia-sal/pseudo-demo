CLASS Solution  
    FUNCTION lastNonEmptyString(s)  
        SET char_count TO result of counting the frequency of each character in the string s  
        SET max_freq TO the maximum value among all the frequency values in char_count  
        SET max_freq_chars TO a new set containing each character from char_count where the frequency value EQUALS max_freq  
        SET result TO an empty list to collect characters  
        FOR each character char IN the string s starting from the last character to the first character  
            IF the character char IS IN the set max_freq_chars  
                APPEND the character char TO the list result  
                REMOVE the character char FROM the set max_freq_chars  
            END IF  
        END FOR  
        RETURN the concatenation of all characters IN the list result iterated from last element to first element  
    END FUNCTION  
END CLASS