CLASS Solution  
    FUNCTION maximumLength(nums k)  
        SET n TO the LENGTH OF nums  
        SET f TO a two dimensional list where each element is one and there are n rows and k PLUS one columns  
        SET ans TO zero  
        FOR each index i AND element x IN nums  
            FOR each h FROM zero TO k  
                FOR each index j AND element y IN the elements from position zero TO position i MINUS one of nums  
                    IF x EQUALS y  
                        SET f at position i and h TO the GREATER OF f at position i and h AND f at position j and h PLUS one  
                    ELSE IF h GREATER THAN zero  
                        SET f at position i and h TO the GREATER OF f at position i and h AND f at position j and h MINUS one PLUS one  
                    END IF  
                END FOR  
            END FOR  
            SET ans TO the GREATER OF ans AND f at position i and k  
        END FOR  
        RETURN ans  
    END FUNCTION  
END CLASS