CLASS Solution  
    FUNCTION countPairs(nums)  
        CALL method TO sort nums IN PLACE  
        SET ans TO zero  
        SET cnt TO a default dictionary THAT RETURNS zero FOR ANY missing key  
        FOR each x IN nums  
            SET vis TO a new set CONTAINING x  
            SET s TO the list OF characters IN the string representation OF x  
            SET m TO the length OF s  
            FOR j FROM zero TO m MINUS one  
                FOR i FROM zero TO j MINUS one  
                    SWAP element at position i WITH element at position j IN s  
                    ADD the integer value OF the concatenation OF all elements IN s TO vis  
                    FOR q FROM i PLUS one TO m MINUS one  
                        FOR p FROM i PLUS one TO q MINUS one  
                            SWAP element at position p WITH element at position q IN s  
                            ADD the integer value OF the concatenation OF all elements IN s TO vis  
                            SWAP element at position p WITH element at position q IN s  
                        END FOR  
                    END FOR  
                    SWAP element at position i WITH element at position j IN s  
                END FOR  
            END FOR  
            INCREMENT ans BY the sum OF the values IN cnt CORRESPONDING TO each element IN vis  
            INCREMENT the value of cnt at key x BY one  
        END FOR  
        RETURN ans  
    END FUNCTION  
END CLASS