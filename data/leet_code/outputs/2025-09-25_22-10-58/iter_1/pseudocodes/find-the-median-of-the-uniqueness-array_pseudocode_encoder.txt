CLASS Solution  
    FUNCTION medianOfUniquenessArray(nums)  
        FUNCTION countLessOrEqual(target)  
            SET count TO zero  
            SET left TO zero  
            ASSIGN reference TO a new empty collection that counts elements  
            SET distinct_count TO zero  
            FOR right FROM zero TO the length of nums MINUS one  
                IF element count at element at position right of nums EQUALS zero  
                    INCREMENT distinct_count BY one  
                END IF  
                INCREMENT element count at element at position right of nums BY one  
                WHILE distinct_count GREATER THAN target  
                    DECREMENT element count at element at position left of nums BY one  
                    IF element count at element at position left of nums EQUALS zero  
                        DECREMENT distinct_count BY one  
                    END IF  
                    INCREMENT left BY one  
                END WHILE  
                INCREMENT count BY right MINUS left PLUS one  
            END FOR  
            RETURN count  
        END FUNCTION  
        SET total_subarrays TO the length of nums MULTIPLIED BY the length of nums PLUS one DIVIDED BY two  
        SET median_position TO total_subarrays PLUS one DIVIDED BY two  
        SET low TO one  
        SET high TO the length of nums  
        WHILE low LESS THAN high  
            SET mid TO low PLUS high DIVIDED BY two  
            IF countLessOrEqual(mid) LESS THAN median_position  
                SET low TO mid PLUS one  
            ELSE  
                SET high TO mid  
            END IF  
        END WHILE  
        RETURN low  
    END FUNCTION  
END CLASS