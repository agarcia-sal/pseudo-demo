CLASS Solution  
    FUNCTION minCostToEqualizeArray(nums cost1 cost2)  
        SET MOD TO one billion seven  
        SET n TO the LENGTH OF nums  
        SET minNum TO the MINIMUM element IN nums  
        SET maxNum TO the MAXIMUM element IN nums  
        SET summ TO the SUM OF nums  

        IF cost1 MULTIPLIED BY two LESS THAN OR EQUAL TO cost2 OR n LESS THAN three  
            SET totalGap TO maxNum MULTIPLIED BY n MINUS summ  
            RETURN cost1 MULTIPLIED BY totalGap MODULO MOD  
        END IF  

        FUNCTION getMinCost(target)  
            SET maxGap TO target MINUS minNum  
            SET totalGap TO target MULTIPLIED BY n MINUS summ  
            SET pairs TO the MINIMUM OF totalGap DIVIDED BY two AND totalGap MINUS maxGap  
            RETURN cost1 MULTIPLIED BY totalGap MINUS two MULTIPLIED BY pairs PLUS cost2 MULTIPLIED BY pairs  
        END FUNCTION  

        SET result TO the MINIMUM value OF getMinCost(target) FOR each target FROM maxNum TO two MULTIPLIED BY maxNum MINUS one  
        RETURN result MODULO MOD  
    END FUNCTION  
END CLASS