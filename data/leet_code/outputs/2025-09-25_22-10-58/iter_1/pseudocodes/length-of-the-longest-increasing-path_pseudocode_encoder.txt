CLASS Solution  
    FUNCTION maxPathLength(coordinates, k)  
        SET xk TO element at position zero of element at position k of coordinates  
        SET yk TO element at position one of element at position k of coordinates  
        SET leftCoordinates TO empty list  
        FOR each element x COMMA y IN coordinates  
            IF x LESS THAN xk AND y LESS THAN yk  
                APPEND tuple of x COMMA y TO leftCoordinates  
            END IF  
        END FOR  
        SET rightCoordinates TO empty list  
        FOR each element x COMMA y IN coordinates  
            IF x GREATER THAN xk AND y GREATER THAN yk  
                APPEND tuple of x COMMA y TO rightCoordinates  
            END IF  
        END FOR  
        RETURN one PLUS self CALLS _lengthOfLIS WITH leftCoordinates PLUS self CALLS _lengthOfLIS WITH rightCoordinates  
    END FUNCTION  

    FUNCTION _lengthOfLIS(coordinates)  
        SORT coordinates BY the first element IN INCREASING ORDER AND BY the second element IN DECREASING ORDER  
        SET tail TO empty list  
        FOR each element unused COMMA y IN coordinates  
            IF tail IS empty OR y GREATER THAN element at the last position of tail  
                APPEND y TO tail  
            ELSE  
                SET position TO result of calling bisect left on tail with y  
                SET element at position of tail TO y  
            END IF  
        END FOR  
        RETURN the LENGTH OF tail  
    END FUNCTION  
END CLASS