CLASS Solution  
    FUNCTION maxFrequency(nums, k, numOperations)  
        ASSIGN reference cnt TO a new default dictionary with integer default  
        ASSIGN reference d TO a new default dictionary with integer default  
        FOR each element x IN nums  
            INCREMENT the value at key x in cnt BY one  
            INCREMENT the value at key x in d BY zero  
            INCREMENT the value at key resulting from subtracting k from x in d BY one  
            DECREMENT the value at key resulting from adding k and one to x in d BY one  
        END FOR  
        SET ans TO zero  
        SET s TO zero  
        FOR each pair of key x and value t IN the items of d sorted by key  
            INCREMENT s BY t  
            SET ans TO the greater value between ans and the lesser value between s and the value at key x in cnt PLUS numOperations  
        END FOR  
        RETURN ans  
    END FUNCTION  
END CLASS