CLASS Solution  
    FUNCTION numberOfStableArrays(zero zero, one one, limit limit) RETURNS integer  
        SET MOD TO ten raised to the power of nine PLUS one  
  
        FUNCTION dp(z z, o o, last last, consecutive consecutive) RETURNS integer  
            IF z EQUALS zero AND o EQUALS zero THEN  
                RETURN one  
            END IF  
            IF z LESS THAN zero OR o LESS THAN zero THEN  
                RETURN zero  
            END IF  
  
            SET total TO zero  
            IF last EQUALS zero THEN  
                IF consecutive LESS THAN limit THEN  
                    INCREMENT total BY the result of dp with parameters z MINUS one o o zero zero consecutive PLUS one  
                END IF  
                INCREMENT total BY the result of dp with parameters z o MINUS one one one one  
            ELSE  
                IF z GREATER THAN zero THEN  
                    INCREMENT total BY the result of dp with parameters z MINUS one o zero one one  
                END IF  
                IF consecutive LESS THAN limit THEN  
                    INCREMENT total BY the result of dp with parameters z o MINUS one one consecutive PLUS one  
                END IF  
            END IF  
  
            RETURN total MODULO MOD  
        END FUNCTION  
  
        RETURN dp with parameters zero one MINUS one zero  
    END FUNCTION  
END CLASS