CLASS Solution  
    FUNCTION maximumScore(grid)  
        SET n TO the LENGTH OF grid  
        SET prefix TO a two dimensional list of size n BY n PLUS one with all elements INITIALIZED TO zero  
        SET prevPick TO a list of size n PLUS one INITIALIZED TO zero  
        SET prevSkip TO a list of size n PLUS one INITIALIZED TO zero  

        FOR j FROM zero TO n MINUS one  
            FOR i FROM zero TO n MINUS one  
                SET element at position i PLUS one of element at position j of prefix TO element at position i of element at position j of prefix PLUS element at position j of element at position i of grid  
            END FOR  
        END FOR  

        FOR j FROM one TO n MINUS one  
            SET currPick TO a list of size n PLUS one INITIALIZED TO zero  
            SET currSkip TO a list of size n PLUS one INITIALIZED TO zero  

            FOR curr FROM zero TO n  
                FOR prev FROM zero TO n  
                    IF curr GREATER THAN prev  
                        SET score TO element at position curr of element at position j MINUS one of prefix MINUS element at position prev of element at position j MINUS one of prefix  
                        SET element at position curr of currPick TO the maximum OF element at position curr of currPick AND element at position prev of prevSkip PLUS score  
                        SET element at position curr of currSkip TO the maximum OF element at position curr of currSkip AND element at position prev of prevSkip PLUS score  
                    ELSE  
                        SET score TO element at position prev of element at position j of prefix MINUS element at position curr of element at position j of prefix  
                        SET element at position curr of currPick TO the maximum OF element at position curr of currPick AND element at position prev of prevPick PLUS score  
                        SET element at position curr of currSkip TO the maximum OF element at position curr of currSkip AND element at position prev of prevPick  
                    END IF  
                END FOR  
            END FOR  

            ASSIGN currPick TO prevPick  
            ASSIGN currSkip TO prevSkip  
        END FOR  

        RETURN the maximum value IN prevPick  
    END FUNCTION  
END CLASS