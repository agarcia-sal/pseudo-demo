CLASS Solution  
    FUNCTION maxPartitionsAfterOperations(s parameter k parameter)  
        FUNCTION max_partitions(s parameter k parameter)  
            SET count variable TO zero  
            SET distinct_chars variable TO an empty set  
            FOR each character IN s parameter  
                IF the LENGTH OF distinct_chars variable LESS THAN k parameter THEN  
                    ADD the character TO distinct_chars variable  
                ELSE IF the character IS IN distinct_chars variable THEN  
                    CONTINUE to next iteration  
                ELSE  
                    INCREMENT count variable BY one  
                    SET distinct_chars variable TO a set containing the character  
                END IF  
            END FOR  
            IF distinct_chars variable IS NOT empty THEN  
                INCREMENT count variable BY one  
            END IF  
            RETURN count variable  
        END FUNCTION  
          
        SET max_parts variable TO the RESULT OF max_partitions called WITH s parameter AND k parameter  
        FOR i variable FROM zero TO the LENGTH OF s parameter MINUS one  
            FOR each new_char IN the sequence of letters from a TO z  
                IF new_char EQUALS the element at position i variable of s parameter THEN  
                    CONTINUE to next iteration  
                END IF  
                SET new_s variable TO the string formed BY concatenating the substring of s parameter from position zero TO position i variable MINUS one PLUS new_char PLUS the substring of s parameter from position i variable PLUS one TO the end  
                SET max_parts variable TO the GREATER OF max_parts variable AND the RESULT OF max_partitions called WITH new_s variable AND k parameter  
            END FOR  
        END FOR  
        RETURN max_parts variable  
    END FUNCTION  
END CLASS