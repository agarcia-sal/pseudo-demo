```
FUNCTION fib4(n)
    SET results TO [0, 0, 2, 0]
    IF n LESS THAN 4
        RETURN results AT INDEX n
    END IF

    FOR index FROM 4 TO n INCLUSIVE
        APPEND sum of last four elements of results TO results
        REMOVE first element from results
    END FOR

    RETURN last element of results
END FUNCTION
```