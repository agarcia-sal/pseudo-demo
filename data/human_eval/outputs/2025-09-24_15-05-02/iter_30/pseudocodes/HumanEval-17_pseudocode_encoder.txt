```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH 'o' MAPPED TO 4, 'o|' MAPPED TO 2, '.|' MAPPED TO 1
    RETURN LIST OF note_map[element] FOR EACH element IN SPLIT music_string BY SPACE WHERE element IS NOT EMPTY
END FUNCTION
```