```
FUNCTION vowels_count(input_string)
    SET vowel_characters TO "aeiouAEIOU"
    SET vowel_count TO 0
    FOR each character IN input_string
        IF character IS IN vowel_characters
            INCREMENT vowel_count BY 1
        END IF
    END FOR
    IF LAST CHARACTER OF input_string IS 'y' OR 'Y'
        INCREMENT vowel_count BY 1
    END IF
    RETURN vowel_count
END FUNCTION
```