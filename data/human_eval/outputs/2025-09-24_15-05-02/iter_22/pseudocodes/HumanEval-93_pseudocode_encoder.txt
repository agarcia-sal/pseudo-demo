```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    INITIALIZE vowels_replace AS EMPTY DICTIONARY
    FOR each vowel_letter IN vowels
        SET vowels_replace[vowel_letter] TO CHARACTER WITH ASCII VALUE (ASCII OF vowel_letter + 2)
    SET swapped_message TO message WITH CASE OF EACH LETTER SWAPPED
    INITIALIZE encoded_message AS EMPTY STRING
    FOR each character IN swapped_message
        IF character IS IN vowels_replace
            APPEND vowels_replace[character] TO encoded_message
        ELSE
            APPEND character TO encoded_message
    RETURN encoded_message
END FUNCTION
```