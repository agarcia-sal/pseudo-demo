```
FUNCTION fib4(n)
    SET initial_values TO [0, 0, 2, 0]
    IF n LESS THAN 4
        RETURN initial_values[n]
    FOR index FROM 4 TO n
        SET next_value TO initial_values[3] + initial_values[2] + initial_values[1] + initial_values[0]
        REMOVE first element FROM initial_values
        APPEND next_value TO initial_values
    RETURN initial_values[3]
END FUNCTION
```