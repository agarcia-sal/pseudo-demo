```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY WITH KEYS AS EACH vowel IN vowels MAPPED TO CHARACTER WITH ASCII VALUE OF ASCII VALUE OF vowel PLUS 2
    SET message TO message WITH CASE OF ALL LETTERS SWAPPED
    RETURN STRING FOR EACH character IN message WHERE character IS REPLACED BY vowels_replace VALUE IF character IS IN vowels OTHERWISE character
END FUNCTION
```