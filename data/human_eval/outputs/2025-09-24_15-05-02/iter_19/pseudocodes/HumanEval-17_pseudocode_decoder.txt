```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH 'o' MAPPED TO 4, 'o|' MAPPED TO 2, '.|' MAPPED TO 1
    SET notes_list TO SPLIT music_string BY SPACE
    SET result_list TO EMPTY LIST
    FOR each note IN notes_list
        IF note IS NOT EMPTY
            APPEND note_map[note] TO result_list
    RETURN result_list
END FUNCTION
```