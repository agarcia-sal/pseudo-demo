```
FUNCTION sort_array(array)
    RETURN array SORTED BY
        FIRST: ascending decimal value
        THEN: ascending count of ones in binary representation of each element
END FUNCTION
```