```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    CREATE vowels_replace AS DICTIONARY MAPPING each vowel TO CHARACTER with ASCII value 2 greater than vowel's ASCII value
    SET message TO message WITH LETTER CASES SWAPPED
    SET encoded_message TO EMPTY STRING
    FOR each character IN message
        IF character IS IN vowels
            APPEND vowels_replace[character] TO encoded_message
        ELSE
            APPEND character TO encoded_message
    RETURN encoded_message
END FUNCTION
```