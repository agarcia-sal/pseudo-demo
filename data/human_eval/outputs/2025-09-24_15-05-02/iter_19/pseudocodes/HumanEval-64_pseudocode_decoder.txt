```
FUNCTION vowels_count(s)
    SET vowels TO "aeiouAEIOU"
    SET count_vowels TO 0
    FOR each character c IN s
        IF c IS IN vowels
            INCREMENT count_vowels BY 1
    END FOR
    IF last character of s IS 'y' OR 'Y'
        INCREMENT count_vowels BY 1
    RETURN count_vowels
END FUNCTION
```