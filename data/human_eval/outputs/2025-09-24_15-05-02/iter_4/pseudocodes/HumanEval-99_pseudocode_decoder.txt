FUNCTION closest_integer(value: string) RETURNS integer
    IMPORT floor, ceil FROM math

    IF value CONTAINS EXACTLY ONE '.'
        WHILE value ENDS WITH '0'
            REMOVE last character from value
        END WHILE
    END IF

    SET num TO CONVERT value TO float

    IF LAST TWO CHARACTERS OF value ARE '.5'
        IF num > 0
            SET res TO ceil(num)
        ELSE
            SET res TO floor(num)
        END IF
    ELSE IF LENGTH OF value > 0
        SET res TO ROUND num TO NEAREST INTEGER
    ELSE
        SET res TO 0
    END IF

    RETURN res
END FUNCTION