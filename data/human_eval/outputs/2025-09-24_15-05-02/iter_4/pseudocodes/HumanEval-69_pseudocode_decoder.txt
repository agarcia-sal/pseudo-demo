FUNCTION search(lst)
    SET frequencyList TO list of zeros with length (maximum value in lst plus 1)
    
    FOR each number IN lst DO
        INCREMENT frequencyList[number] BY 1
    END FOR

    SET answer TO -1
    FOR index FROM 1 TO length of frequencyList minus 1 DO
        IF frequencyList[index] IS GREATER THAN OR EQUAL TO index THEN
            SET answer TO index
        END IF
    END FOR

    RETURN answer
END FUNCTION