FUNCTION encode_cyclic(s: string)
    SET groups TO empty list
    SET group_count TO integer division of (length of s + 2) by 3
    FOR i FROM 0 TO group_count - 1 DO
        SET start_index TO 3 * i
        SET end_index TO minimum of (3 * i + 3) and length of s
        APPEND substring of s from start_index to end_index TO groups
    END FOR

    FOR each index FROM 0 TO length of groups - 1 DO
        SET group TO groups[index]
        IF length of group EQUALS 3 THEN
            SET groups[index] TO substring of group from position 1 to end concatenated with first character of group
        END IF
    END FOR

    RETURN concatenation of all elements in groups
END FUNCTION

FUNCTION decode_cyclic(s: string)
    RETURN encode_cyclic(encode_cyclic(s))
END FUNCTION