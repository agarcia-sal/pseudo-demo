FUNCTION tri(n)
    IF n == 0 THEN
        RETURN list containing 1
    END IF

    INITIALIZE my_tribonacci_sequence AS list containing 1, 3

    FOR i FROM 2 TO n DO
        IF i MOD 2 == 0 THEN
            APPEND (1 + i / 2) TO my_tribonacci_sequence
        ELSE
            APPEND (my_tribonacci_sequence[i - 1] + my_tribonacci_sequence[i - 2] + (i + 3) / 2) TO my_tribonacci_sequence
        END IF
    END FOR

    RETURN my_tribonacci_sequence
END FUNCTION