FUNCTION modp(n: Integer, p: Integer) RETURNS Integer
    SET ret TO 1
    FOR i FROM 0 TO n - 1 DO
        SET ret TO (2 * ret) MOD p
    END FOR
    RETURN ret
END FUNCTION