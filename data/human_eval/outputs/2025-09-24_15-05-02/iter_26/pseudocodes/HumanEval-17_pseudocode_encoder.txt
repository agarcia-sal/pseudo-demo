```
FUNCTION parse_music(music_string)
    SET note_map TO MAP {'o' TO 4, 'o|' TO 2, '.|' TO 1}
    RETURN LIST OF note_map[note] FOR each note IN SPLIT music_string BY ' ' WHERE note IS NOT EMPTY
END FUNCTION
```