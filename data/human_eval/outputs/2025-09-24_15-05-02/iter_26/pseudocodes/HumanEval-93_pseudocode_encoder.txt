```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO MAP each vowel TO character WITH ASCII code EQUAL TO ASCII code OF vowel PLUS 2
    SET message TO message WITH EACH LETTER'S CASE SWAPPED
    SET encoded_characters TO EMPTY LIST
    FOR each character IN message
        IF character IS IN vowels
            APPEND vowels_replace[character] TO encoded_characters
        ELSE
            APPEND character TO encoded_characters
    RETURN CONCATENATION OF encoded_characters
END FUNCTION
```