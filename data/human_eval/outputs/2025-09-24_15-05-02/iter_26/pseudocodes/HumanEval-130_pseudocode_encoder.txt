```
FUNCTION tri(non_negative_integer n)
    IF n EQUALS 0
        RETURN list WITH single element 1
    END IF

    SET my_tri TO list [1, 3]

    FOR each integer i FROM 2 TO n INCLUSIVE
        IF i MODULO 2 EQUALS 0
            APPEND (i DIVIDED BY 2 PLUS 1) TO my_tri
        ELSE
            APPEND (my_tri AT INDEX (i MINUS 1) PLUS my_tri AT INDEX (i MINUS 2) PLUS (i PLUS 3) DIVIDED BY 2) TO my_tri
        END IF
    END FOR

    RETURN my_tri
END FUNCTION
```