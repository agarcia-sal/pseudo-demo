FUNCTION largest_prime_factor(n)
    FUNCTION is_prime(k)
        IF k < 2
            RETURN False
        FOR i FROM 2 TO k - 1
            IF k MOD i == 0
                RETURN False
        RETURN True
    SET largest TO 1
    FOR j FROM 2 TO n
        IF n MOD j == 0 AND is_prime(j)
            SET largest TO MAXIMUM OF largest AND j
    RETURN largest
END FUNCTION