```
FUNCTION vowels_count(s)
    SET vowels TO "aeiouAEIOU"
    SET n_vowels TO 0
    FOR each character c IN s
        IF c IN vowels
            INCREMENT n_vowels BY 1
        END IF
    END FOR
    IF LAST ELEMENT OF s IS 'y' OR LAST ELEMENT OF s IS 'Y'
        INCREMENT n_vowels BY 1
    END IF
    RETURN n_vowels
END FUNCTION
```