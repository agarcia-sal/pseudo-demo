```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY with keys 'o', 'o|', '.|' and values 4, 2, 1 respectively
    SPLIT music_string BY spaces INTO list_of_notes
    SET beats_list TO EMPTY LIST
    FOR each note IN list_of_notes
        IF note IS NOT empty
            APPEND note_map[note] TO beats_list
    RETURN beats_list
END FUNCTION
```