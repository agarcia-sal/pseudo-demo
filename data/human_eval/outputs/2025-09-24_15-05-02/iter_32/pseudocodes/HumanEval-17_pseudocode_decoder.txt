```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS 'o', 'o|' AND '.|' MAPPING TO VALUES 4, 2, AND 1 RESPECTIVELY
    RETURN LIST OF note_map[x] FOR EACH x IN SPLIT music_string BY SPACE WHERE x IS NOT EMPTY
END FUNCTION
```