```
FUNCTION search(list_of_positive_integers)
    SET frequency_list TO A NEW LIST OF ZEROS WITH LENGTH (MAXIMUM VALUE IN list_of_positive_integers) PLUS ONE
    FOR each integer_value IN list_of_positive_integers
        INCREMENT frequency_list AT INDEX integer_value BY 1
    SET answer TO -1
    FOR integer_index FROM 1 TO LENGTH OF frequency_list MINUS 1
        IF frequency_list AT INDEX integer_index IS GREATER THAN OR EQUAL TO integer_index
            SET answer TO integer_index
    RETURN answer
END FUNCTION
```