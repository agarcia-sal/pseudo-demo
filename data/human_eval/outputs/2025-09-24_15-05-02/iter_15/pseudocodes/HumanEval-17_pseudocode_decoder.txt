```
FUNCTION parse_music(music_string)
    SET note_map TO {'o': 4, 'o|': 2, '.|': 1}
    SET notes_list TO SPLIT music_string BY ' '
    SET beats_list TO EMPTY LIST
    FOR each note IN notes_list
        IF note IS NOT EMPTY
            APPEND note_map[note] TO beats_list
    RETURN beats_list
END FUNCTION
```