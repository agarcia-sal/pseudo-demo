```
FUNCTION search(list_of_integers)
    SET frequency_list TO list_of_zeros WITH LENGTH max_value_in list_of_integers PLUS 1
    FOR each integer IN list_of_integers
        INCREMENT frequency_list AT POSITION integer BY 1
    SET answer TO -1
    FOR each index FROM 1 TO LENGTH OF frequency_list MINUS 1
        IF frequency_list AT POSITION index IS GREATER THAN OR EQUAL TO index
            SET answer TO index
    RETURN answer
END FUNCTION
```