```
sort_array(arr) = sorted(sorted(arr), key = x -> count(bin(x), '1'))
```