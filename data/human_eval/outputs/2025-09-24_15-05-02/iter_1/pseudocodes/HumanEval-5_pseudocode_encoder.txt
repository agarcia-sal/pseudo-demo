```
fn intersperse(nums, d) -> list:
    if not nums: return []
    res = []
    for n in nums[:-1]: res += [n, d]
    res += [nums[-1]]
    return res
```