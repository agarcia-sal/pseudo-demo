```
FUNCTION sort_array(arr)
    RETURN SORT arr BY
        PRIMARY KEY: COUNT OF '1' IN BINARY REPRESENTATION OF element AS STRING
        SECONDARY KEY: element ITSELF (ASCENDING ORDER)
END FUNCTION
```