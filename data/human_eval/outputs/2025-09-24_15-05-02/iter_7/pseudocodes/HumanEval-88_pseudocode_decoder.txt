```
FUNCTION sort_array(array)
    IF LENGTH OF array IS 0
        RETURN empty list
    END IF

    SET sum_of_endpoints TO array[0] PLUS array[LENGTH OF array MINUS 1]
    SET sort_in_descending TO (sum_of_endpoints MODULO 2 EQUALS 0)

    SET sorted_array TO array SORTED IN DESCENDING ORDER IF sort_in_descending IS TRUE, OTHERWISE IN ASCENDING ORDER
    RETURN sorted_array
END FUNCTION
```