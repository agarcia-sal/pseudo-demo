```
FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    IF value CONTAINS EXACTLY ONE '.'
        WHILE last character OF value IS '0'
            REMOVE last character FROM value

    SET num TO float(value)

    IF last two characters OF value EQUAL '.5'
        IF num > 0
            SET res TO ceil(num)
        ELSE
            SET res TO floor(num)
    ELSE IF LENGTH OF value > 0
        SET res TO round(num) CONVERTED TO integer
    ELSE
        SET res TO 0

    RETURN res
END FUNCTION
```