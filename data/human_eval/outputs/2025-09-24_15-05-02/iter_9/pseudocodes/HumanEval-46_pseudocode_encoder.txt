```
FUNCTION fib4(n)
    SET results TO [0, 0, 2, 0]
    IF n < 4
        RETURN results[n]
    FOR index FROM 4 TO n
        APPEND TO results: SUM OF last four elements in results
        REMOVE the first element from results
    RETURN last element of results
END FUNCTION
```