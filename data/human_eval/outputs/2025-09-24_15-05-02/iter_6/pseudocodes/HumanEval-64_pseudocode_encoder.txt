```
FUNCTION vowels_count(string s)
    SET vowels TO "aeiouAEIOU"
    SET n_vowels TO COUNT OF characters c IN s WHERE c IS IN vowels
    IF last character of s IS 'y' OR 'Y'
        INCREMENT n_vowels BY 1
    END IF
    RETURN n_vowels
END FUNCTION
```