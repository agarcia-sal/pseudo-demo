```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS 'o', 'o|', '.|' AND VALUES 4, 2, 1 RESPECTIVELY
    SET tokens TO SPLIT music_string BY SPACE
    SET beats_list TO EMPTY LIST
    FOR each token IN tokens
        IF token IS NOT EMPTY
            APPEND note_map[token] TO beats_list
    RETURN beats_list
END FUNCTION
```