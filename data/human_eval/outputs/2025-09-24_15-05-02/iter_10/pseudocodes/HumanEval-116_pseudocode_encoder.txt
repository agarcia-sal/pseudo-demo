FUNCTION sort_array(arr)
    SET sorted_arr TO arr SORTED IN ASCENDING ORDER
    DEFINE FUNCTION count_ones(x)
        CONVERT x TO BINARY STRING WITHOUT PREFIX
        SET count TO 0
        FOR EACH character IN BINARY STRING
            IF character EQUALS '1'
                INCREMENT count BY 1
        RETURN count
    END FUNCTION
    SORT sorted_arr BY key count_ones(x) IN ASCENDING ORDER
    RETURN sorted_arr
END FUNCTION