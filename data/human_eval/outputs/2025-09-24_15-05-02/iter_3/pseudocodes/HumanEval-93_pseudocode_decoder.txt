FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR each vowel IN vowels DO
        SET vowels_replace[vowel] TO CHARACTER WITH ASCII VALUE (ASCII VALUE OF vowel PLUS 2)
    END FOR

    SET message TO message with all letter cases swapped

    SET encoded_message TO EMPTY STRING
    FOR each character IN message DO
        IF character IS IN vowels THEN
            APPEND vowels_replace[character] TO encoded_message
        ELSE
            APPEND character TO encoded_message
        END IF
    END FOR

    RETURN encoded_message
END FUNCTION