FUNCTION search(lst)
    SET frequency_list TO array of zeros with length (maximum value in lst) + 1
    
    FOR each integer i IN lst DO
        INCREMENT frequency_list[i] BY 1
    END FOR
    
    SET answer TO -1
    
    FOR i FROM 1 TO length of frequency_list - 1 DO
        IF frequency_list[i] >= i THEN
            SET answer TO i
        END IF
    END FOR
    
    RETURN answer
END FUNCTION