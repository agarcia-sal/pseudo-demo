FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    IF value CONTAINS '.'
        WHILE value ENDS WITH '0'
            REMOVE last character from value

    SET num TO float(value)

    IF value ENDS WITH '.5'
        IF num > 0
            SET res TO ceil(num)
        ELSE
            SET res TO floor(num)
    ELSE IF length of value > 0
        SET res TO round(num) converted to integer
    ELSE
        SET res TO 0

    RETURN res