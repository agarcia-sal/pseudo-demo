FUNCTION search(lst)
    SET frq TO list of zeros with length (maximum value in lst plus 1)

    FOR each integer i IN lst
        INCREMENT frq[i] BY 1

    SET ans TO -1

    FOR i FROM 1 TO length of frq minus 1
        IF frq[i] is greater than or equal to i
            SET ans TO i

    RETURN ans