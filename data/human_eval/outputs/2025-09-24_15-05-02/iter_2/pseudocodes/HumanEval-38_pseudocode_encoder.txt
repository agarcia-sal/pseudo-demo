FUNCTION encode_cyclic(s: STRING) RETURNS STRING
    SET groups TO empty LIST OF STRING
    SET number_of_groups TO integer division of (length of s + 2) by 3
    FOR i FROM 0 TO number_of_groups - 1 DO
        SET start_index TO 3 * i
        SET end_index TO minimum of (3 * i + 3) and length of s
        APPEND substring of s from start_index up to end_index TO groups
    END FOR

    FOR EACH group IN groups DO
        IF length of group EQUALS 3 THEN
            REPLACE group WITH concatenation of substring of group from index 1 to end AND character at index 0
        END IF
    END FOR

    RETURN concatenation of all groups as STRING
END FUNCTION


FUNCTION decode_cyclic(s: STRING) RETURNS STRING
    RETURN encode_cyclic(encode_cyclic(s))
END FUNCTION