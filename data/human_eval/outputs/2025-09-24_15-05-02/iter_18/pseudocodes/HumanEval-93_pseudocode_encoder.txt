```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY MAPPING EACH vowel i TO CHARACTER AT ASCII(ord(i) + 2)
    SET message TO message WITH ALL LETTER CASES SWAPPED
    RETURN CONCATENATION OF EACH CHARACTER i IN message WHERE
        IF i IN vowels THEN vowels_replace[i] ELSE i
END FUNCTION
```