```
FUNCTION tri(n)
    IF n == 0
        RETURN [1]
    SET my_tri TO [1, 3]
    FOR i FROM 2 TO n
        IF i MOD 2 == 0
            APPEND (i / 2 + 1) TO my_tri
        ELSE
            APPEND (my_tri[i - 1] + my_tri[i - 2] + (i + 3) / 2) TO my_tri
    RETURN my_tri
END FUNCTION
```