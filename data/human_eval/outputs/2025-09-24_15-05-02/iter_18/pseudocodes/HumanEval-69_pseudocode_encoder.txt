```
FUNCTION search(lst)
    SET frq TO ARRAY OF ZEROS WITH LENGTH (MAXIMUM OF lst) + 1
    FOR each i IN lst
        INCREMENT frq[i] BY 1
    SET ans TO -1
    FOR i FROM 1 TO LENGTH OF frq - 1
        IF frq[i] >= i THEN
            SET ans TO i
    RETURN ans
END FUNCTION
```