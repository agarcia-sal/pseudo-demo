```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY MAPPING each vowel TO CHARACTER WITH ASCII VALUE OF (ASCII VALUE OF vowel PLUS 2)
    SET message TO message WITH CASE OF EACH LETTER SWAPPED
    RETURN CONCATENATION OF EACH character IN message REPLACED BY vowels_replace[character] IF character IS IN vowels OTHERWISE character
END FUNCTION
```