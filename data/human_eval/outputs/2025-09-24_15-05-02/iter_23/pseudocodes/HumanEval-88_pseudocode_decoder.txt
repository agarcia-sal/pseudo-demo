```
FUNCTION sort_array(array)
    IF LENGTH OF array IS 0
        RETURN empty list
    SET sum_of_ends TO array[0] PLUS array[-1]
    SET sort_in_descending_order TO (sum_of_ends MODULO 2 EQUALS 0)
    RETURN copy of array SORTED IN DESCENDING ORDER IF sort_in_descending_order IS TRUE, OTHERWISE ASCENDING ORDER
END FUNCTION
```