```
FUNCTION sort_array(array)
    SET array_sorted_by_value TO array SORTED IN ASCENDING ORDER
    SORT array_sorted_by_value BY number_of_ones_in_binary_representation IN ASCENDING ORDER
    RETURN array_sorted_by_value
END FUNCTION
```