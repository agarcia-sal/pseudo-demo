```
FUNCTION encode_cyclic(s)
    SET groups TO EMPTY LIST
    FOR i FROM 0 TO (LENGTH OF s + 2) DIVIDED BY 3 MINUS 1
        APPEND SUBSTRING OF s FROM INDEX (3 * i) TO MINIMUM OF (3 * i + 3) AND LENGTH OF s TO groups
    FOR EACH index FROM 0 TO LENGTH OF groups MINUS 1
        IF LENGTH OF groups[index] EQUALS 3 THEN
            SET groups[index] TO CONCATENATION OF SUBSTRING OF groups[index] FROM INDEX 1 TO END AND groups[index][0]
        END IF
    RETURN CONCATENATION OF ALL ELEMENTS IN groups
END FUNCTION

FUNCTION decode_cyclic(s)
    RETURN encode_cyclic(encode_cyclic(s))
END FUNCTION
```