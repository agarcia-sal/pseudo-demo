```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY MAPPING each vowel i TO CHARACTER WITH ASCII VALUE (ASCII OF i + 2)
    SET message TO message WITH CASE OF ALL LETTERS SWAPPED
    SET encoded_message TO EMPTY STRING
    FOR each character i IN message
        IF i IS IN vowels_replace
            APPEND vowels_replace[i] TO encoded_message
        ELSE
            APPEND i TO encoded_message
    RETURN encoded_message
END FUNCTION
```