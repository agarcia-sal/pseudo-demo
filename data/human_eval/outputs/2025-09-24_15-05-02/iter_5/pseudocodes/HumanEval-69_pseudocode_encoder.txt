```
FUNCTION search(lst)
    SET frq TO LIST OF ZEROS WITH LENGTH (MAXIMUM VALUE IN lst PLUS 1)
    FOR each i IN lst
        INCREMENT frq[i] BY 1
    END FOR

    SET ans TO -1
    FOR i FROM 1 TO LENGTH OF frq MINUS 1
        IF frq[i] IS GREATER THAN OR EQUAL TO i THEN
            SET ans TO i
        END IF
    END FOR

    RETURN ans
END FUNCTION
```