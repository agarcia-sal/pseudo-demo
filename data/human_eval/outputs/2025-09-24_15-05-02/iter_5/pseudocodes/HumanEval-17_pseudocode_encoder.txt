```
FUNCTION parse_music(music_string: STRING) RETURNS LIST OF INTEGER
    SET note_map TO DICTIONARY WITH KEYS 'o' MAPPED TO 4, 'o|' MAPPED TO 2, AND '.|' MAPPED TO 1
    SET notes_list TO EMPTY LIST
    FOR each note_string IN music_string SPLIT BY SPACE
        IF note_string IS NOT EMPTY
            APPEND note_map[note_string] TO notes_list
        END IF
    END FOR
    RETURN notes_list
END FUNCTION
```