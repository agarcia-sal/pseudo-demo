```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY MAPPING each character i IN vowels TO CHARACTER WITH ASCII CODE (ASCII CODE OF i PLUS 2)
    SET message TO message WITH LETTER CASES SWAPPED (UPPERCASE TO LOWERCASE AND LOWERCASE TO UPPERCASE)
    SET result TO EMPTY STRING
    FOR each character i IN message
        IF i IS A KEY IN vowels_replace
            APPEND vowels_replace[i] TO result
        ELSE
            APPEND i TO result
    RETURN result
END FUNCTION
```