```
FUNCTION vowels_count(string_s)
    SET vowels TO "aeiouAEIOU"
    SET n_vowels TO SUM OF (character IN vowels) FOR EACH character IN string_s
    IF character AT index LENGTH OF string_s MINUS 1 EQUALS 'y' OR character AT index LENGTH OF string_s MINUS 1 EQUALS 'Y'
        INCREMENT n_vowels BY 1
    RETURN n_vowels
END FUNCTION
```