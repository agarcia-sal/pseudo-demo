```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS 'o', 'o|', '.|' AND VALUES 4, 2, 1 RESPECTIVELY
    SET split_notes TO LIST OF SUBSTRINGS FROM music_string SPLIT BY SINGLE SPACE CHARACTER WHERE EACH SUBSTRING IS NOT EMPTY
    SET beat_list TO EMPTY LIST
    FOR EACH note IN split_notes
        APPEND note_map VALUE CORRESPONDING TO note TO beat_list
    RETURN beat_list
END FUNCTION
```