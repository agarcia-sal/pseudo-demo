```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    CREATE vowels_replace AS DICTIONARY MAPPING EACH vowel TO CHARACTER WITH ASCII VALUE 2 GREATER THAN vowel
    SET message TO message WITH ALL LETTERS' CASES SWAPPED
    RETURN STRING FORMED BY JOINING EACH CHARACTER IN message WHERE
        IF character IN vowels THEN REPLACE WITH vowels_replace[character]
        ELSE KEEP character UNCHANGED
END FUNCTION
```