```
FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO DICTIONARY WITH KEYS AND VALUES:
        FOR each character IN vowels
            KEY character TO CHARACTER WITH ASCII CODE (ASCII OF character PLUS 2)
    SET message TO message WITH CASES SWAPPED
    RETURN CONCATENATION OF:
        FOR each character IN message
            IF character IN vowels_replace
                character FROM vowels_replace FOR character
            ELSE
                character
END FUNCTION
```