```
FUNCTION sort_array(array_of_integers)
    RETURN sorted(sorted(array_of_integers), key FUNCTION(element)
        RETURN COUNT OF CHARACTER '1' IN BINARY REPRESENTATION OF element
    END FUNCTION)
END FUNCTION
```