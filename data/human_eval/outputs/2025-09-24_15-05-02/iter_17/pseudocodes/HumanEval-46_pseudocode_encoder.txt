```
FUNCTION fib4(n)
    SET results TO [0, 0, 2, 0]
    IF n LESS THAN 4
        RETURN results[n]
    FOR each _ IN RANGE FROM 4 TO n INCLUSIVE
        APPEND (results[-1] PLUS results[-2] PLUS results[-3] PLUS results[-4]) TO results
        REMOVE FIRST ELEMENT FROM results
    RETURN results[-1]
END FUNCTION
```