```
FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS 'o' MAPPED TO 4, 'o|' MAPPED TO 2, '.|' MAPPED TO 1
    SET result TO EMPTY LIST
    FOR each x IN SPLIT music_string BY ' '
        IF x IS NOT EMPTY
            APPEND note_map[x] TO result
    RETURN result
END FUNCTION
```