FUNCTION fib4 WITH PARAMETER n OF TYPE integer
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN element AT INDEX n IN results
    END IF
    SET i TO 4
    WHILE i LESS THAN OR EQUAL TO n DO
        SET new_value TO element AT INDEX LENGTH OF results MINUS 1 IN results PLUS element AT INDEX LENGTH OF results MINUS 2 IN results PLUS element AT INDEX LENGTH OF results MINUS 3 IN results PLUS element AT INDEX LENGTH OF results MINUS 4 IN results
        CALL APPEND new_value TO results
        CALL REMOVE element AT INDEX 0 IN results
        INCREMENT i BY 1
    END WHILE
    RETURN element AT INDEX LENGTH OF results MINUS 1 IN results
END FUNCTION