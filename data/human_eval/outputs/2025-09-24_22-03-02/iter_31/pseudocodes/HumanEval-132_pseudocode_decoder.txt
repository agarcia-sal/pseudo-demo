FUNCTION is_nested(string)
    SET opening_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET closing_bracket_index TO LIST WITH ELEMENTS EMPTY

    FOR i FROM 0 TO LENGTH OF string MINUS 1
        IF string AT INDEX i EQUALS '[' THEN
            CALL APPEND ON opening_bracket_index WITH ARGUMENT i
        ELSE
            CALL APPEND ON closing_bracket_index WITH ARGUMENT i
        END IF
    END FOR

    CALL REVERSE ON closing_bracket_index

    SET cnt TO 0
    SET i TO 0
    SET l TO LENGTH OF closing_bracket_index

    FOR EACH idx IN opening_bracket_index
        IF i LESS THAN l AND idx LESS THAN closing_bracket_index AT INDEX i THEN
            SET cnt TO cnt PLUS 1
            SET i TO i PLUS 1
        END IF
    END FOR

    RETURN cnt GREATER THAN OR EQUAL TO 2
END FUNCTION