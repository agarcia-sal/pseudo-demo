FUNCTION find_closest_elements WITH PARAMETERS numbers AS LIST OF FLOAT RETURNS TUPLE OF FLOAT, FLOAT
    SET closest_pair TO NONE
    SET distance TO NONE

    FOR idx FROM zero TO LENGTH OF numbers MINUS ONE
        SET elem TO ELEMENT AT INDEX idx OF numbers
        FOR idx2 FROM zero TO LENGTH OF numbers MINUS ONE
            SET elem2 TO ELEMENT AT INDEX idx2 OF numbers
            IF idx NOT EQUAL TO idx2 THEN
                IF distance EQUALS NONE THEN
                    SET diff TO elem MINUS elem2
                    IF diff LESS THAN zero THEN
                        SET diff TO ZERO MINUS diff
                    END IF
                    SET distance TO diff
                    IF elem LESS THAN elem2 THEN
                        SET temp1 TO elem
                        SET temp2 TO elem2
                    ELSE
                        SET temp1 TO elem2
                        SET temp2 TO elem
                    END IF
                    SET closest_pair TO TUPLE WITH ELEMENTS temp1, temp2
                ELSE
                    SET diff TO elem MINUS elem2
                    IF diff LESS THAN zero THEN
                        SET diff TO ZERO MINUS diff
                    END IF
                    SET new_distance TO diff
                    IF new_distance LESS THAN distance THEN
                        SET distance TO new_distance
                        IF elem LESS THAN elem2 THEN
                            SET temp1 TO elem
                            SET temp2 TO elem2
                        ELSE
                            SET temp1 TO elem2
                            SET temp2 TO elem
                        END IF
                        SET closest_pair TO TUPLE WITH ELEMENTS temp1, temp2
                    END IF
                END IF
            END IF
        END FOR
    END FOR

    RETURN closest_pair
END FUNCTION