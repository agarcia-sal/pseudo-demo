FUNCTION is_palindrome(string AS STRING) AS BOOLEAN
    RETURN string EQUALS CALL reverse_string WITH ARGUMENT string

FUNCTION make_palindrome(string AS STRING) AS STRING
    IF string EQUALS EMPTY STRING THEN
        RETURN EMPTY STRING
    END IF

    SET beginning_of_suffix TO 0

    WHILE CALL is_palindrome WITH ARGUMENT CALL substring_with_indices ON string FROM beginning_of_suffix TO LENGTH OF string MINUS 1 EQUALS FALSE DO
        SET beginning_of_suffix TO beginning_of_suffix PLUS 1
    END WHILE

    SET prefix_to_reverse TO CALL substring_with_indices ON string FROM 0 TO beginning_of_suffix MINUS 1
    SET reversed_prefix TO CALL reverse_string WITH ARGUMENT prefix_to_reverse

    RETURN string CONCATENATE reversed_prefix


FUNCTION reverse_string(string AS STRING) AS STRING
    SET reversed_string TO EMPTY STRING
    SET index TO LENGTH OF string MINUS 1
    WHILE index GREATER THAN OR EQUAL TO 0 DO
        SET reversed_string TO reversed_string CONCATENATE CHARACTER AT string WITH INDEX index
        SET index TO index MINUS 1
    END WHILE
    RETURN reversed_string

FUNCTION substring_with_indices(string AS STRING, start_index AS INTEGER, end_index AS INTEGER) AS STRING
    SET result_string TO EMPTY STRING
    SET current_index TO start_index
    WHILE current_index LESS THAN OR EQUAL TO end_index DO
        SET result_string TO result_string CONCATENATE CHARACTER AT string WITH INDEX current_index
        SET current_index TO current_index PLUS 1
    END WHILE
    RETURN result_string