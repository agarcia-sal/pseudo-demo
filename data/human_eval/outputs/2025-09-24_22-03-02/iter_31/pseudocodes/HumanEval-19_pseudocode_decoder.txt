FUNCTION sort_numbers WITH PARAMETER numbers AS STRING RETURNS STRING
    SET value_map TO DICTIONARY WITH ELEMENTS
        KEY 'zero' AND VALUE 0,
        KEY 'one' AND VALUE 1,
        KEY 'two' AND VALUE 2,
        KEY 'three' AND VALUE 3,
        KEY 'four' AND VALUE 4,
        KEY 'five' AND VALUE 5,
        KEY 'six' AND VALUE 6,
        KEY 'seven' AND VALUE 7,
        KEY 'eight' AND VALUE 8,
        KEY 'nine' AND VALUE 9

    SET split_list TO LIST WITH ELEMENTS EMPTY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF numbers
        SET current_char TO CHARACTER AT POSITION index IN numbers
        IF current_char EQUALS SPACE
            APPEND EMPTY STRING TO split_list
            INCREMENT index BY 1
        ELSE
            IF LENGTH OF split_list EQUALS 0
                APPEND EMPTY STRING TO split_list
            SET last_index TO LENGTH OF split_list MINUS 1
            SET last_string TO ELEMENT AT POSITION last_index IN split_list
            SET updated_string TO CONCATENATE last_string AND current_char
            SET ELEMENT AT POSITION last_index IN split_list TO updated_string
            INCREMENT index BY 1

    SET filtered_list TO LIST WITH ELEMENTS EMPTY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF split_list
        IF ELEMENT AT POSITION index IN split_list NOT EQUAL TO EMPTY STRING
            APPEND ELEMENT AT POSITION index IN split_list TO filtered_list
        INCREMENT index BY 1

    SET sorted_list TO LIST WITH ELEMENTS EMPTY
    WHILE LENGTH OF sorted_list LESS THAN LENGTH OF filtered_list
        SET min_index TO 0
        SET min_value TO ELEMENT AT POSITION 0 IN filtered_list
        SET i TO 1
        WHILE i LESS THAN LENGTH OF filtered_list
             SET current_value TO ELEMENT AT POSITION i IN filtered_list
             IF ELEMENT AT KEY current_value IN value_map LESS THAN ELEMENT AT KEY min_value IN value_map
                 SET min_index TO i
                 SET min_value TO current_value
             INCREMENT i BY 1
        APPEND min_value TO sorted_list
        REMOVE ELEMENT AT POSITION min_index IN filtered_list

    SET result TO EMPTY STRING
    SET j TO 0
    WHILE j LESS THAN LENGTH OF sorted_list
        IF j GREATER THAN 0
            SET result TO CONCATENATE result AND SPACE
        SET result TO CONCATENATE result AND ELEMENT AT POSITION j IN sorted_list
        INCREMENT j BY 1

    RETURN result