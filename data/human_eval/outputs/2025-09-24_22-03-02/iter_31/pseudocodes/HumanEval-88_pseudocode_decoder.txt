FUNCTION sort_array(array)
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET sum_first_last TO VALUE AT array[0] PLUS VALUE AT array[LENGTH OF array MINUS 1]
        SET is_sum_even TO (sum_first_last MODULO 2) EQUALS 0
        SET array_copy TO NEW LIST WITH ELEMENTS EMPTY
        FOR index FROM 0 TO LENGTH OF array MINUS 1 DO
            APPEND VALUE AT array[index] TO array_copy
        END FOR
        IF is_sum_even THEN
            SET sorted_array TO CALL sort_descending ON array_copy
            RETURN sorted_array
        ELSE
            SET sorted_array TO CALL sort_ascending ON array_copy
            RETURN sorted_array
        END IF
    END IF
END FUNCTION

FUNCTION sort_ascending(list_to_sort)
    FOR i FROM 0 TO LENGTH OF list_to_sort MINUS 2 DO
        FOR j FROM 0 TO LENGTH OF list_to_sort MINUS 2 MINUS i DO
            IF VALUE AT list_to_sort[j] GREATER THAN VALUE AT list_to_sort[j PLUS 1] THEN
                SET temp TO VALUE AT list_to_sort[j]
                SET VALUE AT list_to_sort[j] TO VALUE AT list_to_sort[j PLUS 1]
                SET VALUE AT list_to_sort[j PLUS 1] TO temp
            END IF
        END FOR
    END FOR
    RETURN list_to_sort
END FUNCTION

FUNCTION sort_descending(list_to_sort)
    FOR i FROM 0 TO LENGTH OF list_to_sort MINUS 2 DO
        FOR j FROM 0 TO LENGTH OF list_to_sort MINUS 2 MINUS i DO
            IF VALUE AT list_to_sort[j] LESS THAN VALUE AT list_to_sort[j PLUS 1] THEN
                SET temp TO VALUE AT list_to_sort[j]
                SET VALUE AT list_to_sort[j] TO VALUE AT list_to_sort[j PLUS 1]
                SET VALUE AT list_to_sort[j PLUS 1] TO temp
            END IF
        END FOR
    END FOR
    RETURN list_to_sort
END FUNCTION