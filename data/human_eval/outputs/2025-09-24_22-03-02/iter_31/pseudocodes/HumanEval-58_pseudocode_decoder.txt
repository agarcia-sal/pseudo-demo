FUNCTION common WITH PARAMETERS l1 AS LIST, l2 AS LIST
    SET ret TO EMPTY SET
    SET i TO 0
    WHILE i LESS THAN LENGTH OF l1
        SET e1 TO ELEMENT AT INDEX i OF l1
        SET j TO 0
        WHILE j LESS THAN LENGTH OF l2
            SET e2 TO ELEMENT AT INDEX j OF l2
            IF e1 EQUALS e2 THEN
                CALL ret.ADD WITH ARGUMENT e1
            END IF
            INCREMENT j BY 1
        END WHILE
        INCREMENT i BY 1
    END WHILE
    SET ret_list TO EMPTY LIST
    FOR EACH item IN ret DO
        CALL ret_list.APPEND WITH ARGUMENT item
    END FOR
    CALL ret_list.SORT
    RETURN ret_list
END FUNCTION