FUNCTION circular_shift WITH PARAMETERS x, shift
    SET s TO CALL str WITH ARGUMENTS x
    IF shift GREATER THAN CALL len WITH ARGUMENTS s THEN
        SET reversed_s TO EMPTY STRING
        SET index TO CALL len WITH ARGUMENTS s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0
            SET reversed_s TO CONCATENATE reversed_s PLUS s AT index
            DECREMENT index BY 1
        END WHILE
        RETURN reversed_s
    ELSE
        SET length TO CALL len WITH ARGUMENTS s
        SET part1 TO EMPTY STRING
        SET index TO length MINUS shift
        WHILE index LESS THAN length
            SET part1 TO CONCATENATE part1 PLUS s AT index
            INCREMENT index BY 1
        END WHILE
        SET part2 TO EMPTY STRING
        SET index TO 0
        WHILE index LESS THAN length MINUS shift
            SET part2 TO CONCATENATE part2 PLUS s AT index
            INCREMENT index BY 1
        END WHILE
        RETURN CONCATENATE part1 PLUS part2
    END IF
END FUNCTION