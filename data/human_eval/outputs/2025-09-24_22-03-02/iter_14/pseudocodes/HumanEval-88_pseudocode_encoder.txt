FUNCTION sort_array WITH PARAMETER array
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS NONE
    ELSE
        SET sum_of_first_and_last TO array AT INDEX 0 PLUS array AT INDEX LENGTH OF array MINUS 1
        SET is_even_sum TO sum_of_first_and_last MODULO 2 EQUALS 0
        SET copy_of_array TO NEW LIST WITH ELEMENTS FROM array
        IF is_even_sum THEN
            SORT copy_of_array IN DESCENDING ORDER
        ELSE
            SORT copy_of_array IN ASCENDING ORDER
        RETURN copy_of_array