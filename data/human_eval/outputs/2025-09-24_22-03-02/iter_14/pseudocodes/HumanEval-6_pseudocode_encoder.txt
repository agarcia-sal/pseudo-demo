FUNCTION parse_nested_parens(paren_string: str) RETURNS List[int]
    FUNCTION parse_paren_group(s)
        SET depth TO 0
        SET max_depth TO 0
        FOR EACH c IN s
            IF c EQUALS '(' THEN
                SET depth TO depth PLUS 1
                IF depth GREATER THAN max_depth THEN
                    SET max_depth TO depth
            ELSE
                SET depth TO depth MINUS 1
        RETURN max_depth

    SET result TO LIST WITH ELEMENTS EMPTY
    SET groups TO RESULT OF SPLITTING paren_string BY STRING ' '
    FOR EACH x IN groups
        IF x IS NOT EMPTY THEN
            SET value TO CALL parse_paren_group WITH ARGUMENT s EQUALS x
            APPEND value TO result
    RETURN result