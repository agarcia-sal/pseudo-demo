FUNCTION encode(message)
    SET vowels TO LITERAL STRING "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH i IN vowels
        SET vowels_replace[i] TO CHARACTER WITH UNICODE CODE EQUAL TO UNICODE CODE OF i PLUS 2
    SET message TO CALL swapcase METHOD OF message WITH NO ARGUMENTS
    SET encoded_characters TO EMPTY LIST
    FOR EACH i IN message
        IF i IS IN vowels
            APPEND vowels_replace[i] TO encoded_characters
        ELSE
            APPEND i TO encoded_characters
    SET result TO CONCATENATE ALL ELEMENTS OF encoded_characters WITH NO SEPARATOR
    RETURN result