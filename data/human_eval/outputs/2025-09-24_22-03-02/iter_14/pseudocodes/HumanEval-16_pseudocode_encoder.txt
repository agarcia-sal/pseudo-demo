FUNCTION count_distinct_characters WITH PARAMETER string OF TYPE str RETURNS int
    SET lower_string TO CALL string.lower WITH NO ARGUMENTS
    SET distinct_characters TO EMPTY SET
    FOR EACH character IN lower_string
        ADD character TO distinct_characters
    RETURN LENGTH OF distinct_characters