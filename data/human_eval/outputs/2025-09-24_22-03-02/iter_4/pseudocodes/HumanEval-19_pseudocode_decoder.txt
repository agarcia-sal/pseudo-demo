FUNCTION sort_numbers(numbers AS STRING) RETURNS STRING
    SET value_map TO DICTIONARY WITH
        "zero" MAPPED TO 0
        "one" MAPPED TO 1
        "two" MAPPED TO 2
        "three" MAPPED TO 3
        "four" MAPPED TO 4
        "five" MAPPED TO 5
        "six" MAPPED TO 6
        "seven" MAPPED TO 7
        "eight" MAPPED TO 8
        "nine" MAPPED TO 9

    SET split_numbers TO LIST OF WORDS IN numbers SPLIT BY SPACE
    SET filtered_numbers TO EMPTY LIST

    FOR EACH x IN split_numbers
        IF x IS NOT EMPTY
            ADD x TO filtered_numbers

    SET sorted_numbers TO filtered_numbers SORTED BY value_map VALUE OF EACH ELEMENT

    SET result TO JOIN sorted_numbers BY SPACE
    RETURN result