FUNCTION median(INPUT l AS list)
    SET l TO sorted version of l
    IF (length of l) modulo 2 is EQUAL TO 1 THEN
        RETURN element at position (length of l) DIVIDED BY 2 in l
    ELSE
        RETURN (element at position ((length of l) DIVIDED BY 2) MINUS 1 in l PLUS element at position (length of l) DIVIDED BY 2 in l) DIVIDED BY 2.0
    END IF
END FUNCTION