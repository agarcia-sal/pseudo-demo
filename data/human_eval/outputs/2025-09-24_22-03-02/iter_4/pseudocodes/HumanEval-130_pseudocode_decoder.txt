FUNCTION tri(n)
    IF n EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS [1]
    END IF

    SET my_tri TO LIST WITH ELEMENTS [1, 3]

    FOR i FROM 2 TO n INCLUSIVE DO
        IF i MODULO 2 EQUALS 0 THEN
            APPEND TO my_tri THE VALUE (i DIVIDED BY 2) PLUS 1
        ELSE
            APPEND TO my_tri THE VALUE OF my_tri AT INDEX (i MINUS 1) PLUS my_tri AT INDEX (i MINUS 2) PLUS ((i PLUS 3) DIVIDED BY 2)
        END IF
    END FOR

    RETURN my_tri
END FUNCTION