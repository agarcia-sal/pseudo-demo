FUNCTION parse_music WITH PARAMETER music_string AS STRING RETURNS LIST OF INTEGER
    SET note_map TO DICTIONARY WITH KEYS AND VALUES:
        'o' MAPPED TO 4
        'o|' MAPPED TO 2
        '.|' MAPPED TO 1

    SET result_list TO EMPTY LIST OF INTEGER

    FOR EACH note IN SPLIT music_string BY SINGLE SPACE CHARACTER
        IF note IS NOT EMPTY
            ADD note_map VALUE CORRESPONDING TO note TO result_list
        END IF
    END FOR

    RETURN result_list
END FUNCTION