FUNCTION separate_paren_groups WITH PARAMETER paren_string AS STRING RETURNS LIST OF STRING
    SET result TO empty list
    SET current_string TO empty list
    SET current_depth TO 0

    FOR EACH character IN paren_string
        IF character EQUALS '(' THEN
            INCREMENT current_depth BY 1
            APPEND character TO current_string
        ELSE IF character EQUALS ')' THEN
            DECREMENT current_depth BY 1
            APPEND character TO current_string

            IF current_depth EQUALS 0 THEN
                APPEND JOINED current_string AS STRING TO result
                CLEAR current_string
            END IF
        END IF
    END FOR

    RETURN result
END FUNCTION