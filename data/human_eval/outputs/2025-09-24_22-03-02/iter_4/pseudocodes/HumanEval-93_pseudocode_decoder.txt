FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    CREATE empty dictionary vowels_replace
    FOR each character i IN vowels
        SET vowels_replace[i] TO character with ASCII code (ASCII code of i plus 2)
    END FOR

    SET message TO message with all letter cases swapped

    SET result TO empty string
    FOR each character i IN message
        IF i IS IN vowels_replace KEYS
            ADD vowels_replace[i] TO result
        ELSE
            ADD i TO result
        END IF
    END FOR

    RETURN result
END FUNCTION