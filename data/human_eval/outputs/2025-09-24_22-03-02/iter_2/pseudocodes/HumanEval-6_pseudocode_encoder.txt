FUNCTION parse_nested_parens(paren_string AS STRING) RETURNS LIST OF INTEGER
    FUNCTION parse_paren_group(s AS STRING) RETURNS INTEGER
        SET depth TO 0
        SET max_depth TO 0

        FOR EACH character IN s DO
            IF character EQUALS '(' THEN
                SET depth TO depth PLUS 1
                IF depth GREATER THAN max_depth THEN
                    SET max_depth TO depth
                END IF
            ELSE
                SET depth TO depth MINUS 1
            END IF
        END FOR

        RETURN max_depth
    END FUNCTION

    SET groups TO split paren_string BY SPACE
    SET results TO EMPTY LIST OF INTEGER

    FOR EACH group IN groups DO
        IF group IS NOT EMPTY THEN
            APPEND parse_paren_group(group) TO results
        END IF
    END FOR

    RETURN results
END FUNCTION