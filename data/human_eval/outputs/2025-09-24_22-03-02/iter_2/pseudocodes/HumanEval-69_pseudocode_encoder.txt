FUNCTION search(lst)
    SET frq TO a list of zeros with length maximum value in lst plus one

    FOR each element i IN lst
        INCREMENT frq at index i BY 1

    SET ans TO -1

    FOR each integer i FROM 1 TO length of frq MINUS 1
        IF frq at index i IS GREATER THAN OR EQUAL TO i
            SET ans TO i

    RETURN ans