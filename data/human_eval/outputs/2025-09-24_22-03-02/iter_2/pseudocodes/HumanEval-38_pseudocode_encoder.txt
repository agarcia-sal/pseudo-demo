FUNCTION encode_cyclic(INPUT string s)
    SET groups TO EMPTY LIST
    SET count TO (LENGTH OF s PLUS 2) DIVIDED BY 3
    FOR i FROM 0 TO count MINUS 1 DO
        SET start_index TO 3 TIMES i
        SET end_index TO MINIMUM OF (3 TIMES i PLUS 3) AND LENGTH OF s
        SET group TO SUBSTRING OF s FROM start_index TO end_index
        APPEND group TO groups
    END FOR

    SET cycled_groups TO EMPTY LIST
    FOR EACH group IN groups DO
        IF LENGTH OF group EQUALS 3 THEN
            SET cycled_group TO CONCATENATION OF SUBSTRING OF group FROM INDEX 1 TO END AND FIRST CHARACTER OF group
        ELSE
            SET cycled_group TO group
        END IF
        APPEND cycled_group TO cycled_groups
    END FOR

    RETURN CONCATENATION OF ALL ELEMENTS IN cycled_groups
END FUNCTION


FUNCTION decode_cyclic(INPUT string s)
    RETURN encode_cyclic(encode_cyclic(s))
END FUNCTION