FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH character IN vowels
        SET vowels_replace[character] TO CHARACTER WITH ASCII CODE (ASCII OF character PLUS 2)
    END FOR
    SET message TO message WITH CASES SWAPPED
    SET encoded_message TO EMPTY STRING
    FOR EACH character IN message
        IF character IS IN vowels_replace
            ADD vowels_replace[character] TO encoded_message
        ELSE
            ADD character TO encoded_message
        END IF
    END FOR
    RETURN encoded_message
END FUNCTION