FUNCTION prime_fib(n INTEGER)
    IMPORT math

    FUNCTION is_prime(p INTEGER)
        IF p < 2 THEN
            RETURN False
        ENDIF
        FOR k FROM 2 TO MINIMUM OF (INTEGER PART OF math.sqrt(p) + 1, p - 1) EXCLUSIVE
            IF p MODULO k EQUALS 0 THEN
                RETURN False
            ENDIF
        ENDFOR
        RETURN True
    ENDFUNCTION

    SET f TO LIST CONTAINING 0 AND 1

    WHILE TRUE
        APPEND f LAST ELEMENT PLUS f SECOND LAST ELEMENT TO f
        IF is_prime(f LAST ELEMENT) THEN
            SET n TO n MINUS 1
        ENDIF
        IF n EQUALS 0 THEN
            RETURN f LAST ELEMENT
        ENDIF
    ENDWHILE
ENDFUNCTION