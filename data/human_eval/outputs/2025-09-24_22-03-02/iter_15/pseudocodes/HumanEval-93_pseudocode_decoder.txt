FUNCTION encode(message)
    SET vowels TO LIST WITH ELEMENTS "a", "e", "i", "o", "u", "A", "E", "I", "O", "U"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH i IN vowels
        SET vowels_replace[i] TO CHARACTER WITH ASCII CODE EQUAL TO ASCII CODE OF i PLUS 2
    END FOR
    SET message TO CALL swapcase METHOD OF message
    SET encoded_list TO EMPTY LIST
    FOR EACH i IN message
        IF i IS IN vowels
            APPEND vowels_replace[i] TO encoded_list
        ELSE
            APPEND i TO encoded_list
        END IF
    END FOR
    RETURN CONCATENATE ELEMENTS OF encoded_list INTO STRING
END FUNCTION