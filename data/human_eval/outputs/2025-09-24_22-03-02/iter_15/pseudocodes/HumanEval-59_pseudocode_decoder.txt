FUNCTION largest_prime_factor WITH PARAMETER n OF TYPE int
    FUNCTION is_prime WITH PARAMETER k
        IF k LESS THAN 2 THEN
            RETURN False
        END IF
        FOR i IN RANGE FROM 2 TO k MINUS 1 DO
            IF k MODULO i EQUALS 0 THEN
                RETURN False
            END IF
        END FOR
        RETURN True
    END FUNCTION

    SET largest TO 1
    FOR j IN RANGE FROM 2 TO n PLUS 1 DO
        IF n MODULO j EQUALS 0 AND CALL is_prime WITH ARGUMENT j THEN
            SET largest TO CALL max WITH ARGUMENTS largest AND j
        END IF
    END FOR
    RETURN largest
END FUNCTION