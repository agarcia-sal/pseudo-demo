FUNCTION search(lst)
    SET frq TO LIST WITH ELEMENTS 0 REPEATED (CALL max WITH ARGUMENTS lst) PLUS 1 TIMES

    FOR EACH i IN lst
        SET frq[i] TO frq[i] PLUS 1

    SET ans TO -1

    FOR i FROM 1 TO LENGTH OF frq MINUS 1
        IF frq[i] GREATER THAN OR EQUAL TO i THEN
            SET ans TO i

    RETURN ans