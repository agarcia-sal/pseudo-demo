FUNCTION encrypt(s STRING) RETURNS STRING
    SET d TO STRING WITH ELEMENTS 'abcdefghijklmnopqrstuvwxyz'
    SET out TO EMPTY STRING
    FOR EACH c IN s DO
        IF c IS IN d THEN
            SET index TO CALL d.index WITH ARGUMENT c
            SET shiftedIndex TO index PLUS TWO MULTIPLY TWO
            SET wrappedIndex TO shiftedIndex MODULO 26
            SET shiftedChar TO ELEMENT AT POSITION wrappedIndex IN d
            SET out TO out CONCATENATE shiftedChar
        ELSE
            SET out TO out CONCATENATE c
    RETURN out