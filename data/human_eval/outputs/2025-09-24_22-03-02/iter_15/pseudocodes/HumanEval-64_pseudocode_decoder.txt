FUNCTION vowels_count WITH PARAMETER s
    SET vowels TO STRING "aeiouAEIOU"
    SET n_vowels TO 0
    FOR EACH c IN s
        IF c IS IN vowels
            INCREMENT n_vowels BY 1
    IF THE LAST CHARACTER OF s EQUALS STRING "y" OR THE LAST CHARACTER OF s EQUALS STRING "Y"
        INCREMENT n_vowels BY 1
    RETURN n_vowels