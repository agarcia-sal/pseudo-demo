FUNCTION closest_integer(value)
    FROM MATH IMPORT floor, ceil

    IF CALL value.count WITH ARGUMENT '.' EQUALS 1 THEN
        WHILE CALL value SUBTRACT LAST CHARACTER EQUALS '0' DO
            SET value TO CALL value FROM START TO LENGTH MINUS 1
        END WHILE
    END IF

    SET num TO CALL float WITH ARGUMENT value

    IF CALL value FROM LENGTH MINUS 2 TO END EQUALS '.5' THEN
        IF num GREATER THAN 0 THEN
            SET res TO CALL ceil WITH ARGUMENT num
        ELSE
            SET res TO CALL floor WITH ARGUMENT num
        END IF
    ELSE IF LENGTH OF value GREATER THAN 0 THEN
        SET res TO CALL round WITH ARGUMENT num AND CONVERT TO INTEGER
    ELSE
        SET res TO 0
    END IF

    RETURN res
END FUNCTION