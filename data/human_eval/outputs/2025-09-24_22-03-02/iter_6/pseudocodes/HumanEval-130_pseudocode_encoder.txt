FUNCTION tri(n)
    IF n IS EQUAL TO 0 THEN
        RETURN LIST CONTAINING 1
    END IF

    SET my_tri TO LIST [1, 3]

    FOR i FROM 2 TO n DO
        IF i MODULO 2 IS EQUAL TO 0 THEN
            APPEND (1 PLUS i DIVIDED BY 2) TO my_tri
        ELSE
            APPEND (my_tri ELEMENT AT INDEX i MINUS 1 PLUS my_tri ELEMENT AT INDEX i MINUS 2 PLUS (i PLUS 3) DIVIDED BY 2) TO my_tri
        END IF
    END FOR

    RETURN my_tri
END FUNCTION