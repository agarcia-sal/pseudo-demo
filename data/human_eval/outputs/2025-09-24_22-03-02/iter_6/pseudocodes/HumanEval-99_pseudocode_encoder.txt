FUNCTION closest_integer(value)
    IMPORT floor, ceil FROM math

    IF value CONTAINS exactly one period THEN
        WHILE value ENDS WITH '0' DO
            SET value TO value WITHOUT LAST CHARACTER
        END WHILE
    END IF

    SET num TO CONVERT value TO float

    IF value ENDS WITH '.5' THEN
        IF num GREATER THAN 0 THEN
            SET result TO ceil(num)
        ELSE
            SET result TO floor(num)
        END IF
    ELSE IF LENGTH of value GREATER THAN 0 THEN
        SET result TO ROUND num TO NEAREST INTEGER
    ELSE
        SET result TO 0
    END IF

    RETURN result
END FUNCTION