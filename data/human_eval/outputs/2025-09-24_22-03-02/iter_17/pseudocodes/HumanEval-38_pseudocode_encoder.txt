```
FUNCTION encode_cyclic(s: str)
    SET groups TO EMPTY LIST
    SET count TO LENGTH OF s PLUS 2 DIVIDED BY 3
    FOR i FROM 0 TO count MINUS 1
        SET start_index TO 3 MULTIPLY BY i
        IF 3 MULTIPLY BY i PLUS 3 LESS THAN LENGTH OF s
            SET end_index TO 3 MULTIPLY BY i PLUS 3
        ELSE
            SET end_index TO LENGTH OF s
        SET substring TO SUBSTRING OF s FROM start_index TO end_index
        APPEND substring TO groups
    SET new_groups TO EMPTY LIST
    FOR EACH group IN groups
        IF LENGTH OF group EQUALS 3
            SET cycled_group TO CONCATENATE SUBSTRING OF group FROM 1 TO END WITH SUBSTRING OF group FROM 0 TO 1
            APPEND cycled_group TO new_groups
        ELSE
            APPEND group TO new_groups
    SET result TO EMPTY STRING
    FOR EACH element IN new_groups
        CONCATENATE element TO result
    RETURN result
END FUNCTION

FUNCTION decode_cyclic(s: str)
    SET first_call TO CALL encode_cyclic WITH ARGUMENTS s
    SET second_call TO CALL encode_cyclic WITH ARGUMENTS first_call
    RETURN second_call
END FUNCTION
```