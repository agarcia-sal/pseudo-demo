```
FUNCTION encode(message)
    SET vowels TO STRING "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH i IN vowels
        SET vowels_replace AT KEY i TO CALL chr WITH ARGUMENTS CALL ord WITH ARGUMENTS i PLUS 2
    SET message TO CALL swapcase METHOD OF message WITH NO ARGUMENTS
    SET result TO EMPTY LIST
    FOR EACH i IN message
        IF i IN vowels
            APPEND vowels_replace AT KEY i TO result
        ELSE
            APPEND i TO result
    SET joined_result TO CALL join WITH ARGUMENTS result
    RETURN joined_result
END FUNCTION
```