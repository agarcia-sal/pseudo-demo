FUNCTION modp(n: int, p: int)
    SET ret TO 1
    FOR EACH i IN RANGE FROM 0 TO n MINUS 1
        SET ret TO (2 MULTIPLY BY ret) MODULO p
    RETURN ret
END FUNCTION