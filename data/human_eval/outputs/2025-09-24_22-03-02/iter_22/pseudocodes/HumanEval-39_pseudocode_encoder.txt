FUNCTION prime_fib(n INTEGER)
    FUNCTION is_prime(p INTEGER)
        IF p LESS THAN 2 THEN
            RETURN False
        END IF
        SET limit INTEGER TO CALL math.sqrt WITH ARGUMENTS p
        SET limit TO limit PLUS 1
        IF limit GREATER THAN p MINUS 1 THEN
            SET limit TO p MINUS 1
        END IF
        FOR k FROM 2 TO limit MINUS 1
            IF p MODULO k EQUALS 0 THEN
                RETURN False
            END IF
        END FOR
        RETURN True
    END FUNCTION
    SET f TO A LIST CONTAINING 0 AND 1
    WHILE True
        SET length INTEGER TO LENGTH OF f
        SET last INTEGER TO f AT INDEX length MINUS 1
        SET second_last INTEGER TO f AT INDEX length MINUS 2
        SET next_fib INTEGER TO last PLUS second_last
        APPEND next_fib TO f
        SET length TO length PLUS 1
        IF CALL is_prime WITH ARGUMENTS f AT INDEX length MINUS 1 THEN
            SET n TO n MINUS 1
        END IF
        IF n EQUALS 0 THEN
            RETURN f AT INDEX length MINUS 1
        END IF
    END WHILE
END FUNCTION