FUNCTION digits(n)
    SET product EQUALS 1
    SET odd_count EQUALS 0
    SET digit_list EQUALS CALL str WITH ARGUMENTS n
    FOR i FROM 0 TO LENGTH OF digit_list MINUS 1
        SET digit_char EQUALS digit_list AT INDEX i
        SET int_digit EQUALS CALL int WITH ARGUMENTS digit_char
        IF int_digit MODULO 2 EQUALS 1 THEN
            SET product EQUALS product MULTIPLY int_digit
            SET odd_count EQUALS odd_count PLUS 1
        END IF
    END FOR
    IF odd_count EQUALS 0 THEN
        RETURN 0
    ELSE
        RETURN product
    END IF
END FUNCTION