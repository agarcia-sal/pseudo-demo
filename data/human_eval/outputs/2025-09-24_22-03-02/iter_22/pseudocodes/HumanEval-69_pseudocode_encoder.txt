FUNCTION search(lst)
    SET frq TO a list of integers WITH LENGTH (CALL max WITH ARGUMENTS lst) PLUS 1 FILLED WITH 0
    FOR index FROM 0 TO LENGTH OF lst MINUS 1
        SET i TO lst AT index
        SET frq AT i TO frq AT i PLUS 1
    END FOR

    SET ans TO -1
    FOR i FROM 1 TO LENGTH OF frq MINUS 1
        IF frq AT i GREATER THAN OR EQUAL TO i THEN
            SET ans TO i
        END IF
    END FOR

    RETURN ans
END FUNCTION