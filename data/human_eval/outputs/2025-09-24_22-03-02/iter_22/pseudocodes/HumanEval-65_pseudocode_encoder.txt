FUNCTION circular_shift(x, shift)
    SET s EQUALS CALL str WITH ARGUMENTS x
    IF shift GREATER THAN CALL len WITH ARGUMENTS s
        SET reversed_string TO EMPTY STRING
        SET index TO CALL len WITH ARGUMENTS s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0
            SET reversed_string TO reversed_string PLUS s AT index
            DECREMENT index BY 1
        END WHILE
        RETURN reversed_string
    ELSE
        SET length_s TO CALL len WITH ARGUMENTS s
        SET part1 TO EMPTY STRING
        SET part2 TO EMPTY STRING
        SET index TO length_s MINUS shift
        WHILE index LESS THAN length_s
            SET part1 TO part1 PLUS s AT index
            INCREMENT index BY 1
        END WHILE
        SET index TO 0
        WHILE index LESS THAN length_s MINUS shift
            SET part2 TO part2 PLUS s AT index
            INCREMENT index BY 1
        END WHILE
        RETURN part1 PLUS part2
    END IF
END FUNCTION