FUNCTION anti_shuffle(s AS STRING) AS STRING
    SET words TO CALL s SPLIT WITH ARGUMENTS ' '
    SET ordered_words TO AN EMPTY LIST
    FOR index FROM 0 TO LENGTH OF words MINUS 1
        SET word TO words AT index
        SET char_list TO AN EMPTY LIST
        FOR char_index FROM 0 TO LENGTH OF word MINUS 1
            SET char_element TO word AT char_index
            CALL char_list APPEND WITH ARGUMENTS char_element
        END FOR
        SET sorted_char_list TO CALL char_list SORTED IN ASCENDING ORDER BASED ON ASCII VALUE
        SET ordered_word TO EMPTY STRING
        FOR sorted_index FROM 0 TO LENGTH OF sorted_char_list MINUS 1
            SET ordered_word TO ordered_word PLUS sorted_char_list AT sorted_index
        END FOR
        CALL ordered_words APPEND WITH ARGUMENTS ordered_word
    END FOR
    SET result TO EMPTY STRING
    FOR result_index FROM 0 TO LENGTH OF ordered_words MINUS 1
        IF result_index GREATER THAN 0 THEN
            SET result TO result PLUS ' '
        END IF
        SET result TO result PLUS ordered_words AT result_index
    END FOR
    RETURN result
END FUNCTION