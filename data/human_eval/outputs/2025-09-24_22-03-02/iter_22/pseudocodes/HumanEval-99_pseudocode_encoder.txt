FUNCTION closest_integer(value STRING)  
    IF CALL value.count WITH ARGUMENTS '.' EQUALS 1 THEN  
        WHILE value CALL value[-1] EQUALS '0' DO  
            SET value TO CALL value[0 TO LENGTH OF value MINUS 1]  
        END WHILE  
    END IF  
    SET num TO CALL float WITH ARGUMENTS value  
    IF CALL value[LENGTH OF value MINUS 2 TO LENGTH OF value] EQUALS '.5' THEN  
        IF num GREATER THAN 0 THEN  
            SET res TO CALL ceil WITH ARGUMENTS num  
        ELSE  
            SET res TO CALL floor WITH ARGUMENTS num  
        END IF  
    ELSE IF LENGTH OF value GREATER THAN 0 THEN  
        SET res TO CALL round WITH ARGUMENTS num  
    ELSE  
        SET res TO 0  
    END IF  
    RETURN res  
END FUNCTION