FUNCTION select_words(s, n)
    SET result TO EMPTY LIST
    SET words TO EMPTY LIST
    SET index_words TO 0
    SET length_s TO LENGTH OF s
    SET current_word TO EMPTY STRING
    WHILE index_words LESS THAN length_s
        IF s AT index_words EQUALS SPACE
            IF current_word NOT EQUAL TO EMPTY STRING
                APPEND current_word TO words
                SET current_word TO EMPTY STRING
            END IF
        ELSE
            SET current_word TO current_word PLUS s AT index_words
        END IF
        INCREMENT index_words BY 1
    END WHILE
    IF current_word NOT EQUAL TO EMPTY STRING
        APPEND current_word TO words
    END IF
    SET index_word TO 0
    SET length_words TO LENGTH OF words
    WHILE index_word LESS THAN length_words
        SET word TO words AT index_word
        SET n_consonants TO 0
        SET index_char TO 0
        SET length_word TO LENGTH OF word
        WHILE index_char LESS THAN length_word
            SET char_lower TO CALL LOWER ON word AT index_char
            IF char_lower NOT EQUAL TO "a" AND char_lower NOT EQUAL TO "e" AND char_lower NOT EQUAL TO "i" AND char_lower NOT EQUAL TO "o" AND char_lower NOT EQUAL TO "u"
                SET n_consonants TO n_consonants PLUS 1
            END IF
            INCREMENT index_char BY 1
        END WHILE
        IF n_consonants EQUALS n
            APPEND word TO result
        END IF
        INCREMENT index_word BY 1
    END WHILE
    RETURN result
END FUNCTION