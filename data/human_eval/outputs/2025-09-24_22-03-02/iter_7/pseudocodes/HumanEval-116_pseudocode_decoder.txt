FUNCTION sort_array(arr)
    RETURN sorted(
        sorted(arr),
        KEY FUNCTION(x)
            RETURN count of character '1' in binary representation of x starting from index 2
        END FUNCTION
    )
END FUNCTION