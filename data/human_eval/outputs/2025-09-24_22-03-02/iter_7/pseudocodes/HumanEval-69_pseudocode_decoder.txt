FUNCTION search(lst)
    SET frq TO list of zeros with length MAXIMUM value in lst PLUS 1
    FOR EACH i IN lst DO
        SET frq[i] TO frq[i] PLUS 1
    END FOR

    SET ans TO -1
    FOR i FROM 1 TO LENGTH of frq MINUS 1 DO
        IF frq[i] IS GREATER THAN OR EQUAL TO i THEN
            SET ans TO i
        END IF
    END FOR

    RETURN ans
END FUNCTION