FUNCTION max_fill(grid, capacity)
    IMPORT math

    SET total_times TO 0

    FOR EACH arr IN grid
        SET water_units TO SUM of elements in arr
        SET times TO math.ceil(water_units DIVIDED BY capacity)
        SET total_times TO total_times PLUS times
    END FOR

    RETURN total_times
END FUNCTION