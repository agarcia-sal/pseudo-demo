FUNCTION sort_numbers(numbers AS STRING) RETURNS STRING
    SET value_map TO DICTIONARY WITH
        "zero" MAPPED TO 0,
        "one" MAPPED TO 1,
        "two" MAPPED TO 2,
        "three" MAPPED TO 3,
        "four" MAPPED TO 4,
        "five" MAPPED TO 5,
        "six" MAPPED TO 6,
        "seven" MAPPED TO 7,
        "eight" MAPPED TO 8,
        "nine" MAPPED TO 9

    SET number_list TO LIST FROM SPLITTING numbers BY SPACE
    SET filtered_list TO EMPTY LIST
    FOR EACH x IN number_list
        IF x IS NOT EMPTY
            ADD x TO filtered_list
        END IF
    END FOR

    SET sorted_list TO filtered_list SORTED BY value_map[x]

    SET result TO JOIN sorted_list BY SPACE
    RETURN result
END FUNCTION