FUNCTION parse_music WITH PARAMETER music_string OF TYPE String RETURNS List OF Integer
    SET note_map TO DICTIONARY WITH KEYS AND VALUES:
        "o" MAPPED TO 4,
        "o|" MAPPED TO 2,
        ".|" MAPPED TO 1
    SET note_list TO EMPTY LIST OF Integer
    FOR EACH note IN SPLIT music_string BY SPACE
        IF note IS NOT EMPTY
            APPEND note_map[note] TO note_list
    RETURN note_list