FUNCTION encode_shift WITH PARAMETER s AS STRING
    RETURN JOIN ALL CHARACTERS chr WITH EACH ch IN s WHERE
        SET code TO (ORDINAL VALUE OF ch PLUS 5 MINUS ORDINAL VALUE OF "a") MODULO 26 PLUS ORDINAL VALUE OF "a"
        COMPUTE CHARACTER FROM code

FUNCTION decode_shift WITH PARAMETER s AS STRING
    RETURN JOIN ALL CHARACTERS chr WITH EACH ch IN s WHERE
        SET code TO (ORDINAL VALUE OF ch MINUS 5 MINUS ORDINAL VALUE OF "a") MODULO 26 PLUS ORDINAL VALUE OF "a"
        COMPUTE CHARACTER FROM code