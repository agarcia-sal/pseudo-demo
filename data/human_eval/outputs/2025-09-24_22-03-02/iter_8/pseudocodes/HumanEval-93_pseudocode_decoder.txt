FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH letter IN vowels
        SET vowels_replace[letter] TO CHARACTER WITH ASCII VALUE (ASCII VALUE OF letter PLUS 2)
    END FOR
    SET message TO SWAP CASE OF message
    SET encoded_message TO EMPTY STRING
    FOR EACH character IN message
        IF character IS IN vowels THEN
            SET encoded_message TO encoded_message CONCATENATED WITH vowels_replace[character]
        ELSE
            SET encoded_message TO encoded_message CONCATENATED WITH character
        END IF
    END FOR
    RETURN encoded_message
END FUNCTION