FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS AND VALUES 'o' MAPPED TO 4, 'o|' MAPPED TO 2, '.|' MAPPED TO 1
    SET split_list TO RESULT OF CALL music_string SPLIT BY SPACE CHARACTER
    SET result_list TO EMPTY LIST
    FOR EACH x IN split_list
        IF x IS NOT EMPTY STRING
            APPEND ELEMENT note_map AT KEY x TO result_list
    RETURN result_list