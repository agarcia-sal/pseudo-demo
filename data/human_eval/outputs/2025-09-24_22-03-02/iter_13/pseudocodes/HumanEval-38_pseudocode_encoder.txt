FUNCTION encode_cyclic(s)
    SET groups TO EMPTY LIST
    SET total_groups TO LENGTH OF s PLUS 2 DIVIDED BY 3
    FOR i FROM 0 TO total_groups MINUS 1 INCLUSIVE
        SET start_index TO 3 MULTIPLY BY i
        SET end_index TO MINIMUM OF (3 MULTIPLY BY i PLUS 3) AND LENGTH OF s
        SET group TO SUBSTRING OF s FROM start_index TO end_index
        APPEND group TO groups
    FOR index FROM 0 TO LENGTH OF groups MINUS 1 INCLUSIVE
        SET group TO ELEMENT AT INDEX index IN groups
        IF LENGTH OF group EQUALS 3
            SET groups AT INDEX index TO SUBSTRING OF group FROM 1 TO END CONCATENATE ELEMENT AT INDEX 0 IN group
        ELSE
            SET groups AT INDEX index TO group
    SET result TO EMPTY STRING
    FOR group IN groups
        CONCATENATE group TO result
    RETURN result

FUNCTION decode_cyclic(s)
    RETURN CALL encode_cyclic WITH ARGUMENT CALL encode_cyclic WITH ARGUMENT s