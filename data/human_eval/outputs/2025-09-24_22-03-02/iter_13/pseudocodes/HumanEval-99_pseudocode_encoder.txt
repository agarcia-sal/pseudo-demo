FUNCTION closest_integer(value)
    FROM math IMPORT floor
    FROM math IMPORT ceil
    IF COUNT OF CHARACTER '.' IN value EQUALS 1
        WHILE ELEMENT AT INDEX LENGTH OF value MINUS 1 EQUALS CHARACTER '0'
            SET value TO SUBSTRING OF value FROM START TO LENGTH OF value MINUS 1
    SET num TO FLOAT CONVERSION OF value
    IF SUBSTRING OF value FROM LENGTH OF value MINUS 2 TO END EQUALS STRING '.5'
        IF num GREATER THAN 0
            SET res TO CALL ceil WITH num
        ELSE
            SET res TO CALL floor WITH num
    ELSE IF LENGTH OF value GREATER THAN 0
        SET res TO INTEGER CONVERSION OF ROUNDING num
    ELSE
        SET res TO 0
    RETURN res