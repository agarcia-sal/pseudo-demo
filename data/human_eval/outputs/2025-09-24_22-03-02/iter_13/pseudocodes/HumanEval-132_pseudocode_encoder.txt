FUNCTION is_nested(string)  
    SET opening_bracket_index TO empty list  
    SET closing_bracket_index TO empty list  
    FOR i FROM zero TO LENGTH OF string MINUS one INCLUSIVE  
        IF ELEMENT AT INDEX i OF string EQUALS '['  
            CALL APPEND i TO opening_bracket_index  
        ELSE  
            CALL APPEND i TO closing_bracket_index  
    CALL closing_bracket_index REVERSE  
    SET cnt TO zero  
    SET i TO zero  
    SET l TO LENGTH OF closing_bracket_index  
    FOR EACH idx IN opening_bracket_index  
        IF i LESS THAN l AND idx LESS THAN ELEMENT AT INDEX i OF closing_bracket_index  
            SET cnt TO cnt PLUS one  
            SET i TO i PLUS one  
    RETURN cnt GREATER THAN OR EQUAL TO two