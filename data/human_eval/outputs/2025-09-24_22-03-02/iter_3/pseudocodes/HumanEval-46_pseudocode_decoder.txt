FUNCTION fib4 WITH PARAMETER n AS INTEGER
    SET results TO LIST CONTAINING 0, 0, 2, 0
    IF n IS LESS THAN 4 THEN
        RETURN results AT INDEX n
    END IF

    FOR index FROM 4 TO n INCLUSIVE DO
        SET new_value TO results AT INDEX LAST ELEMENT PLUS results AT INDEX SECOND LAST ELEMENT PLUS results AT INDEX THIRD LAST ELEMENT PLUS results AT INDEX FOURTH LAST ELEMENT
        APPEND new_value TO results
        REMOVE FIRST ELEMENT FROM results
    END FOR

    RETURN results AT INDEX LAST ELEMENT
END FUNCTION