FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowelsReplace TO EMPTY DICTIONARY
    FOR each vowel IN vowels
        SET vowelsReplace[vowel] TO CHARACTER WITH ASCII CODE (ASCII CODE OF vowel PLUS 2)
    END FOR
    SET message TO message WITH SWAPPED CASE LETTERS
    SET result TO EMPTY STRING
    FOR each character IN message
        IF character IS IN vowels THEN
            APPEND vowelsReplace[character] TO result
        ELSE
            APPEND character TO result
        END IF
    END FOR
    RETURN result
END FUNCTION