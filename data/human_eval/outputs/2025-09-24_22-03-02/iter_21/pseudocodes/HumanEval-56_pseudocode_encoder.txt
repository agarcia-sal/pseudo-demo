FUNCTION correct_bracketing WITH PARAMETER brackets AS str
    SET depth TO 0
    FOR EACH b IN brackets
        IF b EQUALS "<"
            SET depth TO depth PLUS 1
        ELSE
            SET depth TO depth MINUS 1
        IF depth LESS THAN 0
            RETURN False
    RETURN depth EQUALS 0