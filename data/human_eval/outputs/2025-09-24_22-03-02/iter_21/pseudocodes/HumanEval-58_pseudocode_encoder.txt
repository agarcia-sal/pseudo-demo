FUNCTION common WITH PARAMETERS l1 AS list, l2 AS list
    SET ret AS SET WITH ELEMENTS EMPTY
    FOR EACH e1 IN l1
        FOR EACH e2 IN l2
            IF e1 EQUALS e2
                CALL ret.add WITH ARGUMENT e1
            END IF
        END FOR
    END FOR
    SET ret_list AS LIST WITH ELEMENTS EMPTY
    FOR EACH element IN ret
        CALL ret_list.append WITH ARGUMENT element
    END FOR
    CALL ret_list_sorted AS LIST EQUALS CALL sorted WITH ARGUMENT ret_list
    RETURN ret_list_sorted
END FUNCTION