FUNCTION is_palindrome WITH PARAMETER string OF TYPE str RETURNS bool
    RETURN string EQUALS REVERSE OF string

FUNCTION make_palindrome WITH PARAMETER string OF TYPE str RETURNS str
    IF string EQUALS EMPTY STRING THEN
        RETURN EMPTY STRING
    ENDIF

    SET beginning_of_suffix TO 0

    WHILE CALL is_palindrome WITH ARGUMENT string FROM INDEX beginning_of_suffix TO END RETURNS FALSE DO
        INCREMENT beginning_of_suffix BY 1
    ENDWHILE

    SET prefix_to_reverse TO EMPTY STRING
    SET index TO 0
    WHILE index LESS THAN beginning_of_suffix DO
        CONCATENATE prefix_to_reverse WITH CHARACTER AT string AT index
        INCREMENT index BY 1
    ENDWHILE

    SET reversed_prefix TO EMPTY STRING
    SET reverse_index TO beginning_of_suffix MINUS 1
    WHILE reverse_index GREATER THAN OR EQUAL TO 0 DO
        CONCATENATE reversed_prefix WITH CHARACTER AT prefix_to_reverse AT reverse_index
        DECREMENT reverse_index BY 1
    ENDWHILE

    RETURN CONCATENATION OF string WITH reversed_prefix