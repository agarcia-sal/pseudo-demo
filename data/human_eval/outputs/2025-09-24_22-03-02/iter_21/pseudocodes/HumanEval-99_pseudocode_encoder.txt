FUNCTION closest_integer(value)
    IMPORT floor FROM math
    IMPORT ceil FROM math
    IF CALL value.count WITH ARGUMENTS '.' EQUALS 1 THEN
        WHILE CALL value.__getitem__ WITH ARGUMENTS CALL len WITH ARGUMENTS value MINUS 1 EQUALS '0' DO
            SET value TO CALL value.__getslice__ WITH ARGUMENTS 0 AND CALL len WITH ARGUMENTS value MINUS 1
    END IF
    SET num TO CALL float WITH ARGUMENTS value
    IF CALL value.__getslice__ WITH ARGUMENTS CALL len WITH ARGUMENTS value MINUS 2 AND CALL len WITH ARGUMENTS value EQUALS '.5' THEN
        IF num GREATER THAN 0 THEN
            SET res TO CALL ceil WITH ARGUMENTS num
        ELSE
            SET res TO CALL floor WITH ARGUMENTS num
        END IF
    ELSE IF CALL len WITH ARGUMENTS value GREATER THAN 0 THEN
        SET res TO CALL int WITH ARGUMENTS CALL round WITH ARGUMENTS num
    ELSE
        SET res TO 0
    END IF
    RETURN res
END FUNCTION