FUNCTION encode_shift WITH PARAMETER s OF TYPE str
    SET result TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF s MINUS 1 INCLUSIVE
        SET ch TO CHARACTER AT POSITION index IN s
        SET shifted_value TO ((CALL ORD WITH ARGUMENTS ch PLUS 5 MINUS CALL ORD WITH ARGUMENTS "a") MODULO 26) PLUS CALL ORD WITH ARGUMENTS "a"
        SET shifted_char TO CALL CHR WITH ARGUMENTS shifted_value
        SET result TO result CONCATENATE shifted_char
    END FOR
    RETURN result
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE str
    SET result TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF s MINUS 1 INCLUSIVE
        SET ch TO CHARACTER AT POSITION index IN s
        SET shifted_value TO ((CALL ORD WITH ARGUMENTS ch MINUS 5 MINUS CALL ORD WITH ARGUMENTS "a") MODULO 26) PLUS CALL ORD WITH ARGUMENTS "a"
        SET shifted_char TO CALL CHR WITH ARGUMENTS shifted_value
        SET result TO result CONCATENATE shifted_char
    END FOR
    RETURN result
END FUNCTION