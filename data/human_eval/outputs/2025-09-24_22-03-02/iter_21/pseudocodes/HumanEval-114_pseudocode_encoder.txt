FUNCTION minSubArraySum WITH PARAMETER nums
    SET max_sum TO 0
    SET s TO 0
    FOR EACH num IN nums
        SET s TO s PLUS NEGATIVE num
        IF s LESS THAN 0
            SET s TO 0
        END IF
        IF s GREATER THAN max_sum
            SET max_sum TO s
        END IF
    END FOR
    IF max_sum EQUALS 0
        SET max_candidate TO NEGATIVE nums AT INDEX 0
        SET index TO 1
        WHILE index LESS THAN LENGTH OF nums
            IF NEGATIVE nums AT INDEX index GREATER THAN max_candidate
                SET max_candidate TO NEGATIVE nums AT INDEX index
            END IF
            INCREMENT index BY 1
        END WHILE
        SET max_sum TO max_candidate
    END IF
    SET min_sum TO NEGATIVE max_sum
    RETURN min_sum
END FUNCTION