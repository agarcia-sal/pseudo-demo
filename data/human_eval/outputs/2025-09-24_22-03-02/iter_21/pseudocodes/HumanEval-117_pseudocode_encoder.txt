FUNCTION select_words WITH PARAMETERS s, n
    SET result TO LIST WITH ELEMENTS EMPTY
    IF s EQUALS EMPTY STRING
        RETURN result
    FOR index_word FROM 0 TO LENGTH OF s SPLIT BY SPACE MINUS 1
        SET word TO ELEMENT AT index_word IN s SPLIT BY SPACE
        SET n_consonants TO 0
        FOR i FROM 0 TO LENGTH OF word MINUS 1
            SET letter TO ELEMENT AT i IN word
            IF CALL letter.lower WITH NO ARGUMENTS NOT IN LIST WITH ELEMENTS "a", "e", "i", "o", "u"
                INCREMENT n_consonants BY 1
        IF n_consonants EQUALS n
            CALL result.APPEND WITH ARGUMENTS word
    RETURN result