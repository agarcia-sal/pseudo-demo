FUNCTION sort_array WITH PARAMETER array
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET sum_first_last TO array AT INDEX 0 PLUS array AT INDEX LENGTH OF array MINUS 1
        SET is_reverse TO sum_first_last MODULO 2 EQUALS 0
        SET copy_array TO LIST WITH ELEMENTS EMPTY
        FOR EACH element IN array DO
            APPEND element TO copy_array
        END FOR
        SET n TO LENGTH OF copy_array
        FOR i FROM 0 TO n MINUS 2 INCLUSIVE DO
            FOR j FROM 0 TO n MINUS 2 MINUS i INCLUSIVE DO
                IF is_reverse EQUALS TRUE THEN
                    IF copy_array AT INDEX j LESS THAN copy_array AT INDEX j PLUS 1 THEN
                        SET temp TO copy_array AT INDEX j
                        SET copy_array AT INDEX j TO copy_array AT INDEX j PLUS 1
                        SET copy_array AT INDEX j PLUS 1 TO temp
                    END IF
                ELSE
                    IF copy_array AT INDEX j GREATER THAN copy_array AT INDEX j PLUS 1 THEN
                        SET temp TO copy_array AT INDEX j
                        SET copy_array AT INDEX j TO copy_array AT INDEX j PLUS 1
                        SET copy_array AT INDEX j PLUS 1 TO temp
                    END IF
                END IF
            END FOR
        END FOR
        RETURN copy_array
    END IF