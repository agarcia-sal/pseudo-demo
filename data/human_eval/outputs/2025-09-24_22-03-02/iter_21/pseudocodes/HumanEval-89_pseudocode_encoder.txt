FUNCTION encrypt WITH PARAMETER s
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO EMPTY STRING
    FOR EACH c IN s
        IF c IN d
            SET index TO CALL d.index WITH ARGUMENT c
            SET shifted_index TO index PLUS 2 MULTIPLY 2
            SET wrapped_index TO shifted_index MODULO 26
            SET character TO CALL d.__getitem__ WITH ARGUMENT wrapped_index
            SET out TO CONCATENATE out AND character
        ELSE
            SET out TO CONCATENATE out AND c
    RETURN out