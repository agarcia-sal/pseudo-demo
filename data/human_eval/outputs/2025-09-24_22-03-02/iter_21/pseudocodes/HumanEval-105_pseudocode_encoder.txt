FUNCTION by_length WITH PARAMETER arr
    SET dic TO DICTIONARY WITH ELEMENTS
        1 MAPPED TO "One"
        2 MAPPED TO "Two"
        3 MAPPED TO "Three"
        4 MAPPED TO "Four"
        5 MAPPED TO "Five"
        6 MAPPED TO "Six"
        7 MAPPED TO "Seven"
        8 MAPPED TO "Eight"
        9 MAPPED TO "Nine"
    END DICTIONARY
    SET filtered_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF arr MINUS 1 INCLUSIVE
        IF arr AT i GREATER THAN OR EQUAL TO 1 AND arr AT i LESS THAN OR EQUAL TO 9 THEN
            APPEND arr AT i TO filtered_arr
        END IF
    END FOR
    SET n TO LENGTH OF filtered_arr
    FOR i FROM 0 TO n MINUS 2 INCLUSIVE
        FOR j FROM 0 TO n MINUS 2 MINUS i INCLUSIVE
            IF filtered_arr AT j GREATER THAN filtered_arr AT j PLUS 1 THEN
                SET temp TO filtered_arr AT j
                SET filtered_arr AT j TO filtered_arr AT j PLUS 1
                SET filtered_arr AT j PLUS 1 TO temp
            END IF
        END FOR
    END FOR
    SET reversed_arr TO LIST WITH ELEMENTS EMPTY
    FOR k FROM n MINUS 1 DOWNTO 0 STEP MINUS 1
        APPEND filtered_arr AT k TO reversed_arr
    END FOR
    SET new_arr TO LIST WITH ELEMENTS EMPTY
    FOR each_element IN reversed_arr
        IF each_element IN dic THEN
            APPEND dic AT each_element TO new_arr
        END IF
    END FOR
    RETURN new_arr