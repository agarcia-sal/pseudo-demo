FUNCTION derivative WITH PARAMETER xs OF TYPE list
    SET result TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF xs MINUS 1 INCLUSIVE
        SET x TO xs AT INDEX i
        SET product TO i MULTIPLY x
        APPEND product TO result
    END FOR
    SET sliced_result TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 1 TO LENGTH OF result MINUS 1 INCLUSIVE
        SET value TO result AT INDEX index
        APPEND value TO sliced_result
    END FOR
    RETURN sliced_result
END FUNCTION