FUNCTION closest_integer(value)
    IMPORT floor FROM math
    IMPORT ceil FROM math
    IF count OF '.' IN value IS EQUAL TO 1
        WHILE last character OF value IS EQUAL TO '0'
            SET value TO all characters OF value EXCEPT last character
    SET num TO float OF value
    IF last two characters OF value ARE EQUAL TO '.5'
        IF num IS GREATER THAN 0
            SET res TO CALL ceil WITH num
        ELSE
            SET res TO CALL floor WITH num
    ELSE IF length OF value IS GREATER THAN 0
        SET res TO int OF round OF num
    ELSE
        SET res TO 0
    RETURN res