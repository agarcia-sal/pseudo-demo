FUNCTION select_words WITH PARAMETERS s, n
    SET result TO LIST WITH ELEMENTS EMPTY
    SET words TO CALL split ON s WITH ARGUMENTS SPACE
    FOR index FROM 0 TO LENGTH OF words MINUS ONE
        SET word TO words AT index
        SET n_consonants TO 0
        FOR i FROM 0 TO LENGTH OF word MINUS ONE
            SET current_char TO CALL lower ON word AT i
            IF current_char NOT EQUAL TO "a" AND current_char NOT EQUAL TO "e" AND current_char NOT EQUAL TO "i" AND current_char NOT EQUAL TO "o" AND current_char NOT EQUAL TO "u"
                SET n_consonants TO n_consonants PLUS 1
            END IF
        END FOR
        IF n_consonants EQUALS n
            CALL append ON result WITH ARGUMENTS word
        END IF
    END FOR
    RETURN result
END FUNCTION