FUNCTION by_length(arr)
    SET dic TO DICTIONARY WITH KEYS AND VALUES:
        1 MAPPED TO "One"
        2 MAPPED TO "Two"
        3 MAPPED TO "Three"
        4 MAPPED TO "Four"
        5 MAPPED TO "Five"
        6 MAPPED TO "Six"
        7 MAPPED TO "Seven"
        8 MAPPED TO "Eight"
        9 MAPPED TO "Nine"
    SET filtered_arr TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF arr MINUS 1
        SET element TO arr AT index
        IF element IS GREATER THAN OR EQUAL TO 1 AND element IS LESS THAN OR EQUAL TO 9
            APPEND element TO filtered_arr
    SET sorted_arr TO LIST WITH ELEMENTS EMPTY
    WHILE LENGTH OF filtered_arr IS GREATER THAN 0
        SET max_value TO filtered_arr AT 0
        SET max_index TO 0
        FOR idx FROM 1 TO LENGTH OF filtered_arr MINUS 1
            IF filtered_arr AT idx IS GREATER THAN max_value
                SET max_value TO filtered_arr AT idx
                SET max_index TO idx
        APPEND max_value TO sorted_arr
        REMOVE ELEMENT AT max_index FROM filtered_arr
    SET new_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF sorted_arr MINUS 1
        SET var TO sorted_arr AT i
        SET name TO dic AT var
        APPEND name TO new_arr
    RETURN new_arr