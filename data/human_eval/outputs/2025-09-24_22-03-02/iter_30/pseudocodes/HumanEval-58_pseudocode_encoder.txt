FUNCTION common WITH PARAMETERS l1 AS LIST, l2 AS LIST  
    SET ret TO EMPTY SET  
    SET i TO 0  
    WHILE i LESS THAN LENGTH OF l1  
        SET e1 TO ELEMENT AT INDEX i OF l1  
        SET j TO 0  
        WHILE j LESS THAN LENGTH OF l2  
            SET e2 TO ELEMENT AT INDEX j OF l2  
            IF e1 EQUALS e2 THEN  
                CALL add METHOD ON ret WITH ARGUMENT e1  
            END IF  
            INCREMENT j BY 1  
        END WHILE  
        INCREMENT i BY 1  
    END WHILE  
    SET ret_list TO EMPTY LIST  
    FOR EACH element IN ret DO  
        APPEND element TO ret_list  
    END FOR  
    CALL sort METHOD ON ret_list WITHOUT ARGUMENTS  
    RETURN ret_list  
END FUNCTION