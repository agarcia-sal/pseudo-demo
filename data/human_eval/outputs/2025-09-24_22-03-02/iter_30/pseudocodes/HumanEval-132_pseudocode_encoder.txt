FUNCTION is_nested(string)
    SET opening_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET closing_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET length_of_string TO LENGTH OF string
    SET index TO 0
    WHILE index LESS THAN length_of_string
        SET current_char TO ELEMENT AT INDEX index OF string
        IF current_char EQUALS '['
            CALL APPEND ON opening_bracket_index WITH ARGUMENTS index
        ELSE
            CALL APPEND ON closing_bracket_index WITH ARGUMENTS index
        INCREMENT index BY 1
    CALL REVERSE ON closing_bracket_index
    SET cnt TO 0
    SET i TO 0
    SET l TO LENGTH OF closing_bracket_index
    SET pos TO 0
    WHILE pos LESS THAN LENGTH OF opening_bracket_index
        SET idx TO ELEMENT AT INDEX pos OF opening_bracket_index
        IF i LESS THAN l AND idx LESS THAN ELEMENT AT INDEX i OF closing_bracket_index
            SET cnt TO cnt PLUS 1
            SET i TO i PLUS 1
        INCREMENT pos BY 1
    IF cnt GREATER THAN OR EQUAL TO 2
        RETURN True
    ELSE
        RETURN False