FUNCTION derivative WITH PARAMETER xs OF TYPE list
    SET result TO LIST WITH ELEMENTS EMPTY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF xs
        SET product TO index MULTIPLY xs AT index
        APPEND product TO result
        INCREMENT index BY 1
    END WHILE
    SET result TO SLICE OF result FROM INDEX 1 TO LENGTH OF result MINUS ONE
    RETURN result
END FUNCTION