FUNCTION search(lst)
    SET max_value TO lst AT INDEX zero
    FOR index FROM 1 TO LENGTH OF lst MINUS ONE
        IF lst AT INDEX index GREATER THAN max_value
            SET max_value TO lst AT INDEX index
    
    SET frq TO LIST WITH ELEMENTS zero FROM zero TO max_value PLUS one MINUS ONE
    FOR index FROM zero TO LENGTH OF lst MINUS ONE
        SET i TO lst AT INDEX index
        SET frq AT INDEX i TO frq AT INDEX i PLUS one

    SET ans TO negative one
    FOR i FROM 1 TO LENGTH OF frq MINUS ONE
        IF frq AT INDEX i GREATER THAN OR EQUAL TO i
            SET ans TO i

    RETURN ans