FUNCTION encode_shift WITH PARAMETER s AS STRING
    SET result TO EMPTY LIST
    SET length TO CALL method LENGTH ON s WITH ARGUMENTS NONE
    SET index TO 0
    WHILE index LESS THAN length
        SET ch TO ELEMENT AT index IN s
        SET original_code TO CALL FUNCTION ord WITH ARGUMENTS ch
        SET a_code TO CALL FUNCTION ord WITH ARGUMENTS STRING WITH ELEMENTS "a"
        SET shifted_code TO original_code PLUS 5 MINUS a_code
        SET mod_code TO shifted_code MODULO 26
        SET final_code TO mod_code PLUS a_code
        SET shifted_character TO CALL FUNCTION chr WITH ARGUMENTS final_code
        CALL APPEND ON result WITH ARGUMENTS shifted_character
        INCREMENT index BY 1
    END WHILE
    SET encoded_string TO CALL METHOD join ON STRING WITH ELEMENTS EMPTY WITH ARGUMENTS result
    RETURN encoded_string
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s AS STRING
    SET result TO EMPTY LIST
    SET length TO CALL METHOD LENGTH ON s WITH ARGUMENTS NONE
    SET index TO 0
    WHILE index LESS THAN length
        SET ch TO ELEMENT AT index IN s
        SET original_code TO CALL FUNCTION ord WITH ARGUMENTS ch
        SET a_code TO CALL FUNCTION ord WITH ARGUMENTS STRING WITH ELEMENTS "a"
        SET shifted_code TO original_code MINUS 5 MINUS a_code
        SET mod_code TO shifted_code MODULO 26
        SET final_code TO mod_code PLUS a_code
        SET shifted_character TO CALL FUNCTION chr WITH ARGUMENTS final_code
        CALL APPEND ON result WITH ARGUMENTS shifted_character
        INCREMENT index BY 1
    END WHILE
    SET decoded_string TO CALL METHOD join ON STRING WITH ELEMENTS EMPTY WITH ARGUMENTS result
    RETURN decoded_string
END FUNCTION