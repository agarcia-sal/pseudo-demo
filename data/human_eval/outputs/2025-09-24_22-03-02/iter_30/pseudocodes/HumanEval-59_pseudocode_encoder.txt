FUNCTION largest_prime_factor WITH PARAMETER n AS INTEGER
    FUNCTION is_prime WITH PARAMETER k AS INTEGER
        IF k LESS THAN 2 THEN
            RETURN False
        END IF
        SET i TO 2
        WHILE i LESS THAN k MINUS 1 DO
            SET remainder TO k MODULO i
            IF remainder EQUALS 0 THEN
                RETURN False
            END IF
            INCREMENT i BY 1
        END WHILE
        RETURN True
    END FUNCTION

    SET largest TO 1
    SET j TO 2
    WHILE j LESS THAN OR EQUAL TO n DO
        SET remainder TO n MODULO j
        IF remainder EQUALS 0 THEN
            CALL is_prime WITH ARGUMENT k EQUALS j AND STORE RESULT IN is_prime_result
            IF is_prime_result EQUALS True THEN
                IF largest LESS THAN j THEN
                    SET largest TO j
                END IF
            END IF
        END IF
        INCREMENT j BY 1
    END WHILE
    RETURN largest
END FUNCTION