FUNCTION hex_key WITH PARAMETER num
    SET primes TO LIST WITH ELEMENTS '2', '3', '5', '7', 'B', 'D'
    SET total TO 0
    SET length TO CALL len WITH ARGUMENT num
    FOR i FROM 0 TO length MINUS 1 DO
        SET current_char TO ELEMENT AT INDEX i OF num
        SET is_prime_digit TO FALSE
        FOR j FROM 0 TO CALL len WITH ARGUMENT primes MINUS 1 DO
            SET prime_char TO ELEMENT AT INDEX j OF primes
            IF current_char EQUALS prime_char THEN
                SET is_prime_digit TO TRUE
            END IF
        END FOR
        IF is_prime_digit EQUALS TRUE THEN
            SET total TO total PLUS 1
        END IF
    END FOR
    RETURN total
END FUNCTION