FUNCTION count_distinct_characters WITH PARAMETER string OF TYPE str RETURNS int
    SET lowered_string TO CALL method lower ON string WITH ARGUMENTS EMPTY LIST
    SET characters_set TO EMPTY LIST
    SET string_length TO CALL method length ON lowered_string WITH ARGUMENTS EMPTY LIST
    SET index TO 0
    WHILE index LESS THAN string_length
        SET current_character TO VALUE AT lowered_string WITH INDEX index
        SET found TO FALSE
        SET set_length TO CALL method length ON characters_set WITH ARGUMENTS EMPTY LIST
        SET set_index TO 0
        WHILE set_index LESS THAN set_length
            IF VALUE AT characters_set WITH INDEX set_index EQUALS current_character
                SET found TO TRUE
            END IF
            INCREMENT set_index BY 1
        END WHILE
        IF found EQUALS FALSE
            APPEND current_character TO characters_set
        END IF
        INCREMENT index BY 1
    END WHILE
    SET result TO CALL method length ON characters_set WITH ARGUMENTS EMPTY LIST
    RETURN result