FUNCTION string_xor WITH PARAMETERS a AS STRING, b AS STRING RETURNS STRING
    FUNCTION xor WITH PARAMETERS i, j RETURNS STRING
        IF i EQUALS j THEN
            RETURN STRING '0'
        ELSE
            RETURN STRING '1'
        END IF
    END FUNCTION

    SET result TO EMPTY LIST WITH ELEMENTS EMPTY
    SET length TO CALL LENGTH OF a
    SET index TO 0
    WHILE index LESS THAN length DO
        SET x TO CALL CHARACTER AT INDEX index OF a
        SET y TO CALL CHARACTER AT INDEX index OF b
        SET xor_result TO CALL xor WITH ARGUMENTS x, y
        CALL APPEND xor_result TO result
        INCREMENT index BY 1
    END WHILE

    SET output_string TO CALL JOIN WITH ARGUMENTS EMPTY STRING, result
    RETURN output_string
END FUNCTION