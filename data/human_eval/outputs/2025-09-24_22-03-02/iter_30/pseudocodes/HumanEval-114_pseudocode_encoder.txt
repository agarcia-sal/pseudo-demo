FUNCTION minSubArraySum WITH PARAMETER nums
    SET max_sum TO 0
    SET s TO 0
    FOR index FROM 0 TO LENGTH OF nums MINUS 1
        SET num TO ELEMENT AT INDEX index OF nums
        SET s TO s PLUS NEGATIVE num
        IF s LESS THAN 0 THEN
            SET s TO 0
        ENDIF
        IF s GREATER THAN max_sum THEN
            SET max_sum TO s
        ENDIF
    ENDFOR
    IF max_sum EQUALS 0 THEN
        SET max_value TO NEGATIVE ELEMENT AT INDEX 0 OF nums
        FOR index FROM 0 TO LENGTH OF nums MINUS 1
            SET i TO ELEMENT AT INDEX index OF nums
            SET neg_i TO NEGATIVE i
            IF neg_i GREATER THAN max_value THEN
                SET max_value TO neg_i
            ENDIF
        ENDFOR
        SET max_sum TO max_value
    ENDIF
    SET min_sum TO NEGATIVE max_sum
    RETURN min_sum
END FUNCTION