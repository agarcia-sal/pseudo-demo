FUNCTION find_closest_elements WITH PARAMETER numbers AS LIST OF FLOAT RETURNS TUPLE OF FLOAT FLOAT
    SET closest_pair TO NONE
    SET distance TO NONE
    SET length TO CALL LENGTH OF numbers
    SET idx TO 0
    WHILE idx LESS THAN length
        SET elem TO ELEMENT AT INDEX idx FROM numbers
        SET idx2 TO 0
        WHILE idx2 LESS THAN length
            SET elem2 TO ELEMENT AT INDEX idx2 FROM numbers
            IF idx NOT EQUAL TO idx2 THEN
                IF distance EQUALS NONE THEN
                    SET difference TO CALL ABSOLUTE VALUE OF elem MINUS elem2
                    SET distance TO difference
                    IF elem LESS THAN OR EQUAL TO elem2 THEN
                        SET first_element TO elem
                        SET second_element TO elem2
                    ELSE
                        SET first_element TO elem2
                        SET second_element TO elem
                    END IF
                    SET closest_pair TO TUPLE WITH ELEMENTS first_element AND second_element
                ELSE
                    SET new_distance TO CALL ABSOLUTE VALUE OF elem MINUS elem2
                    IF new_distance LESS THAN distance THEN
                        SET distance TO new_distance
                        IF elem LESS THAN OR EQUAL TO elem2 THEN
                            SET first_element TO elem
                            SET second_element TO elem2
                        ELSE
                            SET first_element TO elem2
                            SET second_element TO elem
                        END IF
                        SET closest_pair TO TUPLE WITH ELEMENTS first_element AND second_element
                    END IF
                END IF
            END IF
            INCREMENT idx2 BY 1
        END WHILE
        INCREMENT idx BY 1
    END WHILE
    RETURN closest_pair
END FUNCTION