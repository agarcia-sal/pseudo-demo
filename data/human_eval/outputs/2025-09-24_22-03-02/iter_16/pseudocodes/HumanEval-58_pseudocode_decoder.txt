FUNCTION common WITH PARAMETERS l1 : list, l2 : list
    SET ret TO EMPTY SET
    FOR EACH e1 IN l1
        FOR EACH e2 IN l2
            IF e1 EQUALS e2 THEN
                CALL ret.add WITH ARGUMENT e1
            END IF
        END FOR
    END FOR
    SET ret_list TO LIST CONSTRUCTED FROM ret
    SET sorted_ret_list TO CALL sorted WITH ARGUMENT ret_list
    RETURN sorted_ret_list
END FUNCTION