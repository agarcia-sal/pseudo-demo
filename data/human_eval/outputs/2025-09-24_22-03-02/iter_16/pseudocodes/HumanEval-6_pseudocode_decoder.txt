FUNCTION parse_nested_parens(paren_string: STRING) RETURNS LIST OF INTEGER
    FUNCTION parse_paren_group(s: STRING) RETURNS INTEGER
        SET depth TO 0
        SET max_depth TO 0
        FOR EACH c IN s
            IF c EQUALS '('
                SET depth TO depth PLUS 1
                IF depth GREATER THAN max_depth
                    SET max_depth TO depth
            ELSE
                SET depth TO depth MINUS 1
        RETURN max_depth

    SET groups TO CALL split METHOD OF paren_string WITH ARGUMENT ' '
    SET results TO EMPTY LIST
    FOR EACH x IN groups
        IF x IS NOT EMPTY STRING
            SET value TO CALL parse_paren_group WITH ARGUMENT x
            APPEND value TO results
    RETURN results