FUNCTION is_palindrome(string: STR) RETURNS BOOL
    RETURN string EQUALS CALL reverse_string WITH ARGUMENT string

FUNCTION reverse_string(string: STR) RETURNS STR
    SET result TO EMPTY STRING
    SET length TO LENGTH OF string
    FOR i FROM length MINUS 1 DOWNTO 0 STEP 1
        SET result TO result CONCATENATE string AT INDEX i
    RETURN result

FUNCTION make_palindrome(string: STR) RETURNS STR
    IF string EQUALS EMPTY STRING THEN
        RETURN EMPTY STRING
    SET beginning_of_suffix TO 0
    SET length TO LENGTH OF string
    WHILE TRUE
        SET substring TO EMPTY STRING
        FOR j FROM beginning_of_suffix TO length MINUS 1 STEP 1
            SET substring TO substring CONCATENATE string AT INDEX j
        IF CALL is_palindrome WITH ARGUMENT substring THEN
            BREAK
        INCREMENT beginning_of_suffix BY 1
    SET prefix TO EMPTY STRING
    FOR k FROM 0 TO beginning_of_suffix MINUS 1 STEP 1
        SET prefix TO prefix CONCATENATE string AT INDEX k
    SET reversed_prefix TO CALL reverse_string WITH ARGUMENT prefix
    RETURN string CONCATENATE reversed_prefix