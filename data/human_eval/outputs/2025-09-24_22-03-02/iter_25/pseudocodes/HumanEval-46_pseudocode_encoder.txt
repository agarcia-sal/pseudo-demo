FUNCTION fib4 WITH PARAMETER n OF TYPE INTEGER
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN results AT INDEX n
    END IF
    SET i TO 4
    WHILE i LESS THAN OR EQUAL TO n DO
        SET new_value TO results AT INDEX 3 PLUS results AT INDEX 2 PLUS results AT INDEX 1 PLUS results AT INDEX 0
        APPEND new_value TO results
        REMOVE element AT INDEX 0 FROM results
        INCREMENT i BY 1
    END WHILE
    RETURN results AT INDEX 3
END FUNCTION