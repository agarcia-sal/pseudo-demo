FUNCTION tri(n)
    IF n EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS 1
    ENDIF
    SET my_tri TO LIST WITH ELEMENTS 1, 3
    FOR i FROM 2 TO n DO
        IF i MODULO 2 EQUALS 0 THEN
            SET value TO 1 PLUS (i DIVIDE BY 2)
            CALL my_tri APPEND value
        ELSE
            SET value1 TO ELEMENT AT INDEX i MINUS 1 OF my_tri
            SET value2 TO ELEMENT AT INDEX i MINUS 2 OF my_tri
            SET value3 TO (i PLUS 3) DIVIDE BY 2
            SET sum_value TO value1 PLUS value2 PLUS value3
            CALL my_tri APPEND sum_value
        ENDIF
    ENDFOR
    RETURN my_tri
ENDFUNCTION