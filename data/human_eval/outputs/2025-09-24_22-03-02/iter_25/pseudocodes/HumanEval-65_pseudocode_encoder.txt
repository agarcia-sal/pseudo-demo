FUNCTION circular_shift(x INTEGER, shift INTEGER) RETURNS STRING
    SET s TO CALL str WITH ARGUMENTS x
    IF shift GREATER THAN CALL len WITH ARGUMENTS s THEN
        SET reversed_s TO EMPTY STRING
        SET index TO CALL len WITH ARGUMENTS s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0
            SET reversed_s TO CONCATENATE reversed_s AND s AT POSITION index
            DECREMENT index BY 1
        END WHILE
        RETURN reversed_s
    ELSE
        SET length_s TO CALL len WITH ARGUMENTS s
        SET first_part TO EMPTY STRING
        SET second_part TO EMPTY STRING
        SET index TO length_s MINUS shift
        WHILE index LESS THAN length_s
            SET first_part TO CONCATENATE first_part AND s AT POSITION index
            INCREMENT index BY 1
        END WHILE
        SET index TO 0
        WHILE index LESS THAN length_s MINUS shift
            SET second_part TO CONCATENATE second_part AND s AT POSITION index
            INCREMENT index BY 1
        END WHILE
        RETURN CONCATENATE first_part AND second_part
    END IF