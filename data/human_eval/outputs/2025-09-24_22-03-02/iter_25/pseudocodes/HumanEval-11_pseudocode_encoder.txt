FUNCTION string_xor WITH PARAMETERS a AS STRING, b AS STRING RETURNS STRING
    FUNCTION xor WITH PARAMETERS i, j
        IF i EQUALS j THEN
            RETURN '0'
        ELSE
            RETURN '1'
    SET result_string TO EMPTY STRING
    SET length_a TO LENGTH OF a
    SET length_b TO LENGTH OF b
    IF length_a LESS THAN length_b THEN
        SET length TO length_a
    ELSE
        SET length TO length_b
    SET index TO 0
    WHILE index LESS THAN length
        SET char_a TO CHARACTER AT POSITION index IN a
        SET char_b TO CHARACTER AT POSITION index IN b
        SET xor_result TO CALL xor WITH arg1 char_a, arg2 char_b
        CONCATENATE xor_result TO result_string
        INCREMENT index BY 1
    RETURN result_string