FUNCTION flip_case(string: STR) RETURNS STR
    SET result TO EMPTY STRING
    SET length TO LENGTH OF string
    SET index TO 0
    WHILE index LESS THAN length
        SET char TO CHARACTER AT string AT POSITION index
        IF char GREATER THAN OR EQUAL TO 'a' AND char LESS THAN OR EQUAL TO 'z'
            SET upper_char TO char CONVERTED TO UPPERCASE
            CONCATENATE upper_char TO result
        ELSE IF char GREATER THAN OR EQUAL TO 'A' AND char LESS THAN OR EQUAL TO 'Z'
            SET lower_char TO char CONVERTED TO LOWERCASE
            CONCATENATE lower_char TO result
        ELSE
            CONCATENATE char TO result
        INCREMENT index BY 1
    RETURN result