FUNCTION select_words(s STRING, n NATURAL) RETURNS LIST OF STRING
    SET result TO LIST WITH ELEMENTS EMPTY
    IF s EQUALS EMPTY STRING THEN
        RETURN result
    ENDIF
    SET words TO LIST WITH ELEMENTS EMPTY
    SET current_word TO EMPTY STRING
    SET length_s TO LENGTH OF s
    FOR index FROM 0 TO length_s MINUS 1 DO
        IF s[index] EQUALS SPACE THEN
            IF current_word NOT EQUAL TO EMPTY STRING THEN
                APPEND current_word TO words
                SET current_word TO EMPTY STRING
            ENDIF
        ELSE
            SET current_word TO current_word CONCATENATE s[index]
        ENDIF
    END FOR
    IF current_word NOT EQUAL TO EMPTY STRING THEN
        APPEND current_word TO words
    ENDIF
    FOR word_index FROM 0 TO LENGTH OF words MINUS 1 DO
        SET word TO words[word_index]
        SET n_consonants TO 0
        SET length_word TO LENGTH OF word
        FOR char_index FROM 0 TO length_word MINUS 1 DO
            SET current_char TO word[char_index]
            SET char_lower TO CALL current_char.lowercase()
            IF char_lower NOT EQUAL TO "a" AND char_lower NOT EQUAL TO "e" AND char_lower NOT EQUAL TO "i" AND char_lower NOT EQUAL TO "o" AND char_lower NOT EQUAL TO "u" THEN
                SET n_consonants TO n_consonants PLUS 1
            ENDIF
        END FOR
        IF n_consonants EQUALS n THEN
            APPEND word TO result
        ENDIF
    END FOR
    RETURN result
END FUNCTION