FUNCTION common(l1 LIST, l2 LIST)
    SET ret TO EMPTY SET
    SET index1 TO 0
    WHILE index1 LESS THAN LENGTH OF l1
        SET e1 TO ELEMENT AT index1 IN l1
        SET index2 TO 0
        WHILE index2 LESS THAN LENGTH OF l2
            SET e2 TO ELEMENT AT index2 IN l2
            IF e1 EQUALS e2
                CALL ret.ADD WITH ARGUMENT e1
            END IF
            INCREMENT index2 BY 1
        END WHILE
        INCREMENT index1 BY 1
    END WHILE
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        CALL ret_list.APPEND WITH ARGUMENT element
    END FOR
    CALL ret_list.SORT
    RETURN ret_list
END FUNCTION