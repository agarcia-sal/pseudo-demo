FUNCTION search WITH PARAMETER lst
    SET frq TO LIST WITH ELEMENTS ZERO REPEATED (CALL max WITH ARGUMENTS lst PLUS 1) TIMES
    FOR EACH i IN lst
        SET frq AT INDEX i TO frq AT INDEX i PLUS 1
    END FOR
    SET ans TO NEGATIVE ONE
    FOR index FROM 1 TO CALL LEN WITH ARGUMENTS frq MINUS 1
        IF frq AT INDEX index GREATER THAN OR EQUAL TO index THEN
            SET ans TO index
        END IF
    END FOR
    RETURN ans
END FUNCTION