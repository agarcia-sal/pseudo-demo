FUNCTION fib4 WITH PARAMETER n OF TYPE int
    SET results TO LIST WITH ELEMENTS ZERO COMMA ZERO COMMA TWO COMMA ZERO
    IF n LESS THAN FOUR THEN
        RETURN results AT INDEX n
    END IF
    FOR index FROM FOUR TO n INCLUSIVE
        SET new_value TO results AT INDEX THREE PLUS results AT INDEX TWO PLUS results AT INDEX ONE PLUS results AT INDEX ZERO
        APPEND new_value TO results
        REMOVE ELEMENT AT INDEX ZERO FROM results
    END FOR
    RETURN results AT INDEX THREE
END FUNCTION