FUNCTION select_words(s, n)  
    SET result TO LIST WITH ELEMENTS EMPTY  
    SET words TO LIST WITH ELEMENTS EMPTY  
    SET temp_word TO EMPTY STRING  
    SET index_s TO 0  
    WHILE index_s LESS THAN LENGTH OF s  
        IF s[index_s] EQUALS " "  
            IF temp_word NOT EQUALS EMPTY STRING  
                APPEND temp_word TO words  
                SET temp_word TO EMPTY STRING  
            END IF  
        ELSE  
            CONCATENATE s[index_s] TO temp_word  
        END IF  
        INCREMENT index_s BY 1  
    END WHILE  
    IF temp_word NOT EQUALS EMPTY STRING  
        APPEND temp_word TO words  
    END IF  
    SET index_word TO 0  
    WHILE index_word LESS THAN LENGTH OF words  
        SET word TO words[index_word]  
        SET n_consonants TO 0  
        SET index_char TO 0  
        WHILE index_char LESS THAN LENGTH OF word  
            SET current_char TO word[index_char]  
            SET current_char_lower TO CALL current_char.lower WITH NO ARGUMENTS  
            IF current_char_lower NOT IN LIST WITH ELEMENTS "a", "e", "i", "o", "u"  
                INCREMENT n_consonants BY 1  
            END IF  
            INCREMENT index_char BY 1  
        END WHILE  
        IF n_consonants EQUALS n  
            APPEND word TO result  
        END IF  
        INCREMENT index_word BY 1  
    END WHILE  
    RETURN result  
END FUNCTION