FUNCTION is_palindrome(string STR) RETURNS bool
    RETURN string EQUALS CALL reverse_string WITH ARGUMENTS string

FUNCTION reverse_string(s STR) RETURNS STR
    SET result TO EMPTY STRING
    SET length TO LENGTH OF s
    FOR index FROM length MINUS 1 DOWNTO 0 STEP 1
        SET result TO CONCATENATE result PLUS s AT INDEX index
    RETURN result

FUNCTION make_palindrome(string STR) RETURNS STR
    IF string EQUALS EMPTY STRING
        RETURN EMPTY STRING
    SET beginning_of_suffix TO 0
    WHILE CALL is_palindrome WITH ARGUMENTS SUBSTRING OF string FROM beginning_of_suffix TO LENGTH OF string RETURNS False
        INCREMENT beginning_of_suffix BY 1
    SET prefix TO SUBSTRING OF string FROM 0 TO beginning_of_suffix
    SET reversed_prefix TO CALL reverse_string WITH ARGUMENTS prefix
    RETURN CONCATENATE string PLUS reversed_prefix