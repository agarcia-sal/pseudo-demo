FUNCTION median(l : list)
    SET l TO CALL sorted WITH ARGUMENTS l
    SET length TO CALL len WITH ARGUMENTS l
    SET remainder TO length MODULO 2
    IF remainder EQUALS 1
        SET middle_index TO length DIVIDE BY 2
        RETURN l AT INDEX middle_index
    ELSE
        SET left_middle_index TO (length DIVIDE BY 2) MINUS 1
        SET right_middle_index TO length DIVIDE BY 2
        SET left_value TO l AT INDEX left_middle_index
        SET right_value TO l AT INDEX right_middle_index
        SET sum_value TO left_value PLUS right_value
        SET average TO sum_value DIVIDED BY 2.0
        RETURN average