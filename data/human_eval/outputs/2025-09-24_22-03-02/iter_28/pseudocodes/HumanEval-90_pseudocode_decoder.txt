FUNCTION next_smallest WITH PARAMETER lst
    SET unique_list TO LIST WITH ELEMENTS EMPTY
    SET seen TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF lst MINUS 1
        SET current_element TO lst AT INDEX i
        SET is_in_seen TO FALSE
        FOR j FROM 0 TO LENGTH OF seen MINUS 1
            IF seen AT INDEX j EQUALS current_element THEN
                SET is_in_seen TO TRUE
                BREAK
            ENDIF
        ENDFOR
        IF is_in_seen EQUALS FALSE THEN
            APPEND current_element TO seen
        ENDIF
    ENDFOR
    SET unique_list TO seen
    SET sorted_unique_list TO LIST WITH ELEMENTS EMPTY
    WHILE LENGTH OF unique_list GREATER THAN 0
        SET min_element TO unique_list AT INDEX 0
        SET min_index TO 0
        FOR k FROM 1 TO LENGTH OF unique_list MINUS 1
            IF unique_list AT INDEX k LESS THAN min_element THEN
                SET min_element TO unique_list AT INDEX k
                SET min_index TO k
            ENDIF
        ENDFOR
        APPEND min_element TO sorted_unique_list
        REMOVE ELEMENT AT min_index FROM unique_list
    ENDWHILE
    IF LENGTH OF sorted_unique_list LESS THAN 2 THEN
        RETURN None
    ELSE
        RETURN sorted_unique_list AT INDEX 1
    ENDIF
ENDFUNCTION