FUNCTION sort_numbers(numbers: str) RETURNS str
    SET value_map TO DICTIONARY WITH ELEMENTS:
        KEY 'zero' VALUE 0,
        KEY 'one' VALUE 1,
        KEY 'two' VALUE 2,
        KEY 'three' VALUE 3,
        KEY 'four' VALUE 4,
        KEY 'five' VALUE 5,
        KEY 'six' VALUE 6,
        KEY 'seven' VALUE 7,
        KEY 'eight' VALUE 8,
        KEY 'nine' VALUE 9
    SET split_numbers TO LIST WITH ELEMENTS EMPTY
    SET i TO 0
    WHILE i LESS THAN LENGTH OF numbers
        SET current_word TO EMPTY STRING
        WHILE i LESS THAN LENGTH OF numbers AND CHARACTER AT numbers i NOT EQUAL TO SPACE
            CONCATENATE current_word WITH CHARACTER AT numbers i
            INCREMENT i BY 1
        IF current_word NOT EQUAL TO EMPTY STRING
            APPEND current_word TO split_numbers
        IF i LESS THAN LENGTH OF numbers AND CHARACTER AT numbers i EQUALS SPACE
            INCREMENT i BY 1
    SET filtered_numbers TO LIST WITH ELEMENTS EMPTY
    SET j TO 0
    WHILE j LESS THAN LENGTH OF split_numbers
        IF split_numbers j NOT EQUAL TO EMPTY STRING
            APPEND split_numbers j TO filtered_numbers
        INCREMENT j BY 1
    DEFINE FUNCTION compare_by_value_map(x: str, y: str) RETURNS BOOLEAN
        IF value_map x LESS THAN value_map y
            RETURN TRUE
        ELSE
            RETURN FALSE
    SET sorted_numbers TO LIST WITH ELEMENTS EMPTY
    WHILE LENGTH OF filtered_numbers GREATER THAN 0
        SET min_index TO 0
        SET k TO 1
        WHILE k LESS THAN LENGTH OF filtered_numbers
            IF value_map filtered_numbers k LESS THAN value_map filtered_numbers min_index
                SET min_index TO k
            INCREMENT k BY 1
        APPEND filtered_numbers min_index TO sorted_numbers
        REMOVE ELEMENT AT min_index FROM filtered_numbers
    SET result TO EMPTY STRING
    SET m TO 0
    WHILE m LESS THAN LENGTH OF sorted_numbers
        IF m GREATER THAN 0
            CONCATENATE result WITH SPACE
        CONCATENATE result WITH sorted_numbers m
        INCREMENT m BY 1
    RETURN result