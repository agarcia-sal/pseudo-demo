FUNCTION circular_shift(x, shift)
    SET s TO CALL str WITH ARGUMENT x
    IF shift GREATER THAN CALL len WITH ARGUMENT s
        SET result TO EMPTY STRING
        SET index TO CALL len WITH ARGUMENT s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0
            CONCATENATE result WITH s AT index
            DECREMENT index BY 1
        END WHILE
        RETURN result
    ELSE
        SET length TO CALL len WITH ARGUMENT s
        SET part1 TO EMPTY STRING
        SET start_index_part1 TO length MINUS shift
        SET index TO start_index_part1
        WHILE index LESS THAN length
            CONCATENATE part1 WITH s AT index
            INCREMENT index BY 1
        END WHILE
        SET part2 TO EMPTY STRING
        SET index TO 0
        WHILE index LESS THAN start_index_part1
            CONCATENATE part2 WITH s AT index
            INCREMENT index BY 1
        END WHILE
        RETURN part1 CONCATENATED WITH part2
END FUNCTION