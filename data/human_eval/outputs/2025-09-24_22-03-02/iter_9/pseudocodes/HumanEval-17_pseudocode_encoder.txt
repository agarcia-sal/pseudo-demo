FUNCTION parse_music(music_string AS STRING) RETURNS LIST OF INTEGER
    SET note_map TO A DICTIONARY WITH KEYS AND VALUES:
        KEY 'o' AND VALUE 4
        KEY 'o|' AND VALUE 2
        KEY '.|' AND VALUE 1
    SET split_notes TO SPLIT music_string BY SPACE CHARACTER
    SET result_list TO AN EMPTY LIST
    FOR EACH x IN split_notes
        IF x IS NOT AN EMPTY STRING
            APPEND note_map[x] TO result_list
    RETURN result_list