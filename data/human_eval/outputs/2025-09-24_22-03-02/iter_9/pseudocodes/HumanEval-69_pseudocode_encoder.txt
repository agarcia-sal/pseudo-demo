FUNCTION search(lst)
    SET frq TO a list of zeros with length maximum value in lst plus one
    FOR each element i IN lst
        INCREMENT frq at index i by one
    SET ans TO negative one
    FOR i FROM one TO length of frq minus one
        IF frq at index i is greater than or equal to i
            SET ans TO i
    RETURN ans