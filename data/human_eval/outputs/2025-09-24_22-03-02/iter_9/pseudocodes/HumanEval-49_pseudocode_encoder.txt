FUNCTION modp WITH PARAMETERS n AS integer, p AS integer
    SET ret TO 1
    FOR i FROM 0 TO n MINUS 1
        SET ret TO remainder of two times ret DIVIDED BY p
    RETURN ret