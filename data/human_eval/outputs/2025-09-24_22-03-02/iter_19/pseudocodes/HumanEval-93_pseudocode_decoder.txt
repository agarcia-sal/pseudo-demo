FUNCTION encode(message)
    SET vowels TO LIST WITH ELEMENTS 'a', 'e', 'i', 'o', 'u', 'A', 'E', 'I', 'O', 'U'
    SET vowels_replace TO EMPTY DICTIONARY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF vowels
        SET current_vowel TO vowels AT POSITION index
        SET ascii_value TO CALL ord WITH current_vowel
        SET new_char_ascii TO ascii_value PLUS 2
        SET new_char TO CALL chr WITH new_char_ascii
        SET vowels_replace AT KEY current_vowel TO new_char
        INCREMENT index BY 1
    END WHILE
    SET message TO CALL swapcase METHOD OF message WITH NO ARGUMENTS
    SET encoded_message TO EMPTY LIST
    SET index TO 0
    WHILE index LESS THAN LENGTH OF message
        SET current_char TO message AT POSITION index
        IF current_char IN vowels THEN
            APPEND vowels_replace AT KEY current_char TO encoded_message
        ELSE
            APPEND current_char TO encoded_message
        END IF
        INCREMENT index BY 1
    END WHILE
    RETURN CALL join FUNCTION WITH ARGUMENTS EMPTY STRING AND encoded_message
END FUNCTION