FUNCTION search(lst)
    SET frq TO LIST WITH ELEMENTS EMPTY
    SET max_value TO 0
    FOR index FROM 0 TO LENGTH OF lst MINUS 1
        IF lst AT index GREATER THAN max_value
            SET max_value TO lst AT index
    FOR index FROM 0 TO max_value
        APPEND 0 TO frq
    FOR index_i FROM 0 TO LENGTH OF lst MINUS 1
        SET i TO lst AT index_i
        SET frq AT i TO frq AT i PLUS 1
    SET ans TO MINUS 1
    FOR i FROM 1 TO LENGTH OF frq MINUS 1
        IF frq AT i GREATER THAN OR EQUAL TO i
            SET ans TO i
    RETURN ans