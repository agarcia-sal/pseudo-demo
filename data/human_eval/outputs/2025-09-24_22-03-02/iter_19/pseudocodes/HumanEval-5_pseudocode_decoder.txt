FUNCTION intersperse(numbers OF TYPE LIST OF INTEGER, delimeter OF TYPE INTEGER) RETURNS LIST OF INTEGER
    IF numbers EQUALS EMPTY THEN
        RETURN EMPTY LIST
    END IF

    SET result TO EMPTY LIST

    SET length TO LENGTH OF numbers
    SET last_index TO length MINUS 1

    FOR index FROM 0 TO last_index MINUS 1 DO
        CALL APPEND ON result WITH ARGUMENT numbers AT index
        CALL APPEND ON result WITH ARGUMENT delimeter
    END FOR

    CALL APPEND ON result WITH ARGUMENT numbers AT last_index

    RETURN result
END FUNCTION