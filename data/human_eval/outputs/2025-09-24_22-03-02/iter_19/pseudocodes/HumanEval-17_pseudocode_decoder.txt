FUNCTION parse_music(music_string : str) RETURNS List[int]
    SET note_map TO DICTIONARY WITH KEYS AND VALUES: 
        'o' MAPPED TO 4,
        'o|' MAPPED TO 2,
        '.|' MAPPED TO 1
    SET result_list TO LIST WITH ELEMENTS EMPTY
    SET split_list TO LIST WITH ELEMENTS EMPTY
    SET index TO 0
    SET length TO CALL LENGTH OF music_string
    WHILE index LESS THAN length
        SET current_char TO CALL SUBSTRING OF music_string FROM index TO index PLUS 1
        IF current_char EQUALS SPACE
            INCREMENT index BY 1
            CONTINUE
        END IF
        SET temp_str TO EMPTY STRING
        WHILE index LESS THAN length AND CALL SUBSTRING OF music_string FROM index TO index PLUS 1 NOT EQUAL TO SPACE
            SET temp_str TO CONCATENATE temp_str WITH CALL SUBSTRING OF music_string FROM index TO index PLUS 1
            INCREMENT index BY 1
        END WHILE
        APPEND temp_str TO split_list
    END WHILE
    SET i TO 0
    WHILE i LESS THAN CALL LENGTH OF split_list
        SET x TO split_list[i]
        IF x IS IN note_map
            APPEND note_map[x] TO result_list
        END IF
        INCREMENT i BY 1
    END WHILE
    RETURN result_list