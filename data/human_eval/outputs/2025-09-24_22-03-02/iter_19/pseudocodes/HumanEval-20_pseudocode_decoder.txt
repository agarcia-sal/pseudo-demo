FUNCTION find_closest_elements WITH PARAMETERS numbers  
    SET closest_pair TO NONE  
    SET distance TO NONE  
    FOR idx FROM ZERO TO LENGTH OF numbers MINUS ONE  
        SET elem TO numbers AT idx  
        FOR idx2 FROM ZERO TO LENGTH OF numbers MINUS ONE  
            SET elem2 TO numbers AT idx2  
            IF idx NOT EQUALS idx2 THEN  
                IF distance EQUALS NONE THEN  
                    SET distance TO ABSOLUTE VALUE OF elem MINUS elem2  
                    IF elem LESS THAN elem2 THEN  
                        SET closest_pair TO LIST WITH ELEMENTS elem AND elem2  
                    ELSE  
                        SET closest_pair TO LIST WITH ELEMENTS elem2 AND elem  
                    END IF  
                ELSE  
                    SET new_distance TO ABSOLUTE VALUE OF elem MINUS elem2  
                    IF new_distance LESS THAN distance THEN  
                        SET distance TO new_distance  
                        IF elem LESS THAN elem2 THEN  
                            SET closest_pair TO LIST WITH ELEMENTS elem AND elem2  
                        ELSE  
                            SET closest_pair TO LIST WITH ELEMENTS elem2 AND elem  
                        END IF  
                    END IF  
                END IF  
            END IF  
        END FOR  
    END FOR  
    RETURN closest_pair  
END FUNCTION