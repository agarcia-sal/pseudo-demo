FUNCTION sort_array WITH PARAMETER array
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET copy_array TO LIST WITH ELEMENTS EMPTY
        FOR index FROM 0 TO LENGTH OF array MINUS 1 DO
            APPEND element AT array WITH INDEX index TO copy_array
        END FOR
        SET sum_first_last TO VALUE AT array WITH INDEX 0 PLUS VALUE AT array WITH INDEX LENGTH OF array MINUS 1
        SET remainder TO sum_first_last MODULO 2
        IF remainder EQUALS 0 THEN
            CALL copy_array SORT IN DESCENDING ORDER
            RETURN copy_array
        ELSE
            CALL copy_array SORT IN ASCENDING ORDER
            RETURN copy_array
        END IF
    END IF