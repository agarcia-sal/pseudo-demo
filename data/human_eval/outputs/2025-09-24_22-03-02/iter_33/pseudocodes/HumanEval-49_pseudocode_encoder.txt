FUNCTION modp WITH PARAMETERS n AS INTEGER, p AS INTEGER
    SET ret TO 1
    SET i TO 0
    WHILE i LESS THAN n
        SET multiplied_value TO 2 MULTIPLY ret
        SET ret TO multiplied_value MODULO p
        INCREMENT i BY 1
    END WHILE
    RETURN ret
END FUNCTION