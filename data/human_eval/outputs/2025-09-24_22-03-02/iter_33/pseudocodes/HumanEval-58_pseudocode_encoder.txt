FUNCTION common WITH PARAMETERS l1 OF TYPE list, l2 OF TYPE list
    SET ret TO EMPTY SET
    FOR index1 FROM 0 TO LENGTH OF l1 MINUS 1
        SET e1 TO l1 AT INDEX index1
        FOR index2 FROM 0 TO LENGTH OF l2 MINUS 1
            SET e2 TO l2 AT INDEX index2
            IF e1 EQUALS e2 THEN
                CALL ret.ADD WITH ARGUMENT e1
            END IF
        END FOR
    END FOR
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        APPEND element TO ret_list
    END FOR
    CALL ret_list.SORT IN PLACE
    RETURN ret_list
END FUNCTION