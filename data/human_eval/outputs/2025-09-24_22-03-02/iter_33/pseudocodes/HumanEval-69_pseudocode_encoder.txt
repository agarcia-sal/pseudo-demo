FUNCTION search WITH PARAMETER lst
    SET frq TO LIST WITH ELEMENTS zero REPEATED (CALL max ON lst PLUS 1) TIMES
    FOR index FROM zero TO LENGTH OF lst MINUS ONE
        SET i TO ELEMENT OF lst AT index
        SET frq AT i TO ELEMENT OF frq AT i PLUS 1
    END FOR

    SET ans TO -1
    FOR i FROM 1 TO LENGTH OF frq MINUS ONE
        IF ELEMENT OF frq AT i GREATER THAN OR EQUAL TO i THEN
            SET ans TO i
        END IF
    END FOR

    RETURN ans
END FUNCTION