FUNCTION encode WITH PARAMETER message
    SET vowels TO LIST WITH ELEMENTS "a", "e", "i", "o", "u", "A", "E", "I", "O", "U"
    SET vowels_replace TO EMPTY DICTIONARY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF vowels
        SET i TO vowels AT index
        SET ascii_value TO CALL FUNCTION ord WITH ARGUMENT i
        SET ascii_value_plus_two TO ascii_value PLUS 2
        SET replacement_char TO CALL FUNCTION chr WITH ARGUMENT ascii_value_plus_two
        SET vowels_replace AT KEY i TO replacement_char
        INCREMENT index BY 1
    END WHILE
    SET swapped_message TO CALL METHOD swapcase ON message WITH ARGUMENTS EMPTY
    SET result_list TO EMPTY LIST
    SET index TO 0
    WHILE index LESS THAN LENGTH OF swapped_message
        SET i TO swapped_message AT index
        IF i IN vowels THEN
            SET character TO vowels_replace AT KEY i
        ELSE
            SET character TO i
        END IF
        CALL APPEND ON result_list WITH ARGUMENT character
        INCREMENT index BY 1
    END WHILE
    SET result TO EMPTY STRING
    SET index TO 0
    WHILE index LESS THAN LENGTH OF result_list
        SET result TO CONCATENATE result WITH result_list AT index
        INCREMENT index BY 1
    END WHILE
    RETURN result
END FUNCTION