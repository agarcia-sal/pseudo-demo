FUNCTION anti_shuffle WITH PARAMETER s
    SET words TO CALL split ON s WITH ARGUMENT ' '
    SET result_words TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF words MINUS ONE
        SET word TO words AT index
        SET characters TO LIST WITH ELEMENTS EMPTY
        FOR char_index FROM 0 TO LENGTH OF word MINUS ONE
            SET character TO word AT char_index
            APPEND character TO characters
        END FOR
        CALL sort ON characters
        SET ordered_word TO EMPTY STRING
        FOR char_index FROM 0 TO LENGTH OF characters MINUS ONE
            SET character TO characters AT char_index
            SET ordered_word TO ordered_word CONCATENATE character
        END FOR
        APPEND ordered_word TO result_words
    END FOR
    SET result_string TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF result_words MINUS ONE
        SET result_string TO result_string CONCATENATE result_words AT index
        IF index LESS THAN LENGTH OF result_words MINUS ONE
            SET result_string TO result_string CONCATENATE ' '
        END IF
    END FOR
    RETURN result_string