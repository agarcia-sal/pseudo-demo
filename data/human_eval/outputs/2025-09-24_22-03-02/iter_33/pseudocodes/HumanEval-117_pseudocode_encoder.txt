FUNCTION select_words WITH PARAMETERS s, n
    SET result TO LIST WITH ELEMENTS EMPTY
    SET words TO CALL s.split WITH ARGUMENTS EMPTY
    FOR index_word FROM 0 TO LENGTH OF words MINUS 1
        SET word TO words[index_word]
        SET n_consonants TO 0
        FOR index_char FROM 0 TO LENGTH OF word MINUS 1
            SET char_lower TO CALL word[index_char].lower WITH ARGUMENTS EMPTY
            IF char_lower NOT EQUAL TO "a" AND char_lower NOT EQUAL TO "e" AND char_lower NOT EQUAL TO "i" AND char_lower NOT EQUAL TO "o" AND char_lower NOT EQUAL TO "u"
                SET n_consonants TO n_consonants PLUS 1
            END IF
        END FOR
        IF n_consonants EQUALS n
            CALL result.append WITH ARGUMENTS word
        END IF
    END FOR
    RETURN result
END FUNCTION