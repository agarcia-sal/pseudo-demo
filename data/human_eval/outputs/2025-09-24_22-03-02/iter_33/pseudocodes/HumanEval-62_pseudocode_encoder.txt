FUNCTION derivative WITH PARAMETER xs OF TYPE list
    SET result TO LIST WITH ELEMENTS EMPTY
    SET length TO CALL function len WITH ARGUMENT xs
    FOR i FROM 0 TO length MINUS ONE
        SET x TO xs AT INDEX i
        SET value TO i MULTIPLY x
        APPEND value TO result
    END FOR
    REMOVE element at INDEX 0 FROM result
    RETURN result
END FUNCTION