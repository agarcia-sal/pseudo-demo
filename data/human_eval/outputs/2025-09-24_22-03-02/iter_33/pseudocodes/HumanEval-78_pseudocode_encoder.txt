FUNCTION hex_key WITH PARAMETER num  
    SET primes TO LIST WITH ELEMENTS '2', '3', '5', '7', 'B', 'D'  
    SET total TO 0  
    SET length TO CALL function LENGTH WITH ARGUMENT num  
    SET i TO 0  
    WHILE i LESS THAN length  
        SET current_char TO ELEMENT AT INDEX i OF num  
        SET found_prime TO FALSE  
        SET j TO 0  
        SET primes_length TO CALL function LENGTH WITH ARGUMENT primes  
        WHILE j LESS THAN primes_length AND found_prime EQUALS FALSE  
            SET prime_char TO ELEMENT AT INDEX j OF primes  
            IF current_char EQUALS prime_char THEN  
                SET found_prime TO TRUE  
            END IF  
            INCREMENT j BY 1  
        END WHILE  
        IF found_prime EQUALS TRUE THEN  
            SET total TO total PLUS 1  
        END IF  
        INCREMENT i BY 1  
    END WHILE  
    RETURN total  
END FUNCTION