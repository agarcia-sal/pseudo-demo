FUNCTION is_nested WITH PARAMETER string
    SET opening_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET closing_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET string_length TO LENGTH OF string
    FOR i FROM 0 TO string_length MINUS 1
        SET current_character TO ELEMENT OF string AT INDEX i
        IF current_character EQUALS '['
            CALL APPEND ON opening_bracket_index WITH ARGUMENT i
        ELSE
            CALL APPEND ON closing_bracket_index WITH ARGUMENT i
    CALL REVERSE ON closing_bracket_index
    SET cnt TO 0
    SET i TO 0
    SET l TO LENGTH OF closing_bracket_index
    FOR EACH idx IN opening_bracket_index
        IF i LESS THAN l AND idx LESS THAN ELEMENT OF closing_bracket_index AT INDEX i
            SET cnt TO cnt PLUS 1
            SET i TO i PLUS 1
    IF cnt GREATER THAN OR EQUAL TO 2
        RETURN True
    ELSE
        RETURN False