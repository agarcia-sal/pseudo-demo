FUNCTION is_palindrome WITH PARAMETER string OF TYPE STRING RETURNS BOOLEAN
    SET reversed_string TO EMPTY STRING
    SET length_of_string TO LENGTH OF string
    FOR index FROM length_of_string MINUS 1 DOWNTO 0
        SET reversed_string TO CONCATENATE reversed_string AND string AT index
    END FOR
    IF string EQUALS reversed_string THEN
        RETURN TRUE
    ELSE
        RETURN FALSE
    END IF
END FUNCTION

FUNCTION make_palindrome WITH PARAMETER string OF TYPE STRING RETURNS STRING
    IF string EQUALS EMPTY STRING THEN
        RETURN EMPTY STRING
    END IF

    SET beginning_of_suffix TO 0

    WHILE TRUE
        SET substring_to_check TO EMPTY STRING
        SET length_of_string TO LENGTH OF string
        FOR index FROM beginning_of_suffix TO length_of_string MINUS 1
            SET substring_to_check TO CONCATENATE substring_to_check AND string AT index
        END FOR

        CALL is_palindrome WITH ARGUMENT string substring_to_check AND SET result TO RETURN VALUE

        IF result IS TRUE THEN
            BREAK
        ELSE
            SET beginning_of_suffix TO beginning_of_suffix PLUS 1
        END IF
    END WHILE

    SET prefix_to_reverse TO EMPTY STRING
    FOR index FROM 0 TO beginning_of_suffix MINUS 1
        SET prefix_to_reverse TO CONCATENATE prefix_to_reverse AND string AT index
    END FOR

    SET reversed_prefix TO EMPTY STRING
    SET length_of_prefix TO LENGTH OF prefix_to_reverse
    FOR index FROM length_of_prefix MINUS 1 DOWNTO 0
        SET reversed_prefix TO CONCATENATE reversed_prefix AND prefix_to_reverse AT index
    END FOR

    SET result_string TO CONCATENATE string AND reversed_prefix
    RETURN result_string
END FUNCTION