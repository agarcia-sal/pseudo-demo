FUNCTION string_xor WITH PARAMETERS a AS STRING, b AS STRING RETURNS STRING
    FUNCTION xor WITH PARAMETERS i, j RETURNS STRING
        IF i EQUALS j THEN
            RETURN '0'
        ELSE
            RETURN '1'
        END IF
    END FUNCTION

    SET result AS LIST WITH ELEMENTS EMPTY
    SET length_a AS LENGTH OF a
    SET length_b AS LENGTH OF b

    IF length_a LESS THAN length_b THEN
        SET min_length AS length_a
    ELSE
        SET min_length AS length_b
    END IF

    SET index AS 0
    WHILE index LESS THAN min_length DO
        SET char_x AS CHARACTER AT INDEX index OF a
        SET char_y AS CHARACTER AT INDEX index OF b
        SET xor_result AS CALL xor WITH ARGUMENTS char_x, char_y
        APPEND xor_result TO result
        INCREMENT index BY 1
    END WHILE

    SET final_result AS EMPTY STRING
    SET result_length AS LENGTH OF result
    SET index AS 0
    WHILE index LESS THAN result_length DO
        CONCATENATE final_result WITH ELEMENT AT INDEX index OF result AND ASSIGN TO final_result
        INCREMENT index BY 1
    END WHILE

    RETURN final_result
END FUNCTION