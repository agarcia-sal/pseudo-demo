FUNCTION common(l1 LIST, l2 LIST)
    SET ret TO EMPTY SET
    FOR index1 FROM ZERO TO LENGTH OF l1 MINUS ONE
        SET e1 TO l1 AT index1
        FOR index2 FROM ZERO TO LENGTH OF l2 MINUS ONE
            SET e2 TO l2 AT index2
            IF e1 EQUALS e2
                CALL ret.ADD WITH ARGUMENT e1
            END IF
        END FOR
    END FOR
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        CALL ret_list.APPEND WITH ARGUMENT element
    END FOR
    CALL ret_list.SORT
    RETURN ret_list
END FUNCTION