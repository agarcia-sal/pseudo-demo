FUNCTION vowels_count(s)
    SET vowels TO "aeiouAEIOU"
    SET n_vowels TO 0
    SET index TO 0
    WHILE index LESS THAN LENGTH OF s
        SET c TO s AT index
        SET is_vowel TO FALSE
        SET check_index TO 0
        WHILE check_index LESS THAN LENGTH OF vowels
            IF c EQUALS vowels AT check_index
                SET is_vowel TO TRUE
                BREAK
            END IF
            INCREMENT check_index BY 1
        END WHILE
        IF is_vowel EQUALS TRUE
            INCREMENT n_vowels BY 1
        END IF
        INCREMENT index BY 1
    END WHILE
    IF LENGTH OF s GREATER THAN 0
        SET last_char TO s AT (LENGTH OF s MINUS 1)
        IF last_char EQUALS "y" OR last_char EQUALS "Y"
            INCREMENT n_vowels BY 1
        END IF
    END IF
    RETURN n_vowels
END FUNCTION