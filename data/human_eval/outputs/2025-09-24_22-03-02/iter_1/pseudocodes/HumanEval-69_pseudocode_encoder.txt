```
frq ← array of zeros size max(lst)+1
for i in lst: frq[i] += 1
ans ← -1
for i in 1 to length(frq)-1: if frq[i] ≥ i then ans ← i
return ans
```