```
function largest_prime_factor(n):
    function is_prime(k):
        if k < 2 then return False
        for i in 2 to k-1 do if k mod i = 0 then return False
        return True
    largest ← 1
    for j in 2 to n do if n mod j = 0 and is_prime(j) then largest ← max(largest, j)
    return largest
```