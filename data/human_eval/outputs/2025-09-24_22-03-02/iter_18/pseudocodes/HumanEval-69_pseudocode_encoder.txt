FUNCTION search WITH PARAMETER lst
    SET frq TO LIST WITH ELEMENTS ZERO REPEATED MAXIMUM OF lst PLUS ONE TIMES
    FOR index FROM ZERO TO LENGTH OF lst MINUS ONE
        SET i TO ELEMENT OF lst AT index
        SET frq AT POSITION i TO frq AT POSITION i PLUS ONE
    SET ans TO NEGATIVE ONE
    FOR i FROM ONE TO LENGTH OF frq MINUS ONE
        IF frq AT POSITION i GREATER THAN OR EQUAL TO i THEN
            SET ans TO i
    RETURN ans