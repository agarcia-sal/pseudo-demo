FUNCTION select_words(s, n)
    SET result TO LIST WITH ELEMENTS EMPTY
    IF s EQUALS EMPTY STRING
        RETURN result
    END IF
    SET words TO LIST WITH ELEMENTS EMPTY
    SET current_word TO EMPTY STRING
    FOR i FROM 0 TO LENGTH OF s MINUS 1
        IF s AT POSITION i EQUALS SPACE
            IF current_word NOT EQUALS EMPTY STRING
                APPEND current_word TO words
                SET current_word TO EMPTY STRING
            END IF
        ELSE
            CONCATENATE current_word WITH s AT POSITION i
        END IF
    END FOR
    IF current_word NOT EQUALS EMPTY STRING
        APPEND current_word TO words
    END IF
    FOR j FROM 0 TO LENGTH OF words MINUS 1
        SET word TO words AT POSITION j
        SET n_consonants TO 0
        FOR k FROM 0 TO LENGTH OF word MINUS 1
            SET lower_char TO CALL word AT POSITION k TO LOWERCASE
            IF lower_char NOT EQUALS "a" AND lower_char NOT EQUALS "e" AND lower_char NOT EQUALS "i" AND lower_char NOT EQUALS "o" AND lower_char NOT EQUALS "u"
                INCREMENT n_consonants BY 1
            END IF
        END FOR
        IF n_consonants EQUALS n
            APPEND word TO result
        END IF
    END FOR
    RETURN result
END FUNCTION