FUNCTION mean_absolute_deviation WITH PARAMETER numbers OF TYPE LIST OF FLOAT RETURNS FLOAT
    SET total_sum TO 0.0
    SET length TO 0
    FOR index FROM 0 TO LENGTH OF numbers MINUS 1
        SET total_sum TO total_sum PLUS ELEMENT AT index IN numbers
        INCREMENT length BY 1
    END FOR
    SET mean TO total_sum DIVIDED BY length
    SET absolute_difference_sum TO 0.0
    FOR index FROM 0 TO length MINUS 1
        SET element TO ELEMENT AT index IN numbers
        IF element GREATER THAN OR EQUAL TO mean
            SET difference TO element MINUS mean
        ELSE
            SET difference TO mean MINUS element
        END IF
        SET absolute_difference_sum TO absolute_difference_sum PLUS difference
    END FOR
    SET mad TO absolute_difference_sum DIVIDED BY length
    RETURN mad
END FUNCTION