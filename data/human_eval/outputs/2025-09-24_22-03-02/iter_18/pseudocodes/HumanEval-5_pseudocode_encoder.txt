FUNCTION intersperse WITH PARAMETERS numbers OF TYPE LIST OF INTEGER, delimeter OF TYPE INTEGER RETURNS LIST OF INTEGER
    IF numbers EQUALS EMPTY LIST THEN
        RETURN EMPTY LIST
    END IF
    SET result TO EMPTY LIST
    SET last_index TO LENGTH OF numbers MINUS 1
    SET index TO 0
    WHILE index LESS THAN last_index DO
        CALL APPEND METHOD OF result WITH ARGUMENT numbers AT POSITION index
        CALL APPEND METHOD OF result WITH ARGUMENT delimeter
        INCREMENT index BY 1
    END WHILE
    CALL APPEND METHOD OF result WITH ARGUMENT numbers AT POSITION last_index
    RETURN result
END FUNCTION