FUNCTION circular_shift(x, shift)
    SET s TO CALL str WITH ARGUMENT x
    IF shift GREATER THAN CALL len WITH ARGUMENT s THEN
        SET reversed_string TO EMPTY STRING
        SET index TO CALL len WITH ARGUMENT s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0 DO
            CONCATENATE reversed_string WITH s AT POSITION index
            DECREMENT index BY 1
        END WHILE
        RETURN reversed_string
    ELSE
        SET length TO CALL len WITH ARGUMENT s
        SET first_part TO EMPTY STRING
        SET second_part TO EMPTY STRING
        SET index TO length MINUS shift
        WHILE index LESS THAN length DO
            CONCATENATE first_part WITH s AT POSITION index
            INCREMENT index BY 1
        END WHILE
        SET index TO 0
        WHILE index LESS THAN length MINUS shift DO
            CONCATENATE second_part WITH s AT POSITION index
            INCREMENT index BY 1
        END WHILE
        RETURN first_part CONCATENATED WITH second_part
    END IF
END FUNCTION