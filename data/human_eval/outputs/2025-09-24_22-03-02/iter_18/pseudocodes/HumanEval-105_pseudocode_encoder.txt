FUNCTION by_length(arr)
    SET dic TO DICTIONARY WITH ELEMENTS
        1 MAPPED TO "One",
        2 MAPPED TO "Two",
        3 MAPPED TO "Three",
        4 MAPPED TO "Four",
        5 MAPPED TO "Five",
        6 MAPPED TO "Six",
        7 MAPPED TO "Seven",
        8 MAPPED TO "Eight",
        9 MAPPED TO "Nine"
    SET filtered_arr TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF arr MINUS 1
        SET element TO arr AT index
        IF element GREATER THAN OR EQUAL TO 1 AND element LESS THAN OR EQUAL TO 9 THEN
            APPEND element TO filtered_arr
        END IF
    END FOR
    SET sorted_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF filtered_arr MINUS 1
        SET sorted_arr APPEND NONE
    END FOR
    FOR i FROM 0 TO LENGTH OF filtered_arr MINUS 1
        SET current_min TO filtered_arr AT i
        SET current_index TO i
        FOR j FROM i TO LENGTH OF filtered_arr MINUS 1
            IF filtered_arr AT j LESS THAN current_min THEN
                SET current_min TO filtered_arr AT j
                SET current_index TO j
            END IF
        END FOR
        SET temp TO filtered_arr AT i
        SET filtered_arr AT i TO current_min
        SET filtered_arr AT current_index TO temp
    END FOR
    FOR i FROM LENGTH OF filtered_arr MINUS 1 DOWN TO 0 STEP MINUS 1
        APPEND filtered_arr AT i TO sorted_arr
    END FOR
    SET new_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF sorted_arr MINUS 1
        SET var TO sorted_arr AT i
        IF var IN dic THEN
            APPEND dic AT KEY var TO new_arr
        END IF
    END FOR
    RETURN new_arr
END FUNCTION