FUNCTION tri WITH PARAMETER n
    IF n EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS 1
    ENDIF
    SET my_tri TO LIST WITH ELEMENTS 1 AND 3
    FOR i FROM 2 TO n
        IF i MODULO 2 EQUALS 0 THEN
            CALL my_tri APPEND WITH ARGUMENT 1 PLUS i DIVIDE BY 2
        ELSE
            SET left_value TO ELEMENT my_tri AT INDEX i MINUS 1
            SET middle_value TO ELEMENT my_tri AT INDEX i MINUS 2
            SET right_value TO 3 PLUS i DIVIDE BY 2
            CALL my_tri APPEND WITH ARGUMENT left_value PLUS middle_value PLUS right_value
        ENDIF
    ENDFOR
    RETURN my_tri
END FUNCTION