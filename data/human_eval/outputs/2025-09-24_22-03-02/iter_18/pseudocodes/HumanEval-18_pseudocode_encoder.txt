FUNCTION how_many_times(string: str, substring: str) RETURNS int
    SET times TO 0
    SET string_length TO LENGTH OF string
    SET substring_length TO LENGTH OF substring
    SET limit TO string_length MINUS substring_length PLUS 1
    FOR i IN RANGE FROM 0 TO limit MINUS 1
        SET slice TO EMPTY STRING
        FOR j IN RANGE FROM i TO i PLUS substring_length MINUS 1
            CONCATENATE slice WITH string[j]
        END FOR
        IF slice EQUALS substring THEN
            INCREMENT times BY 1
        END IF
    END FOR
    RETURN times