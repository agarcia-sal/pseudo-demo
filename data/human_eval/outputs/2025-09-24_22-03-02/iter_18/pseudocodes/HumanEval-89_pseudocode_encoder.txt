FUNCTION encrypt(s)
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        SET c TO CHARACTER AT POSITION index IN s
        IF c IN d THEN
            SET original_index TO 0
            FOR i FROM 0 TO LENGTH OF d MINUS 1
                IF CHARACTER AT POSITION i IN d EQUALS c THEN
                    SET original_index TO i
                    BREAK
            SET shifted_index TO original_index PLUS 2 MULTIPLY 2
            WHILE shifted_index GREATER THAN OR EQUAL TO 26
                SET shifted_index TO shifted_index MINUS 26
            SET shifted_char TO CHARACTER AT POSITION shifted_index IN d
            SET out TO CONCATENATE out AND shifted_char
        ELSE
            SET out TO CONCATENATE out AND c
    RETURN out