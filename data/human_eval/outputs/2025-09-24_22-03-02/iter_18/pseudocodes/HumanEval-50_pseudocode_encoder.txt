FUNCTION encode_shift WITH PARAMETER s OF TYPE str
    SET encoded_chars TO LIST WITH ELEMENTS EMPTY
    SET LENGTH_TO_PROCESS TO LENGTH OF s
    SET INDEX TO 0
    WHILE INDEX LESS THAN LENGTH_TO_PROCESS
        SET ch TO ELEMENT AT INDEX OF s
        SET char_code TO CALL ord WITH ARGUMENT ch
        SET base_code TO CALL ord WITH ARGUMENT "a"
        SET shifted_code TO ((char_code PLUS 5 MINUS base_code) MODULO 26) PLUS base_code
        SET shifted_char TO CALL chr WITH ARGUMENT shifted_code
        APPEND shifted_char TO encoded_chars
        INCREMENT INDEX BY 1
    END WHILE
    SET result TO EMPTY STRING
    SET INDEX TO 0
    SET LENGTH_TO_JOIN TO LENGTH OF encoded_chars
    WHILE INDEX LESS THAN LENGTH_TO_JOIN
        SET result TO CONCATENATE result WITH ELEMENT AT INDEX OF encoded_chars
        INCREMENT INDEX BY 1
    END WHILE
    RETURN result
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE str
    SET decoded_chars TO LIST WITH ELEMENTS EMPTY
    SET LENGTH_TO_PROCESS TO LENGTH OF s
    SET INDEX TO 0
    WHILE INDEX LESS THAN LENGTH_TO_PROCESS
        SET ch TO ELEMENT AT INDEX OF s
        SET char_code TO CALL ord WITH ARGUMENT ch
        SET base_code TO CALL ord WITH ARGUMENT "a"
        SET shifted_code TO ((char_code MINUS 5 MINUS base_code) MODULO 26) PLUS base_code
        SET shifted_char TO CALL chr WITH ARGUMENT shifted_code
        APPEND shifted_char TO decoded_chars
        INCREMENT INDEX BY 1
    END WHILE
    SET result TO EMPTY STRING
    SET INDEX TO 0
    SET LENGTH_TO_JOIN TO LENGTH OF decoded_chars
    WHILE INDEX LESS THAN LENGTH_TO_JOIN
        SET result TO CONCATENATE result WITH ELEMENT AT INDEX OF decoded_chars
        INCREMENT INDEX BY 1
    END WHILE
    RETURN result
END FUNCTION