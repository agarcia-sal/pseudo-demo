FUNCTION fruit_distribution WITH PARAMETERS s, n
    SET lis TO LIST WITH ELEMENTS EMPTY
    SET split_list TO LIST WITH ELEMENTS EMPTY
    SET temp_string TO EMPTY STRING
    SET current_char_index TO 0
    WHILE current_char_index LESS THAN LENGTH OF s
        CALL APPEND s CHARACTER AT current_char_index TO split_list
        INCREMENT current_char_index BY 1
    END WHILE
    SET current_word TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        IF s CHARACTER AT index EQUALS SPACE
            IF current_word NOT EQUAL TO EMPTY STRING
                CALL APPEND current_word TO split_list
                SET current_word TO EMPTY STRING
            END IF
        ELSE 
            SET current_word TO CONCATENATE current_word AND s CHARACTER AT index
        END IF
    END FOR
    IF current_word NOT EQUAL TO EMPTY STRING
        CALL APPEND current_word TO split_list
    END IF
    FOR index FROM 0 TO LENGTH OF split_list MINUS 1
        SET i TO split_list ELEMENT AT index
        SET is_digit TO TRUE
        SET digit_index TO 0
        WHILE digit_index LESS THAN LENGTH OF i AND is_digit EQUALS TRUE
            IF i CHARACTER AT digit_index LESS THAN "0" OR i CHARACTER AT digit_index GREATER THAN "9"
                SET is_digit TO FALSE
            END IF
            INCREMENT digit_index BY 1
        END WHILE
        IF is_digit EQUALS TRUE
            CALL APPEND INTEGER VALUE OF i TO lis
        END IF
    END FOR
    SET total_sum TO 0
    FOR index FROM 0 TO LENGTH OF lis MINUS 1
        SET total_sum TO total_sum PLUS lis ELEMENT AT index
    END FOR
    SET result TO n MINUS total_sum
    RETURN result
END FUNCTION