FUNCTION find_closest_elements WITH PARAMETER numbers OF TYPE LIST OF FLOAT RETURNS TUPLE OF FLOAT AND FLOAT
    SET closest_pair TO NONE
    SET distance TO NONE
    SET idx TO ZERO
    WHILE idx LESS THAN LENGTH OF numbers
        SET elem TO ELEMENT AT INDEX idx OF numbers
        SET idx2 TO ZERO
        WHILE idx2 LESS THAN LENGTH OF numbers
            SET elem2 TO ELEMENT AT INDEX idx2 OF numbers
            IF idx NOT EQUAL TO idx2 THEN
                IF distance EQUALS NONE THEN
                    SET distance TO CALL abs WITH ARGUMENT elem MINUS elem2
                    SET LIST temp_list TO LIST WITH ELEMENTS EMPTY
                    APPEND elem TO temp_list
                    APPEND elem2 TO temp_list
                    CALL temp_list SORTED IN ASCENDING ORDER
                    SET closest_pair TO TUPLE WITH ELEMENTS ELEMENT AT INDEX ZERO OF temp_list AND ELEMENT AT INDEX ONE OF temp_list
                ELSE
                    SET new_distance TO CALL abs WITH ARGUMENT elem MINUS elem2
                    IF new_distance LESS THAN distance THEN
                        SET distance TO new_distance
                        SET LIST temp_list TO LIST WITH ELEMENTS EMPTY
                        APPEND elem TO temp_list
                        APPEND elem2 TO temp_list
                        CALL temp_list SORTED IN ASCENDING ORDER
                        SET closest_pair TO TUPLE WITH ELEMENTS ELEMENT AT INDEX ZERO OF temp_list AND ELEMENT AT INDEX ONE OF temp_list
            INCREMENT idx2 BY ONE
        INCREMENT idx BY ONE
    RETURN closest_pair