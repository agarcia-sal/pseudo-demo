FUNCTION select_words(s, n)
    SET result TO LIST WITH ELEMENTS EMPTY
    IF s EQUALS EMPTY STRING
        RETURN result
    SET words TO LIST WITH ELEMENTS EMPTY
    SET current_word TO EMPTY STRING
    SET length_s TO LENGTH OF s
    SET index_s TO 0
    WHILE index_s LESS THAN length_s
        SET char TO CHARACTER AT POSITION index_s IN s
        IF char EQUALS SPACE
            IF current_word NOT EQUAL TO EMPTY STRING
                APPEND current_word TO words
                SET current_word TO EMPTY STRING
        ELSE
            CONCATENATE char TO current_word
        INCREMENT index_s BY 1
    IF current_word NOT EQUAL TO EMPTY STRING
        APPEND current_word TO words
    SET index_words TO 0
    SET length_words TO LENGTH OF words
    WHILE index_words LESS THAN length_words
        SET word TO ELEMENT AT POSITION index_words IN words
        SET n_consonants TO 0
        SET length_word TO LENGTH OF word
        SET index_word TO 0
        WHILE index_word LESS THAN length_word
            SET letter TO CHARACTER AT POSITION index_word IN word
            SET letter_lower TO CALL TO LOWERCASE FUNCTION ON letter
            IF letter_lower NOT EQUAL TO "a" AND letter_lower NOT EQUAL TO "e" AND letter_lower NOT EQUAL TO "i" AND letter_lower NOT EQUAL TO "o" AND letter_lower NOT EQUAL TO "u"
                INCREMENT n_consonants BY 1
            INCREMENT index_word BY 1
        IF n_consonants EQUALS n
            APPEND word TO result
        INCREMENT index_words BY 1
    RETURN result