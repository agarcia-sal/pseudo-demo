FUNCTION minSubArraySum WITH PARAMETER nums
    SET max_sum TO 0
    SET s TO 0
    FOR index FROM 0 TO LENGTH OF nums MINUS 1
        SET num TO nums AT index
        SET s TO s PLUS NEGATIVE num
        IF s LESS THAN 0 THEN
            SET s TO 0
        END IF
        IF s GREATER THAN max_sum THEN
            SET max_sum TO s
        END IF
    END FOR
    IF max_sum EQUALS 0 THEN
        SET max_negative TO nums AT 0 MULTIPLY BY NEGATIVE 1
        FOR index FROM 1 TO LENGTH OF nums MINUS 1
            SET candidate TO nums AT index MULTIPLY BY NEGATIVE 1
            IF candidate GREATER THAN max_negative THEN
                SET max_negative TO candidate
            END IF
        END FOR
        SET max_sum TO max_negative
    END IF
    SET min_sum TO max_sum MULTIPLY BY NEGATIVE 1
    RETURN min_sum
END FUNCTION