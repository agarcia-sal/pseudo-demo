FUNCTION circular_shift(x, shift)
    SET s TO CONVERT x TO STRING
    IF shift GREATER THAN LENGTH OF s THEN
        SET result TO EMPTY STRING
        SET index TO LENGTH OF s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0 DO
            CONCATENATE s AT index TO result
            DECREMENT index BY 1
        END WHILE
        RETURN result
    ELSE
        SET part1 TO EMPTY STRING
        SET start_index_part1 TO LENGTH OF s MINUS shift
        SET end_index_part1 TO LENGTH OF s MINUS 1
        SET index TO start_index_part1
        WHILE index LESS THAN OR EQUAL TO end_index_part1 DO
            CONCATENATE s AT index TO part1
            INCREMENT index BY 1
        END WHILE
        SET part2 TO EMPTY STRING
        SET start_index_part2 TO 0
        SET end_index_part2 TO LENGTH OF s MINUS shift MINUS 1
        SET index TO start_index_part2
        WHILE index LESS THAN OR EQUAL TO end_index_part2 DO
            CONCATENATE s AT index TO part2
            INCREMENT index BY 1
        END WHILE
        RETURN CONCATENATE part1 PLUS part2
    END IF