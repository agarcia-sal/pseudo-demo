FUNCTION next_smallest WITH PARAMETER lst
    SET unique_list TO LIST WITH ELEMENTS EMPTY
    SET seen_elements TO LIST WITH ELEMENTS EMPTY
    SET original_length TO LENGTH OF lst
    SET index TO 0
    WHILE index LESS THAN original_length
        SET current_element TO lst AT INDEX index
        SET seen_index TO 0
        SET found TO FALSE
        WHILE seen_index LESS THAN LENGTH OF seen_elements
            IF seen_elements AT INDEX seen_index EQUALS current_element
                SET found TO TRUE
                BREAK
            ENDIF
            INCREMENT seen_index BY 1
        ENDWHILE
        IF found EQUALS FALSE
            APPEND current_element TO seen_elements
        ENDIF
        INCREMENT index BY 1
    ENDWHILE
    SET sorted_unique_list TO LIST WITH ELEMENTS EMPTY
    SET length_unique TO LENGTH OF seen_elements
    WHILE length_unique GREATER THAN 0
        SET min_element TO seen_elements AT INDEX 0
        SET min_index TO 0
        SET i TO 1
        WHILE i LESS THAN LENGTH OF seen_elements
            IF seen_elements AT INDEX i LESS THAN min_element
                SET min_element TO seen_elements AT INDEX i
                SET min_index TO i
            ENDIF
            INCREMENT i BY 1
        ENDWHILE
        APPEND min_element TO sorted_unique_list
        REMOVE ELEMENT AT INDEX min_index FROM seen_elements
        SET length_unique TO LENGTH OF seen_elements
    ENDWHILE
    IF LENGTH OF sorted_unique_list LESS THAN 2
        RETURN None
    ELSE
        RETURN sorted_unique_list AT INDEX 1
    ENDIF
END FUNCTION