FUNCTION mean_absolute_deviation WITH PARAMETER numbers OF TYPE LIST OF FLOAT RETURNS FLOAT
    SET total_sum TO 0.0
    SET total_length TO 0

    FOR index FROM 0 TO LENGTH OF numbers MINUS 1
        SET total_sum TO total_sum PLUS numbers AT index
        INCREMENT total_length BY 1
    END FOR

    SET mean TO total_sum DIVIDE total_length

    SET absolute_differences_sum TO 0.0

    FOR index FROM 0 TO LENGTH OF numbers MINUS 1
        SET difference TO numbers AT index MINUS mean
        IF difference LESS THAN 0 THEN
            SET absolute_difference TO difference MULTIPLY MINUS 1
        ELSE
            SET absolute_difference TO difference
        END IF
        SET absolute_differences_sum TO absolute_differences_sum PLUS absolute_difference
    END FOR

    SET mad TO absolute_differences_sum DIVIDE total_length

    RETURN mad
END FUNCTION