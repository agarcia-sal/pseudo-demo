FUNCTION sort_numbers WITH PARAMETER numbers : str RETURNS str
    SET value_map TO DICTIONARY WITH ELEMENTS:
        'zero' MAPPED TO 0
        'one' MAPPED TO 1
        'two' MAPPED TO 2
        'three' MAPPED TO 3
        'four' MAPPED TO 4
        'five' MAPPED TO 5
        'six' MAPPED TO 6
        'seven' MAPPED TO 7
        'eight' MAPPED TO 8
        'nine' MAPPED TO 9
    SET split_numbers TO LIST WITH ELEMENTS EMPTY
    SET temp_list TO EMPTY LIST
    SET index_split TO 0
    WHILE index_split LESS THAN LENGTH OF numbers
        SET current_char TO CHARACTER AT index_split IN numbers
        IF current_char EQUALS ' '
            APPEND temp_list CONCATENATED INTO STRING TO split_numbers
            SET temp_list TO EMPTY LIST
        ELSE
            APPEND current_char TO temp_list
        INCREMENT index_split BY 1
    IF LENGTH OF temp_list GREATER THAN 0
        APPEND temp_list CONCATENATED INTO STRING TO split_numbers
    SET filtered_numbers TO EMPTY LIST
    SET index_filtered TO 0
    WHILE index_filtered LESS THAN LENGTH OF split_numbers
        IF split_numbers AT index_filtered NOT EQUAL TO EMPTY STRING
            APPEND split_numbers AT index_filtered TO filtered_numbers
        INCREMENT index_filtered BY 1
    SET sorted_numbers TO EMPTY LIST
    SET index_outer TO 0
    WHILE index_outer LESS THAN LENGTH OF filtered_numbers MINUS 1
        SET index_inner TO index_outer PLUS 1
        WHILE index_inner LESS THAN LENGTH OF filtered_numbers
            IF value_map AT filtered_numbers AT index_outer GREATER THAN value_map AT filtered_numbers AT index_inner
                SET temp TO filtered_numbers AT index_outer
                SET filtered_numbers AT index_outer TO filtered_numbers AT index_inner
                SET filtered_numbers AT index_inner TO temp
            INCREMENT index_inner BY 1
        INCREMENT index_outer BY 1
    SET result_string TO EMPTY STRING
    SET index_result TO 0
    WHILE index_result LESS THAN LENGTH OF filtered_numbers
        IF index_result EQUALS 0
            SET result_string TO filtered_numbers AT index_result
        ELSE
            SET result_string TO result_string CONCATENATED WITH ' ' CONCATENATED WITH filtered_numbers AT index_result
        INCREMENT index_result BY 1
    RETURN result_string