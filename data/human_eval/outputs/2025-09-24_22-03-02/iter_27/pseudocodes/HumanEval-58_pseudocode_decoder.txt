FUNCTION common(l1 LIST, l2 LIST)
    SET ret TO EMPTY SET
    SET i TO 0
    WHILE i LESS THAN LENGTH OF l1
        SET e1 TO ELEMENT AT INDEX i OF l1
        SET j TO 0
        WHILE j LESS THAN LENGTH OF l2
            SET e2 TO ELEMENT AT INDEX j OF l2
            IF e1 EQUALS e2
                CALL ret ADD ELEMENT e1
            END IF
            INCREMENT j BY 1
        END WHILE
        INCREMENT i BY 1
    END WHILE
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        APPEND element TO ret_list
    END FOR
    SET sorted_ret_list TO EMPTY LIST
    WHILE LENGTH OF ret_list GREATER THAN 0
        SET min_index TO 0
        SET k TO 1
        WHILE k LESS THAN LENGTH OF ret_list
            IF ELEMENT AT INDEX k OF ret_list LESS THAN ELEMENT AT INDEX min_index OF ret_list
                SET min_index TO k
            END IF
            INCREMENT k BY 1
        END WHILE
        APPEND ELEMENT AT INDEX min_index OF ret_list TO sorted_ret_list
        REMOVE ELEMENT AT INDEX min_index FROM ret_list
    END WHILE
    RETURN sorted_ret_list
END FUNCTION