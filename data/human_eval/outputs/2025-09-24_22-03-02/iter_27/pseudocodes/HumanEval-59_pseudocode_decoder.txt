FUNCTION largest_prime_factor WITH PARAMETER n AS INTEGER
    FUNCTION is_prime WITH PARAMETER k AS INTEGER
        IF k LESS THAN 2 THEN
            RETURN False
        END IF
        SET i TO 2
        WHILE i LESS THAN k MINUS 1 DO
            IF k MODULO i EQUALS 0 THEN
                RETURN False
            END IF
            INCREMENT i BY 1
        END WHILE
        RETURN True
    END FUNCTION
    SET largest TO 1
    SET j TO 2
    WHILE j LESS THAN OR EQUAL TO n DO
        IF n MODULO j EQUALS 0 AND CALL is_prime WITH ARGUMENT k EQUALS j THEN
            IF j GREATER THAN largest THEN
                SET largest TO j
            END IF
        END IF
        INCREMENT j BY 1
    END WHILE
    RETURN largest
END FUNCTION