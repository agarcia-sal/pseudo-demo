FUNCTION derivative WITH PARAMETER xs OF TYPE list
    SET result TO LIST WITH ELEMENTS EMPTY
    SET length TO CALL length ON xs
    FOR index FROM 1 TO length MINUS 1
        SET coefficient TO xs AT index
        SET product TO index MULTIPLY coefficient
        APPEND product TO result
    END FOR
    RETURN result
END FUNCTION