FUNCTION intersperse WITH PARAMETERS numbers OF TYPE LIST OF INTEGER AND delimeter OF TYPE INTEGER RETURNS LIST OF INTEGER
    IF numbers EQUALS LIST WITH ELEMENTS EMPTY THEN
        RETURN LIST WITH ELEMENTS EMPTY
    END IF

    SET result TO LIST WITH ELEMENTS EMPTY

    SET last_index TO LENGTH OF numbers MINUS 1

    SET index TO 0
    WHILE index LESS THAN last_index DO
        SET n TO ELEMENT AT INDEX index OF numbers
        CALL APPEND n ON result
        CALL APPEND delimeter ON result
        INCREMENT index BY 1
    END WHILE

    SET last_element TO ELEMENT AT INDEX last_index OF numbers
    CALL APPEND last_element ON result

    RETURN result
END FUNCTION