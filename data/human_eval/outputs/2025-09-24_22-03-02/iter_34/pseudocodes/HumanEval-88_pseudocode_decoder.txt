FUNCTION sort_array WITH PARAMETER array
    SET length TO CALL length ON array
    IF length EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET first_value TO array AT INDEX 0
        SET last_value TO array AT INDEX length MINUS 1
        SET sum_first_last TO first_value PLUS last_value
        SET remainder TO sum_first_last MODULO 2
        IF remainder EQUALS 0 THEN
            SET reverse_flag TO TRUE
        ELSE
            SET reverse_flag TO FALSE
        END IF
        SET array_copy TO LIST WITH ELEMENTS EMPTY
        FOR index FROM 0 TO length MINUS 1 DO
            APPEND array AT INDEX index TO array_copy
        END FOR
        IF reverse_flag EQUALS TRUE THEN
            CALL SORT array_copy IN DESCENDING ORDER
        ELSE
            CALL SORT array_copy IN ASCENDING ORDER
        END IF
        RETURN array_copy
    END IF