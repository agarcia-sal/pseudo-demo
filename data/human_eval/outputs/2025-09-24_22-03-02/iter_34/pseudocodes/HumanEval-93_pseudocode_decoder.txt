FUNCTION encode WITH PARAMETER message  
    SET vowels TO STRING "aeiouAEIOU"  
    SET vowels_replace TO EMPTY DICTIONARY  
    SET index TO 0  
    WHILE index LESS THAN LENGTH OF vowels  
        SET current_char TO CHARACTER AT vowels AT index  
        SET ascii_value TO CALL ord WITH ARGUMENT current_char  
        SET replaced_char TO CALL chr WITH ARGUMENT ascii_value PLUS 2  
        SET vowels_replace AT KEY current_char TO replaced_char  
        INCREMENT index BY 1  
    END WHILE  
    SET message TO CALL swapcase METHOD ON message WITH NO ARGUMENTS  
    SET encoded_message_characters TO EMPTY LIST  
    SET index TO 0  
    WHILE index LESS THAN LENGTH OF message  
        SET current_char TO CHARACTER AT message AT index  
        IF current_char IN vowels THEN  
            SET replaced_char TO VALUE FROM vowels_replace AT KEY current_char  
            APPEND replaced_char TO encoded_message_characters  
        ELSE  
            APPEND current_char TO encoded_message_characters  
        END IF  
        INCREMENT index BY 1  
    END WHILE  
    SET encoded_message TO CALL join METHOD ON STRING EMPTY WITH ARGUMENT encoded_message_characters  
    RETURN encoded_message  
END FUNCTION