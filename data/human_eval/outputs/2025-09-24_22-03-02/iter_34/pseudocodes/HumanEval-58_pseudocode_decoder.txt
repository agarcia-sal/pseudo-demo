FUNCTION common(l1 AS list, l2 AS list)
    SET ret TO EMPTY SET
    SET index1 TO 0
    WHILE index1 LESS THAN LENGTH OF l1
        SET e1 TO ELEMENT AT index1 OF l1
        SET index2 TO 0
        WHILE index2 LESS THAN LENGTH OF l2
            SET e2 TO ELEMENT AT index2 OF l2
            IF e1 EQUALS e2 THEN
                CALL ret.ADD WITH ARGUMENTS e1
            END IF
            INCREMENT index2 BY 1
        END WHILE
        INCREMENT index1 BY 1
    END WHILE
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        APPEND element TO ret_list
    END FOR
    CALL ret_list.SORT IN PLACE
    RETURN ret_list
END FUNCTION