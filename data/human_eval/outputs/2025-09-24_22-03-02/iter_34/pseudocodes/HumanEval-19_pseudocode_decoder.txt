FUNCTION sort_numbers WITH PARAMETER numbers OF TYPE STRING RETURNS STRING
    SET value_map TO DICTIONARY WITH PAIRS:
        'zero' MAPPED TO 0,
        'one' MAPPED TO 1,
        'two' MAPPED TO 2,
        'three' MAPPED TO 3,
        'four' MAPPED TO 4,
        'five' MAPPED TO 5,
        'six' MAPPED TO 6,
        'seven' MAPPED TO 7,
        'eight' MAPPED TO 8,
        'nine' MAPPED TO 9
    SET split_list TO CALL method split ON numbers WITH ARGUMENT ' '
    SET filtered_list TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF split_list MINUS 1 DO
        IF split_list AT index NOT EQUAL TO EMPTY STRING THEN
            APPEND split_list AT index TO filtered_list
        END IF
    END FOR
    SET sorted_list TO COPY OF filtered_list
    FOR i FROM 0 TO LENGTH OF sorted_list MINUS 2 DO
        FOR j FROM i PLUS 1 TO LENGTH OF sorted_list MINUS 1 DO
            IF value_map AT sorted_list AT i GREATER THAN value_map AT sorted_list AT j THEN
                SET temp TO sorted_list AT i
                SET sorted_list AT i TO sorted_list AT j
                SET sorted_list AT j TO temp
            END IF
        END FOR
    END FOR
    SET result_string TO EMPTY STRING
    FOR k FROM 0 TO LENGTH OF sorted_list MINUS 1 DO
        IF k EQUALS 0 THEN
            SET result_string TO sorted_list AT k
        ELSE
            SET result_string TO CONCATENATE result_string PLUS ' ' PLUS sorted_list AT k
        END IF
    END FOR
    RETURN result_string