FUNCTION by_length WITH PARAMETER arr
    SET dic TO DICTIONARY WITH PAIRS
        1 MAPPED TO "One"
        2 MAPPED TO "Two"
        3 MAPPED TO "Three"
        4 MAPPED TO "Four"
        5 MAPPED TO "Five"
        6 MAPPED TO "Six"
        7 MAPPED TO "Seven"
        8 MAPPED TO "Eight"
        9 MAPPED TO "Nine"
    SET filtered_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF arr MINUS 1
        IF arr AT INDEX i IS GREATER THAN OR EQUAL TO 1 AND arr AT INDEX i IS LESS THAN OR EQUAL TO 9
            APPEND arr AT INDEX i TO filtered_arr
    SET n TO LENGTH OF filtered_arr
    FOR i FROM 0 TO n MINUS 2
        FOR j FROM 0 TO n MINUS 2 MINUS i
            IF filtered_arr AT INDEX j IS GREATER THAN filtered_arr AT INDEX j PLUS 1
                SET temp TO filtered_arr AT INDEX j
                SET filtered_arr AT INDEX j TO filtered_arr AT INDEX j PLUS 1
                SET filtered_arr AT INDEX j PLUS 1 TO temp
    SET reversed_arr TO LIST WITH ELEMENTS EMPTY
    FOR i FROM LENGTH OF filtered_arr MINUS 1 DOWN TO 0
        APPEND filtered_arr AT INDEX i TO reversed_arr
    SET new_arr TO LIST WITH ELEMENTS EMPTY
    FOR k FROM 0 TO LENGTH OF reversed_arr MINUS 1
        SET current_value TO reversed_arr AT INDEX k
        SET is_in_dic TO FALSE
        FOR key IN dic KEYS
            IF key EQUALS current_value
                APPEND dic AT KEY key TO new_arr
                SET is_in_dic TO TRUE
                BREAK
        IF is_in_dic EQUALS FALSE
            CONTINUE
    RETURN new_arr