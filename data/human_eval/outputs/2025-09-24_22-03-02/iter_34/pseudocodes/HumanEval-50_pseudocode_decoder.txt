FUNCTION encode_shift WITH PARAMETER s OF TYPE STRING
    SET result TO EMPTY LIST
    FOR i FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO CHARACTER AT INDEX i IN s
        SET ch_code TO CALL ORD WITH ARGUMENT ch
        SET base_code TO CALL ORD WITH ARGUMENT "a"
        SET shifted_value TO ch_code PLUS 5 MINUS base_code
        SET modulo_value TO shifted_value MODULO 26
        SET new_char_code TO modulo_value PLUS base_code
        SET new_char TO CALL CHR WITH ARGUMENT new_char_code
        APPEND new_char TO result
    END FOR
    SET joined_string TO EMPTY STRING
    FOR j FROM 0 TO LENGTH OF result MINUS 1
        CONCATENATE joined_string WITH ELEMENT AT INDEX j IN result
    END FOR
    RETURN joined_string
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE STRING
    SET result TO EMPTY LIST
    FOR i FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO CHARACTER AT INDEX i IN s
        SET ch_code TO CALL ORD WITH ARGUMENT ch
        SET base_code TO CALL ORD WITH ARGUMENT "a"
        SET shifted_value TO ch_code MINUS 5 MINUS base_code
        SET modulo_value TO shifted_value MODULO 26
        SET new_char_code TO modulo_value PLUS base_code
        SET new_char TO CALL CHR WITH ARGUMENT new_char_code
        APPEND new_char TO result
    END FOR
    SET joined_string TO EMPTY STRING
    FOR j FROM 0 TO LENGTH OF result MINUS 1
        CONCATENATE joined_string WITH ELEMENT AT INDEX j IN result
    END FOR
    RETURN joined_string
END FUNCTION