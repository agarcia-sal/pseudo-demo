FUNCTION encrypt WITH PARAMETER s
    SET d TO "abcdefghijklmnopqrstuvwxyz"
    SET out TO ""
    SET i TO 0
    WHILE i LESS THAN LENGTH OF s
        SET c TO CHARACTER AT INDEX i OF s
        SET j TO 0
        SET found TO FALSE
        WHILE j LESS THAN LENGTH OF d AND found EQUALS FALSE
            IF CHARACTER AT INDEX j OF d EQUALS c
                SET found TO TRUE
            ELSE
                INCREMENT j BY 1
        IF found EQUALS TRUE
            SET k TO j PLUS 2 MULTIPLY 2
            SET k TO k MODULO 26
            SET out TO CONCATENATE out AND CHARACTER AT INDEX k OF d
        ELSE
            SET out TO CONCATENATE out AND c
        INCREMENT i BY 1
    RETURN out