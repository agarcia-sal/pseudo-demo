FUNCTION is_palindrome WITH PARAMETERS string
    RETURN string EQUALS CALL reverse_string WITH ARGUMENT string

FUNCTION reverse_string WITH PARAMETERS input_string
    SET length TO CALL length WITH ARGUMENT input_string
    SET reversed_string TO EMPTY STRING
    SET index TO length MINUS 1
    WHILE index GREATER THAN OR EQUAL TO 0
        SET reversed_string TO CONCATENATE reversed_string PLUS CHARACTER AT input_string WITH INDEX index
        DECREMENT index BY 1
    END WHILE
    RETURN reversed_string

FUNCTION make_palindrome WITH PARAMETERS string
    IF string EQUALS EMPTY STRING
        RETURN EMPTY STRING
    END IF

    SET beginning_of_suffix TO 0

    WHILE CALL is_palindrome WITH ARGUMENT CALL substring WITH ARGUMENTS string, beginning_of_suffix, CALL length WITH ARGUMENT string MINUS 1 IS FALSE
        INCREMENT beginning_of_suffix BY 1
    END WHILE

    SET prefix_substring TO CALL substring WITH ARGUMENTS string, 0, beginning_of_suffix MINUS 1
    SET reversed_prefix TO CALL reverse_string WITH ARGUMENT prefix_substring

    RETURN CONCATENATE string PLUS reversed_prefix

FUNCTION substring WITH PARAMETERS text, start_index, end_index
    SET result TO EMPTY STRING
    SET index TO start_index
    WHILE index LESS THAN OR EQUAL TO end_index
        SET result TO CONCATENATE result PLUS CHARACTER AT text WITH INDEX index
        INCREMENT index BY 1
    END WHILE
    RETURN result