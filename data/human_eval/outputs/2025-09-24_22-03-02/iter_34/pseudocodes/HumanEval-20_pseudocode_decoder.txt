FUNCTION find_closest_elements WITH PARAMETER numbers OF TYPE LIST OF FLOAT RETURNS TUPLE OF FLOAT, FLOAT
    SET closest_pair TO NONE
    SET distance TO NONE
    SET index_i TO 0
    WHILE index_i LESS THAN LENGTH OF numbers
        SET elem TO ELEMENT AT index_i IN numbers
        SET index_j TO 0
        WHILE index_j LESS THAN LENGTH OF numbers
            SET elem2 TO ELEMENT AT index_j IN numbers
            IF index_i NOT EQUAL TO index_j THEN
                IF distance EQUALS NONE THEN
                    SET distance TO ABSOLUTE VALUE OF (elem MINUS elem2)
                    IF elem LESS THAN OR EQUAL TO elem2 THEN
                        SET closest_pair TO TUPLE WITH ELEMENTS elem AND elem2
                    ELSE
                        SET closest_pair TO TUPLE WITH ELEMENTS elem2 AND elem
                    END IF
                ELSE
                    SET new_distance TO ABSOLUTE VALUE OF (elem MINUS elem2)
                    IF new_distance LESS THAN distance THEN
                        SET distance TO new_distance
                        IF elem LESS THAN OR EQUAL TO elem2 THEN
                            SET closest_pair TO TUPLE WITH ELEMENTS elem AND elem2
                        ELSE
                            SET closest_pair TO TUPLE WITH ELEMENTS elem2 AND elem
                        END IF
                    END IF
                END IF
            END IF
            INCREMENT index_j BY 1
        END WHILE
        INCREMENT index_i BY 1
    END WHILE
    RETURN closest_pair
END FUNCTION