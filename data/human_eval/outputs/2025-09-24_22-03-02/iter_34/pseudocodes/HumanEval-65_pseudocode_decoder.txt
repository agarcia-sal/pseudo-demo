FUNCTION circular_shift WITH PARAMETERS x, shift
    SET s TO CALL str WITH ARGUMENTS x
    SET length_s TO CALL len WITH ARGUMENTS s
    IF shift GREATER THAN length_s THEN
        SET result TO EMPTY STRING
        SET index TO length_s MINUS 1
        WHILE index GREATER THAN OR EQUAL TO 0
            SET result TO CONCATENATE result AND s AT index
            DECREMENT index BY 1
        END WHILE
        RETURN result
    ELSE
        SET part_one TO EMPTY STRING
        SET start_index_part_one TO length_s MINUS shift
        SET index_part_one TO start_index_part_one
        WHILE index_part_one LESS THAN length_s
            SET part_one TO CONCATENATE part_one AND s AT index_part_one
            INCREMENT index_part_one BY 1
        END WHILE
        SET part_two TO EMPTY STRING
        SET index_part_two TO 0
        WHILE index_part_two LESS THAN start_index_part_one
            SET part_two TO CONCATENATE part_two AND s AT index_part_two
            INCREMENT index_part_two BY 1
        END WHILE
        SET result TO CONCATENATE part_one AND part_two
        RETURN result
    END IF
END FUNCTION