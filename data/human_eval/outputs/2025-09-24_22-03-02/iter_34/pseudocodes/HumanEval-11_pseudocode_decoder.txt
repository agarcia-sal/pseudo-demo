FUNCTION string_xor WITH PARAMETERS a AS STRING, b AS STRING RETURNS STRING
    FUNCTION xor WITH PARAMETERS i, j
        IF i EQUALS j THEN
            RETURN STRING '0'
        ELSE
            RETURN STRING '1'
        END IF
    END FUNCTION

    SET result TO EMPTY STRING
    SET length_a TO LENGTH OF a
    SET length_b TO LENGTH OF b
    SET min_length TO length_a
    IF length_b LESS THAN min_length THEN
        SET min_length TO length_b
    END IF

    FOR index FROM 0 TO min_length MINUS 1 DO
        SET char_a TO CHARACTER AT INDEX index OF a
        SET char_b TO CHARACTER AT INDEX index OF b
        SET xor_result TO CALL xor WITH ARGUMENTS char_a, char_b
        SET result TO CONCATENATE result PLUS xor_result
    END FOR

    RETURN result
END FUNCTION