FUNCTION select_words WITH PARAMETERS s, n
    SET result TO LIST WITH ELEMENTS EMPTY
    SET words TO LIST WITH ELEMENTS EMPTY
    SET current_word TO EMPTY STRING
    FOR index FROM zero TO LENGTH OF s MINUS one
        SET character TO CHARACTER AT index OF s
        IF character EQUALS SPACE
            IF LENGTH OF current_word GREATER THAN zero
                APPEND current_word TO words
                SET current_word TO EMPTY STRING
        ELSE
            CONCATENATE character TO current_word
    IF LENGTH OF current_word GREATER THAN zero
        APPEND current_word TO words
    FOR index_word FROM zero TO LENGTH OF words MINUS one
        SET word TO ELEMENT AT index_word OF words
        SET n_consonants TO zero
        FOR index_char FROM zero TO LENGTH OF word MINUS one
            SET letter TO CHARACTER AT index_char OF word
            SET letter_lower TO CALL method lower ON letter WITH ARGUMENTS EMPTY
            IF letter_lower NOT EQUAL TO "a" AND letter_lower NOT EQUAL TO "e" AND letter_lower NOT EQUAL TO "i" AND letter_lower NOT EQUAL TO "o" AND letter_lower NOT EQUAL TO "u"
                SET n_consonants TO n_consonants PLUS one
        IF n_consonants EQUALS n
            APPEND word TO result
    RETURN result