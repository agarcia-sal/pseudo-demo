FUNCTION encode_cyclic(s as string)
    SET groups TO empty list
    FOR index FROM zero TO (length of s plus two) DIVIDED BY three MINUS one
        SET start_index TO index MULTIPLIED BY three
        SET end_index TO minimum of (start_index plus three) AND length of s
        APPEND substring of s from start_index TO end_index TO groups
    END FOR

    SET cycled_groups TO empty list
    FOR each group IN groups
        IF length of group EQUALS three THEN
            APPEND concatenation of substring of group from one TO end AND first character of group TO cycled_groups
        ELSE
            APPEND group TO cycled_groups
        END IF
    END FOR

    RETURN concatenation of all elements in cycled_groups
END FUNCTION

FUNCTION decode_cyclic(s as string)
    RETURN encode_cyclic(encode_cyclic(s))
END FUNCTION