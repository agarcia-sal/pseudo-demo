FUNCTION is_nested(string)
    SET opening_bracket_index TO empty list
    SET closing_bracket_index TO empty list
    FOR index FROM zero TO length of string MINUS one
        IF character at string index EQUALS opening bracket
            APPEND index TO opening_bracket_index
        ELSE
            APPEND index TO closing_bracket_index
    REVERSE closing_bracket_index
    SET count TO zero
    SET i TO zero
    SET length_closing TO length of closing_bracket_index
    FOR each idx IN opening_bracket_index
        IF i LESS THAN length_closing AND idx LESS THAN closing_bracket_index at i
            INCREMENT count BY one
            INCREMENT i BY one
    RETURN count GREATER THAN OR EQUAL TO two