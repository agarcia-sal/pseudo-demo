FUNCTION how_many_times(string, substring)
    SET times TO 0

    FOR index FROM 0 TO LENGTH(string) MINUS LENGTH(substring) PLUS 1
        IF SUBSTRING OF string FROM index TO index PLUS LENGTH(substring) EQUALS substring
            INCREMENT times BY 1
        END IF
    END FOR

    RETURN times
END FUNCTION