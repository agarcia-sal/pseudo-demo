FUNCTION encrypt(s)
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO empty string
    FOR EACH c IN s
        IF c IS IN d THEN
            SET index TO POSITION OF c IN d
            SET shifted_index TO (index PLUS 2 TIMES 2) MODULO 26
            SET out TO CONCATENATE out AND CHARACTER AT shifted_index IN d
        ELSE
            SET out TO CONCATENATE out AND c
    RETURN out