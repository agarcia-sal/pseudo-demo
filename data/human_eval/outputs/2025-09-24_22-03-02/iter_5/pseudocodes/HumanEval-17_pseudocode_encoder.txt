FUNCTION parse_music WITH PARAMETER music_string
    SET note_map TO DICTIONARY WITH KEYS 'o' MAPPED TO 4, 'o|' MAPPED TO 2, '.|' MAPPED TO 1
    SET list_of_notes TO EMPTY LIST
    FOR each note IN SPLIT music_string BY SINGLE SPACE
        IF note IS NOT EMPTY
            APPEND note_map VALUE OF note TO list_of_notes
    RETURN list_of_notes