FUNCTION fib4(n : INTEGER)
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN ELEMENT AT n IN results
    END IF
    FOR index FROM 4 TO n
        SET new_value TO ELEMENT AT (LENGTH OF results MINUS 1) IN results PLUS ELEMENT AT (LENGTH OF results MINUS 2) IN results PLUS ELEMENT AT (LENGTH OF results MINUS 3) IN results PLUS ELEMENT AT (LENGTH OF results MINUS 4) IN results
        APPEND new_value TO results
        REMOVE ELEMENT AT 0 IN results
    END FOR
    RETURN ELEMENT AT (LENGTH OF results MINUS 1) IN results
END FUNCTION