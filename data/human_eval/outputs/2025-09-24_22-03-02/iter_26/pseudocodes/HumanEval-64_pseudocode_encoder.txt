FUNCTION vowels_count(s)
    SET vowels TO STRING "aeiouAEIOU"
    SET n_vowels TO 0
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        SET c TO ELEMENT AT index IN s
        IF c IN vowels
            INCREMENT n_vowels BY 1
    END FOR
    IF LENGTH OF s GREATER THAN 0
        SET last_char TO ELEMENT AT LENGTH OF s MINUS 1 IN s
        IF last_char EQUALS 'y' OR last_char EQUALS 'Y'
            INCREMENT n_vowels BY 1
    RETURN n_vowels
END FUNCTION