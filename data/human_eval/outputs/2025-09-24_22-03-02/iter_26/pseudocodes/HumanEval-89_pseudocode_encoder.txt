FUNCTION encrypt(s)
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        SET c TO ELEMENT AT index IN s
        IF c IN d THEN
            SET position TO CALL index OF d WITH ARGUMENT c
            SET new_position TO (position PLUS 2 MULTIPLY 2) MODULO 26
            SET new_char TO ELEMENT AT new_position IN d
            SET out TO CONCATENATE out WITH new_char
        ELSE
            SET out TO CONCATENATE out WITH c
    RETURN out
END FUNCTION