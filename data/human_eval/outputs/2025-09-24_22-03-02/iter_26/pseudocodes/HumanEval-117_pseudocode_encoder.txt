FUNCTION select_words(s, n)
    SET result TO LIST WITH ELEMENTS EMPTY
    SET splitted_words TO LIST WITH ELEMENTS EMPTY
    SET current_word TO EMPTY STRING
    SET s_length TO LENGTH OF s
    FOR index FROM 0 TO s_length MINUS 1
        SET current_character TO ELEMENT AT index IN s
        IF current_character EQUALS " "
            IF LENGTH OF current_word GREATER THAN 0
                APPEND current_word TO splitted_words
                SET current_word TO EMPTY STRING
        ELSE
            CONCATENATE current_character TO current_word
    IF LENGTH OF current_word GREATER THAN 0
        APPEND current_word TO splitted_words
    FOR word_index FROM 0 TO LENGTH OF splitted_words MINUS 1
        SET word TO ELEMENT AT word_index IN splitted_words
        SET n_consonants TO 0
        SET word_length TO LENGTH OF word
        FOR i FROM 0 TO word_length MINUS 1
            SET current_letter TO ELEMENT AT i IN word
            SET lower_letter TO CALL lower METHOD OF current_letter WITH ARGUMENTS EMPTY
            IF lower_letter NOT EQUAL TO "a" AND lower_letter NOT EQUAL TO "e" AND lower_letter NOT EQUAL TO "i" AND lower_letter NOT EQUAL TO "o" AND lower_letter NOT EQUAL TO "u"
                INCREMENT n_consonants BY 1
        IF n_consonants EQUALS n
            APPEND word TO result
    RETURN result
END FUNCTION