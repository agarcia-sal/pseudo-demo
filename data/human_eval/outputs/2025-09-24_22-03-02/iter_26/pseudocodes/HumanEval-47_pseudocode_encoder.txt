FUNCTION median(l: list)
    SET l TO CALL sorted WITH ARGUMENTS l
    SET length_l TO LENGTH OF l
    SET remainder TO length_l MODULO 2
    IF remainder EQUALS 1
        SET index TO length_l INTEGER DIVIDE BY 2
        SET result TO ELEMENT AT index IN l
        RETURN result
    ELSE
        SET index1 TO (length_l INTEGER DIVIDE BY 2) MINUS 1
        SET index2 TO length_l INTEGER DIVIDE BY 2
        SET element1 TO ELEMENT AT index1 IN l
        SET element2 TO ELEMENT AT index2 IN l
        SET sum_elements TO element1 PLUS element2
        SET result TO sum_elements DIVIDED BY 2.0
        RETURN result
END FUNCTION