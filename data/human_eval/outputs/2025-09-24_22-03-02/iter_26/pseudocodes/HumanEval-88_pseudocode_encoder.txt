FUNCTION sort_array(array)
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET sum_value TO ELEMENT AT 0 IN array PLUS ELEMENT AT LENGTH OF array MINUS 1 IN array
        SET is_even TO sum_value MODULO 2 EQUALS 0
        SET result_list TO LIST WITH ELEMENTS EMPTY
        FOR index FROM 0 TO LENGTH OF array MINUS 1
            APPEND ELEMENT AT index IN array TO result_list
        IF is_even THEN
            CALL sort_list_descending WITH ARGUMENT result_list
        ELSE
            CALL sort_list_ascending WITH ARGUMENT result_list
        RETURN result_list
END FUNCTION

FUNCTION sort_list_ascending(list_to_sort)
    FOR i FROM 0 TO LENGTH OF list_to_sort MINUS 2
        FOR j FROM 0 TO LENGTH OF list_to_sort MINUS 2 MINUS i
            IF ELEMENT AT j IN list_to_sort GREATER THAN ELEMENT AT j PLUS 1 IN list_to_sort THEN
                SET temp TO ELEMENT AT j IN list_to_sort
                SET ELEMENT AT j IN list_to_sort TO ELEMENT AT j PLUS 1 IN list_to_sort
                SET ELEMENT AT j PLUS 1 IN list_to_sort TO temp
END FUNCTION

FUNCTION sort_list_descending(list_to_sort)
    FOR i FROM 0 TO LENGTH OF list_to_sort MINUS 2
        FOR j FROM 0 TO LENGTH OF list_to_sort MINUS 2 MINUS i
            IF ELEMENT AT j IN list_to_sort LESS THAN ELEMENT AT j PLUS 1 IN list_to_sort THEN
                SET temp TO ELEMENT AT j IN list_to_sort
                SET ELEMENT AT j IN list_to_sort TO ELEMENT AT j PLUS 1 IN list_to_sort
                SET ELEMENT AT j PLUS 1 IN list_to_sort TO temp
END FUNCTION