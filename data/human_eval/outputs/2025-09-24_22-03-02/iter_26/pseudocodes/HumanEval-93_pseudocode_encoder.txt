FUNCTION encode(message)
    SET vowels TO LIST WITH ELEMENTS 'a', 'e', 'i', 'o', 'u', 'A', 'E', 'I', 'O', 'U'
    SET vowels_replace TO DICTIONARY WITH ENTRIES EMPTY
    FOR index FROM 0 TO LENGTH OF vowels MINUS 1
        SET i TO ELEMENT AT index IN vowels
        SET ascii_value TO CALL ORD WITH ARGUMENTS i
        SET ascii_value_plus_two TO ascii_value PLUS 2
        SET replacement_char TO CALL CHR WITH ARGUMENTS ascii_value_plus_two
        SET ENTRY AT KEY i IN vowels_replace TO replacement_char
    SET message TO CALL swapcase METHOD OF message WITH ARGUMENTS EMPTY
    SET encoded_characters TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF message MINUS 1
        SET character TO ELEMENT AT index IN message
        IF character IN vowels THEN
            APPEND ENTRY AT KEY character IN vowels_replace TO encoded_characters
        ELSE
            APPEND character TO encoded_characters
    SET encoded_message TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF encoded_characters MINUS 1
        SET encoded_message TO encoded_message CONCATENATE ELEMENT AT index IN encoded_characters
    RETURN encoded_message
END FUNCTION