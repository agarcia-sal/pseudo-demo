FUNCTION largest_prime_factor(n: INTEGER)
    FUNCTION is_prime(k: INTEGER)
        IF k LESS THAN 2 THEN
            RETURN False
        END IF
        FOR i FROM 2 TO k MINUS 2
            IF k MODULO i EQUALS 0 THEN
                RETURN False
            END IF
        END FOR
        RETURN True
    END FUNCTION

    SET largest TO 1
    FOR j FROM 2 TO n
        IF (n MODULO j EQUALS 0) AND (CALL is_prime WITH ARGUMENTS j) THEN
            IF j GREATER THAN largest THEN
                SET largest TO j
            END IF
        END IF
    END FOR
    RETURN largest
END FUNCTION