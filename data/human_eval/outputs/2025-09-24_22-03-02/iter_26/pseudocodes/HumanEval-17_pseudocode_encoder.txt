FUNCTION parse_music(music_string: str) RETURNS List[int]
    SET note_map TO DICTIONARY WITH ENTRIES EMPTY
    SET ENTRY 'o' OF note_map TO 4
    SET ENTRY 'o|' OF note_map TO 2
    SET ENTRY '.|' OF note_map TO 1
    SET result_list TO LIST WITH ELEMENTS EMPTY
    SET split_list TO CALL split METHOD OF music_string WITH ARGUMENTS ' '
    FOR index FROM 0 TO LENGTH OF split_list MINUS 1
        SET x TO ELEMENT AT index IN split_list
        IF x NOT EQUAL TO EMPTY STRING
            APPEND ELEMENT AT KEY x IN note_map TO result_list
    RETURN result_list
END FUNCTION