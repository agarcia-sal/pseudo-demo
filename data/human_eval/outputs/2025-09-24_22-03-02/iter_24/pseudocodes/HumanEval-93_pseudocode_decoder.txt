FUNCTION encode(message)
    SET vowels TO LIST WITH ELEMENTS "a", "e", "i", "o", "u", "A", "E", "I", "O", "U"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR index FROM 0 TO LENGTH OF vowels MINUS 1
        SET current_vowel TO vowels AT index
        SET current_vowel_ascii TO CALL ord WITH ARGUMENT current_vowel
        SET replacement_ascii TO current_vowel_ascii PLUS 2
        SET replacement_char TO CALL chr WITH ARGUMENT replacement_ascii
        SET vowels_replace AT KEY current_vowel TO replacement_char
    END FOR
    SET message TO CALL swapcase METHOD OF message WITH NO ARGUMENTS
    SET encoded_message_chars TO EMPTY LIST
    FOR index FROM 0 TO LENGTH OF message MINUS 1
        SET current_char TO message AT index
        IF current_char IN vowels THEN
            APPEND vowels_replace AT KEY current_char TO encoded_message_chars
        ELSE
            APPEND current_char TO encoded_message_chars
        END IF
    END FOR
    SET encoded_message TO CALL join METHOD OF EMPTY STRING WITH ARGUMENT encoded_message_chars
    RETURN encoded_message
END FUNCTION