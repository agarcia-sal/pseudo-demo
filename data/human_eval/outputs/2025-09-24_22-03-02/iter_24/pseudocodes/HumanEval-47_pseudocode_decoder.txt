FUNCTION median(l : list)
    SET l TO CALL sorted WITH ARGUMENT l
    SET length TO CALL len WITH ARGUMENT l
    SET remainder TO length MODULO 2
    IF remainder EQUALS 1 THEN
        SET middle_index TO length DIVIDED BY 2
        RETURN l AT INDEX middle_index
    ELSE
        SET middle_right_index TO length DIVIDED BY 2
        SET middle_left_index TO middle_right_index MINUS 1
        SET middle_sum TO l AT INDEX middle_left_index PLUS l AT INDEX middle_right_index
        RETURN middle_sum DIVIDED BY 2.0
    END IF
END FUNCTION