FUNCTION correct_bracketing WITH PARAMETER brackets OF TYPE str
    SET depth TO 0
    SET index TO 0
    WHILE index LESS THAN LENGTH OF brackets
        SET b TO CHARACTER AT POSITION index IN brackets
        IF b EQUALS "<"
            SET depth TO depth PLUS 1
        ELSE
            SET depth TO depth MINUS 1
        ENDIF
        IF depth LESS THAN 0
            RETURN False
        ENDIF
        INCREMENT index BY 1
    ENDWHILE
    RETURN depth EQUALS 0
END FUNCTION