FUNCTION closest_integer(value)
    IF CALL value.count WITH ARGUMENT '.' EQUALS 1 THEN
        WHILE CALL value AT INDEX (CALL value LENGTH MINUS 1) EQUALS '0' DO
            SET value TO CALL value SLICE FROM START TO (CALL value LENGTH MINUS 1)
        END WHILE
    END IF

    SET num TO CALL float WITH ARGUMENT value

    IF CALL value SLICE FROM (CALL value LENGTH MINUS 2) TO END EQUALS '.5' THEN
        IF num GREATER THAN 0 THEN
            SET res TO CALL ceil WITH ARGUMENT num
        ELSE
            SET res TO CALL floor WITH ARGUMENT num
        END IF
    ELSE IF CALL value LENGTH GREATER THAN 0 THEN
        SET res TO CALL round WITH ARGUMENT num CONVERTED TO int
    ELSE
        SET res TO 0
    END IF

    RETURN res
END FUNCTION