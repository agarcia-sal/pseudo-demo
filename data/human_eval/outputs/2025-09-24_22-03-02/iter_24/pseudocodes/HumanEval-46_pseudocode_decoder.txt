FUNCTION fib4 WITH PARAMETER n : int
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN results AT INDEX n
    ENDIF
    FOR index FROM 4 TO n
        SET new_value TO results AT INDEX LENGTH OF results MINUS 1 PLUS results AT INDEX LENGTH OF results MINUS 2 PLUS results AT INDEX LENGTH OF results MINUS 3 PLUS results AT INDEX LENGTH OF results MINUS 4
        APPEND new_value TO results
        REMOVE ELEMENT AT INDEX 0 FROM results
    ENDFOR
    RETURN results AT INDEX LENGTH OF results MINUS 1
ENDFUNCTION