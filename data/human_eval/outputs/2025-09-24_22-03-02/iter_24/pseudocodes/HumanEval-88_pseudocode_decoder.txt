FUNCTION sort_array WITH PARAMETER array
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET sum_first_last TO array AT INDEX 0 PLUS array AT INDEX LENGTH OF array MINUS 1
        SET is_even TO (sum_first_last MODULO 2) EQUALS 0
        SET array_copy TO LIST WITH ELEMENTS EMPTY
        FOR index FROM 0 TO LENGTH OF array MINUS 1
            APPEND array AT INDEX index TO array_copy
        END FOR
        IF is_even THEN
            CALL SORT array_copy IN DESCENDING ORDER
        ELSE
            CALL SORT array_copy IN ASCENDING ORDER
        END IF
        RETURN array_copy
    END IF