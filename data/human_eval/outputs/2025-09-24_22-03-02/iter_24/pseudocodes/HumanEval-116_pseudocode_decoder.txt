FUNCTION sort_array WITH PARAMETER arr
    SET sorted_arr TO CALL sorted WITH ARGUMENT arr
    SET sorted_arr TO CALL sorted WITH ARGUMENT sorted_arr AND KEY FUNCTION anonymous_function WITH PARAMETER x
        SET binary_string TO CALL bin WITH ARGUMENT x
        SET sliced_string TO SUBSTRING binary_string FROM INDEX 2 TO END
        SET count_ones TO 0
        FOR index IN RANGE FROM 0 TO LENGTH OF sliced_string MINUS 1
            IF CHARACTER AT sliced_string AT index EQUALS '1'
                INCREMENT count_ones BY 1
            END IF
        END FOR
        RETURN count_ones
    END FUNCTION
    RETURN sorted_arr
END FUNCTION