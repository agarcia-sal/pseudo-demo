FUNCTION common(l1 LIST, l2 LIST)
    SET ret TO EMPTY SET
    FOR index1 FROM ZERO TO LENGTH OF l1 MINUS ONE
        SET e1 TO ELEMENT AT index1 IN l1
        FOR index2 FROM ZERO TO LENGTH OF l2 MINUS ONE
            SET e2 TO ELEMENT AT index2 IN l2
            IF e1 EQUALS e2
                CALL METHOD add WITH ARGUMENT e1 ON ret
            END IF
        END FOR
    END FOR
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        APPEND element TO ret_list
    END FOR
    CALL METHOD sort ON ret_list
    RETURN ret_list
END FUNCTION