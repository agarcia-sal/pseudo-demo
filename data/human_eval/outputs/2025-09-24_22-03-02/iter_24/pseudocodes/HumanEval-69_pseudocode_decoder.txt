FUNCTION search WITH PARAMETER lst
    SET frq TO LIST WITH ELEMENTS ZERO REPEATED TIMES (CALL max WITH ARGUMENT lst) PLUS ONE
    FOR index FROM ZERO TO LENGTH OF lst MINUS ONE
        SET i TO ELEMENT AT POSITION index IN lst
        SET frq AT POSITION i TO frq AT POSITION i PLUS ONE
    END FOR
    SET ans TO MINUS ONE
    FOR i FROM ONE TO LENGTH OF frq MINUS ONE
        IF frq AT POSITION i GREATER THAN OR EQUAL TO i
            SET ans TO i
        END IF
    END FOR
    RETURN ans
END FUNCTION