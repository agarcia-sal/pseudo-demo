FUNCTION fizz_buzz WITH PARAMETER n OF TYPE int
    SET ns TO LIST WITH ELEMENTS EMPTY
    SET i TO 0
    WHILE i LESS THAN n
        SET mod_eleven TO i MODULO 11
        SET mod_thirteen TO i MODULO 13
        IF mod_eleven EQUALS 0 OR mod_thirteen EQUALS 0
            CALL ns APPEND WITH ARGUMENT i
        END IF
        INCREMENT i BY 1
    END WHILE
    SET str_list TO LIST WITH ELEMENTS EMPTY
    SET index_to_ns TO 0
    WHILE index_to_ns LESS THAN LENGTH OF ns
        SET current_number TO ns AT index_to_ns
        SET current_str TO CALL str WITH ARGUMENT current_number
        CALL str_list APPEND WITH ARGUMENT current_str
        INCREMENT index_to_ns BY 1
    END WHILE
    SET s TO EMPTY STRING
    SET index_to_str_list TO 0
    WHILE index_to_str_list LESS THAN LENGTH OF str_list
        CONCATENATE s WITH str_list AT index_to_str_list AND SET TO s
        INCREMENT index_to_str_list BY 1
    END WHILE
    SET ans TO 0
    SET index_to_s TO 0
    WHILE index_to_s LESS THAN LENGTH OF s
        SET c TO s AT index_to_s
        IF c EQUALS CHARACTER '7'
            SET ans TO ans PLUS 1
        END IF
        INCREMENT index_to_s BY 1
    END WHILE
    RETURN ans