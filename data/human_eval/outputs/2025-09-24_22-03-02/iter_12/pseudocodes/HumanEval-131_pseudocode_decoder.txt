FUNCTION digits(n)  
    SET product TO 1  
    SET odd_count TO 0  
    FOR digit IN str(n)  
        SET int_digit TO integer value of digit  
        IF int_digit MODULO 2 EQUALS 1  
            SET product TO product MULTIPLY int_digit  
            INCREMENT odd_count  
    IF odd_count EQUALS 0  
        RETURN 0  
    ELSE  
        RETURN product