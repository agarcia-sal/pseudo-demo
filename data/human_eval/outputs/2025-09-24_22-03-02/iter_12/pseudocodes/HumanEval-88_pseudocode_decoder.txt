FUNCTION sort_array ARRAY
    IF LENGTH OF ARRAY EQUALS 0
        RETURN EMPTY ARRAY
    ELSE
        SET SUM_FIRST_LAST TO ARRAY AT INDEX 0 PLUS ARRAY AT INDEX LENGTH OF ARRAY MINUS 1
        IF SUM_FIRST_LAST MODULO 2 EQUALS 0
            RETURN ARRAY SORTED IN DESCENDING ORDER
        ELSE
            RETURN ARRAY SORTED IN ASCENDING ORDER