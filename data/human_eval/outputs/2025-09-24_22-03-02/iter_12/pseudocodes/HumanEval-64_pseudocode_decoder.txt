FUNCTION vowels_count WITH PARAMETER s
    SET vowels TO "aeiouAEIOU"
    SET n_vowels TO ZERO
    FOR EACH c IN s
        IF c IS IN vowels
            INCREMENT n_vowels BY ONE
    IF LAST CHARACTER OF s IS 'y' OR LAST CHARACTER OF s IS 'Y'
        INCREMENT n_vowels BY ONE
    RETURN n_vowels