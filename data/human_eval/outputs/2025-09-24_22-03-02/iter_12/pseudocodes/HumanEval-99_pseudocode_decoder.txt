FUNCTION closest_integer(value)  
    IMPORT floor FROM math  
    IMPORT ceil FROM math  
    IF value CONTAINS ONE DOT  
        WHILE LAST CHARACTER OF value EQUALS CHARACTER ZERO  
            SET value TO value EXCEPT LAST CHARACTER  
    SET num TO CONVERT value TO FLOAT  
    IF LAST TWO CHARACTERS OF value EQUAL TO DOT FIVE  
        IF num GREATER THAN ZERO  
            SET res TO CALL ceil WITH num  
        ELSE  
            SET res TO CALL floor WITH num  
    ELSE IF LENGTH OF value GREATER THAN ZERO  
        SET res TO CONVERT CALL round WITH num TO INTEGER  
    ELSE  
        SET res TO ZERO  
    RETURN res