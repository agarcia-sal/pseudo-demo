FUNCTION modp WITH PARAMETERS n p
  SET ret TO 1
  FOR i IN RANGE FROM 0 TO n MINUS 1
    SET ret TO remainder of (2 MULTIPLY ret) DIVIDED BY p
  RETURN ret