FUNCTION parse_music(music_string)
    SET note_map TO DICTIONARY WITH KEYS AND VALUES 'o' TO 4, 'o|' TO 2, '.|' TO 1
    SET result TO EMPTY LIST
    FOR x IN SPLIT music_string BY SPACE
        IF x IS NOT EMPTY
            APPEND note_map AT x TO result
    RETURN result