FUNCTION hex_key(num)
    SET primes TO TUPLE of '2' '3' '5' '7' 'B' 'D'
    SET total TO 0
    FOR i FROM 0 TO LENGTH of num MINUS 1
        IF num AT i IN primes
            INCREMENT total BY 1
    RETURN total