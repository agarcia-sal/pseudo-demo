FUNCTION encrypt TAKES s
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO empty string
    FOR EACH c IN s
        IF c IN d
            SET index TO d INDEX OF c
            SET new_index TO (index PLUS 2 MULTIPLY 2) MODULO 26
            CONCATENATE d AT POSITION new_index TO out
        ELSE
            CONCATENATE c TO out
    RETURN out