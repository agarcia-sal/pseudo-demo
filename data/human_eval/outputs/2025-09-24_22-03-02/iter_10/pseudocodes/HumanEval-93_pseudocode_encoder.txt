FUNCTION encode(message)
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR EACH i IN vowels
        SET vowels_replace[i] TO CHARACTER WITH ASCII VALUE OF ORDINAL VALUE OF i PLUS 2
    SET message TO message WITH UPPERCASE LETTERS CHANGED TO LOWERCASE AND LOWERCASE LETTERS CHANGED TO UPPERCASE
    SET result TO EMPTY LIST
    FOR EACH i IN message
        IF i IS IN vowels
            APPEND vowels_replace[i] TO result
        ELSE
            APPEND i TO result
    RETURN CONCATENATION OF ELEMENTS IN result