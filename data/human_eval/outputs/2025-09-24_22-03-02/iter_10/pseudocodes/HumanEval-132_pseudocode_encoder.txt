FUNCTION is_nested STRING
    SET opening_bracket_index TO EMPTY LIST
    SET closing_bracket_index TO EMPTY LIST
    FOR i FROM ZERO TO LENGTH OF STRING MINUS ONE
        IF CHARACTER AT STRING POSITION i EQUALS OPENING SQUARE BRACKET
            APPEND i TO opening_bracket_index
        ELSE
            APPEND i TO closing_bracket_index
    CALL closing_bracket_index.REVERSE
    SET cnt TO ZERO
    SET i TO ZERO
    SET l TO LENGTH OF closing_bracket_index
    FOR idx IN opening_bracket_index
        IF i LESS THAN l AND idx LESS THAN closing_bracket_index AT POSITION i
            SET cnt TO cnt PLUS ONE
            SET i TO i PLUS ONE
    RETURN cnt GREATER THAN OR EQUAL TO TWO