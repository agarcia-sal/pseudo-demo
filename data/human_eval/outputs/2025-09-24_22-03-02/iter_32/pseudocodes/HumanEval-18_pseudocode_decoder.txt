FUNCTION how_many_times(string STRING, substring STRING) RETURNS INTEGER
    SET times TO 0
    SET string_length TO LENGTH OF string
    SET substring_length TO LENGTH OF substring
    SET max_index TO string_length MINUS substring_length PLUS 1

    FOR i FROM 0 TO max_index MINUS 1 DO
        SET match TO TRUE
        FOR j FROM 0 TO substring_length MINUS 1 DO
            IF CHARACTER AT string AT INDEX i PLUS j NOT EQUAL TO CHARACTER AT substring AT INDEX j THEN
                SET match TO FALSE
                BREAK OUT OF INNER FOR LOOP
            END IF
        END FOR

        IF match EQUALS TRUE THEN
            SET times TO times PLUS 1
        END IF
    END FOR

    RETURN times
END FUNCTION