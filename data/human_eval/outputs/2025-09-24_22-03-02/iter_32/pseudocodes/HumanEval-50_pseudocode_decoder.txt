FUNCTION encode_shift WITH PARAMETER s OF TYPE STRING
    SET result TO EMPTY LIST WITH ELEMENTS EMPTY
    SET length TO CALL LENGTH ON s
    SET index TO 0
    WHILE index LESS THAN length
        SET ch TO ELEMENT AT INDEX index IN s
        SET ch_code TO CALL ORD ON ch
        SET a_code TO CALL ORD ON CHARACTER "a"
        SET shifted_code TO ch_code PLUS 5 MINUS a_code
        SET mod_code TO shifted_code MODULO 26
        SET final_code TO mod_code PLUS a_code
        SET encoded_char TO CALL CHR ON final_code
        CALL APPEND WITH ARGUMENTS encoded_char ON result
        INCREMENT index BY 1
    END WHILE
    SET encoded_string TO EMPTY STRING
    SET result_length TO CALL LENGTH ON result
    SET result_index TO 0
    WHILE result_index LESS THAN result_length
        SET encoded_string TO CONCATENATE encoded_string PLUS ELEMENT AT INDEX result_index IN result
        INCREMENT result_index BY 1
    END WHILE
    RETURN encoded_string
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE STRING
    SET result TO EMPTY LIST WITH ELEMENTS EMPTY
    SET length TO CALL LENGTH ON s
    SET index TO 0
    WHILE index LESS THAN length
        SET ch TO ELEMENT AT INDEX index IN s
        SET ch_code TO CALL ORD ON ch
        SET a_code TO CALL ORD ON CHARACTER "a"
        SET shifted_code TO ch_code MINUS 5 MINUS a_code
        SET mod_code TO shifted_code MODULO 26
        SET final_code TO mod_code PLUS a_code
        SET decoded_char TO CALL CHR ON final_code
        CALL APPEND WITH ARGUMENTS decoded_char ON result
        INCREMENT index BY 1
    END WHILE
    SET decoded_string TO EMPTY STRING
    SET result_length TO CALL LENGTH ON result
    SET result_index TO 0
    WHILE result_index LESS THAN result_length
        SET decoded_string TO CONCATENATE decoded_string PLUS ELEMENT AT INDEX result_index IN result
        INCREMENT result_index BY 1
    END WHILE
    RETURN decoded_string
END FUNCTION