FUNCTION anti_shuffle WITH PARAMETER s
    SET words TO CALL method split ON s WITH ARGUMENT ' '
    SET result_words TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF words MINUS 1
        SET current_word TO words AT index
        SET characters TO CALL method list ON current_word
        SET characters_sorted TO CALL function sorted WITH ARGUMENT characters
        SET sorted_word TO EMPTY STRING
        FOR char_index FROM 0 TO LENGTH OF characters_sorted MINUS 1
            SET sorted_word TO CONCATENATE sorted_word PLUS characters_sorted AT char_index
        END FOR
        APPEND sorted_word TO result_words
    END FOR
    SET final_string TO EMPTY STRING
    FOR word_index FROM 0 TO LENGTH OF result_words MINUS 1
        SET final_string TO CONCATENATE final_string PLUS result_words AT word_index
        IF word_index LESS THAN LENGTH OF result_words MINUS 1
            SET final_string TO CONCATENATE final_string PLUS ' '
        END IF
    END FOR
    RETURN final_string
END FUNCTION