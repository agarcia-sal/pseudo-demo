FUNCTION encrypt WITH PARAMETER s
    SET d TO 'abcdefghijklmnopqrstuvwxyz'
    SET out TO EMPTY STRING
    FOR EACH c IN s
        SET found TO FALSE
        SET i TO 0
        WHILE i LESS THAN LENGTH OF d AND found EQUALS FALSE
            IF c EQUALS CHARACTER AT INDEX i IN d
                SET found TO TRUE
                SET index_c TO i
            END IF
            INCREMENT i BY 1
        END WHILE
        IF found EQUALS TRUE
            SET new_index TO (index_c PLUS 2 MULTIPLY 2) MODULO 26
            SET new_char TO CHARACTER AT INDEX new_index IN d
            SET out TO out CONCATENATE new_char
        ELSE
            SET out TO out CONCATENATE c
        END IF
    END FOR
    RETURN out