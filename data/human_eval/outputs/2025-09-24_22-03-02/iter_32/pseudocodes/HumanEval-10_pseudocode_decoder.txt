FUNCTION is_palindrome WITH PARAMETER string OF TYPE str RETURNS bool
    RETURN string EQUALS CALL reverse_string WITH ARGUMENT string

FUNCTION make_palindrome WITH PARAMETER string OF TYPE str RETURNS str
    IF string EQUALS EMPTY STRING
        RETURN EMPTY STRING
    SET beginning_of_suffix TO 0
    WHILE CALL is_palindrome WITH ARGUMENT substring_of string FROM beginning_of_suffix TO LENGTH OF string MINUS ONE IS EQUAL TO false
        INCREMENT beginning_of_suffix BY 1
    SET prefix TO substring_of string FROM 0 TO beginning_of_suffix MINUS 1
    SET reversed_prefix TO CALL reverse_string WITH ARGUMENT prefix
    RETURN CONCATENATE string AND reversed_prefix

FUNCTION reverse_string WITH PARAMETER s OF TYPE str RETURNS str
    SET result TO EMPTY STRING
    SET length TO LENGTH OF s
    SET index TO length MINUS 1
    WHILE index GREATER THAN OR EQUAL TO 0
        SET result TO CONCATENATE result AND s[index]
        DECREMENT index BY 1
    RETURN result