FUNCTION sort_array WITH PARAMETER array
    IF LENGTH OF array EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS EMPTY
    ELSE
        SET first_value TO array AT INDEX 0
        SET last_index TO LENGTH OF array MINUS 1
        SET last_value TO array AT INDEX last_index
        SET sum_value TO first_value PLUS last_value
        SET is_even TO sum_value MODULO 2 EQUALS 0
        
        SET copy_array TO LIST WITH ELEMENTS EMPTY
        FOR i FROM 0 TO LENGTH OF array MINUS 1 DO
            APPEND array AT INDEX i TO copy_array
        END FOR
        
        IF is_even THEN
            CALL copy_array SORT IN PLACE IN DESCENDING ORDER
        ELSE
            CALL copy_array SORT IN PLACE IN ASCENDING ORDER
        END IF
        
        RETURN copy_array
    END IF
END FUNCTION