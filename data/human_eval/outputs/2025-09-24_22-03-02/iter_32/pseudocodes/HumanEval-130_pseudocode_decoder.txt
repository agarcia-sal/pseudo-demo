FUNCTION tri WITH PARAMETER n
    IF n EQUALS 0 THEN
        RETURN LIST WITH ELEMENTS 1
    END IF

    SET my_tri TO LIST WITH ELEMENTS 1 AND 3

    SET i TO 2
    WHILE i LESS THAN OR EQUAL TO n DO
        IF i MODULO 2 EQUALS 0 THEN
            SET next_value TO 1 PLUS (i DIVIDE BY 2)
            CALL APPEND next_value TO my_tri
        ELSE
            SET value_1 TO ELEMENT AT INDEX i MINUS 1 OF my_tri
            SET value_2 TO ELEMENT AT INDEX i MINUS 2 OF my_tri
            SET value_3 TO (i PLUS 3) DIVIDE BY 2
            SET next_value TO value_1 PLUS value_2 PLUS value_3
            CALL APPEND next_value TO my_tri
        END IF
        INCREMENT i BY 1
    END WHILE

    RETURN my_tri
END FUNCTION