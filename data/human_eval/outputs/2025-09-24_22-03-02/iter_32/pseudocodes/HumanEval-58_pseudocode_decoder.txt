FUNCTION common WITH PARAMETERS l1, l2
    SET ret TO EMPTY SET
    SET index1 TO 0
    WHILE index1 LESS THAN LENGTH OF l1
        SET e1 TO ELEMENT AT INDEX index1 IN l1
        SET index2 TO 0
        WHILE index2 LESS THAN LENGTH OF l2
            SET e2 TO ELEMENT AT INDEX index2 IN l2
            IF e1 EQUALS e2
                CALL ADD e1 TO ret
            END IF
            INCREMENT index2 BY 1
        END WHILE
        INCREMENT index1 BY 1
    END WHILE
    SET ret_list TO EMPTY LIST
    FOR EACH element IN ret
        CALL APPEND element TO ret_list
    END FOR
    SET n TO LENGTH OF ret_list
    FOR i FROM 0 TO n MINUS 2
        FOR j FROM 0 TO n MINUS 2 MINUS i
            IF ELEMENT AT INDEX j IN ret_list GREATER THAN ELEMENT AT INDEX j PLUS 1 IN ret_list
                SET temp TO ELEMENT AT INDEX j IN ret_list
                SET ELEMENT AT INDEX j IN ret_list TO ELEMENT AT INDEX j PLUS 1 IN ret_list
                SET ELEMENT AT INDEX j PLUS 1 IN ret_list TO temp
            END IF
        END FOR
    END FOR
    RETURN ret_list
END FUNCTION