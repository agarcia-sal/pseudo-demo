FUNCTION select_words(s, n)
    SET result TO LIST WITH ELEMENTS EMPTY
    SET words TO CALL split ON s WITH ARGUMENTS " "
    SET words_count TO LENGTH OF words
    SET index_word TO 0
    WHILE index_word LESS THAN words_count
        SET word TO element AT index_word OF words
        SET n_consonants TO 0
        SET word_length TO LENGTH OF word
        SET index_char TO 0
        WHILE index_char LESS THAN word_length
            SET char_lower TO CALL lower ON element AT index_char OF word
            IF char_lower NOT EQUAL TO "a" AND char_lower NOT EQUAL TO "e" AND char_lower NOT EQUAL TO "i" AND char_lower NOT EQUAL TO "o" AND char_lower NOT EQUAL TO "u"
                SET n_consonants TO n_consonants PLUS 1
            END IF
            INCREMENT index_char BY 1
        END WHILE
        IF n_consonants EQUALS n
            CALL append ON result WITH ARGUMENTS word
        END IF
        INCREMENT index_word BY 1
    END WHILE
    RETURN result
END FUNCTION