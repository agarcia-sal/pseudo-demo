FUNCTION fib4 WITH PARAMETER n OF TYPE int
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN ELEMENT AT INDEX n OF results
    END IF
    SET i TO 4
    WHILE i LESS THAN OR EQUAL TO n DO
        SET sum TO ELEMENT AT INDEX LENGTH OF results MINUS 1 OF results
        SET sum TO sum PLUS ELEMENT AT INDEX LENGTH OF results MINUS 2 OF results
        SET sum TO sum PLUS ELEMENT AT INDEX LENGTH OF results MINUS 3 OF results
        SET sum TO sum PLUS ELEMENT AT INDEX LENGTH OF results MINUS 4 OF results
        CALL APPEND sum TO results
        CALL REMOVE ELEMENT AT INDEX 0 FROM results
        INCREMENT i BY 1
    END WHILE
    RETURN ELEMENT AT INDEX LENGTH OF results MINUS 1 OF results
END FUNCTION