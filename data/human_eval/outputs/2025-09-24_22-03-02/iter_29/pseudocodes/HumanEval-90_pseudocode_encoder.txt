FUNCTION next_smallest(lst)
    SET unique_set TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF lst MINUS 1
        SET found TO FALSE
        FOR j FROM 0 TO LENGTH OF unique_set MINUS 1
            IF unique_set[j] EQUALS lst[i]
                SET found TO TRUE
                BREAK
            ENDIF
        ENDFOR
        IF found EQUALS FALSE
            APPEND lst[i] TO unique_set
        ENDIF
    ENDFOR
    SET sorted_list TO LIST WITH ELEMENTS EMPTY
    WHILE LENGTH OF unique_set GREATER THAN 0
        SET min_value TO unique_set[0]
        SET min_index TO 0
        FOR k FROM 1 TO LENGTH OF unique_set MINUS 1
            IF unique_set[k] LESS THAN min_value
                SET min_value TO unique_set[k]
                SET min_index TO k
            ENDIF
        ENDFOR
        APPEND min_value TO sorted_list
        REMOVE ELEMENT AT min_index FROM unique_set
    ENDWHILE
    IF LENGTH OF sorted_list LESS THAN 2
        RETURN NONE
    ELSE
        RETURN sorted_list[1]
    ENDIF
ENDFUNCTION