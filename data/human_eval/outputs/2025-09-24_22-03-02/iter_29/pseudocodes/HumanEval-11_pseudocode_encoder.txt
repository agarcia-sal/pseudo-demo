FUNCTION string_xor WITH PARAMETERS a AS str, b AS str RETURNS str
    FUNCTION xor WITH PARAMETERS i, j RETURNS str
        IF i EQUALS j THEN
            RETURN '0'
        ELSE
            RETURN '1'
    SET result AS LIST WITH ELEMENTS EMPTY
    SET index AS INTEGER 0
    SET length AS INTEGER CALL LENGTH WITH ARGUMENTS CALL MINIMUM WITH ARGUMENTS CALL LENGTH WITH ARGUMENTS a, CALL LENGTH WITH ARGUMENTS b
    WHILE index LESS THAN length DO
        SET x AS CHARACTER AT INDEX index OF a
        SET y AS CHARACTER AT INDEX index OF b
        SET value AS CALL xor WITH ARGUMENTS x, y
        CALL APPEND WITH ARGUMENTS value TO result
        INCREMENT index BY 1
    SET joined_result AS CALL JOIN WITH ARGUMENTS EMPTY STRING AND result
    RETURN joined_result