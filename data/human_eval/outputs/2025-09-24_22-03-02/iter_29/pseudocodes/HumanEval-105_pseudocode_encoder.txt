FUNCTION by_length arr
    SET dic TO DICTIONARY WITH ELEMENTS
        1 MAPPED TO "One"
        2 MAPPED TO "Two"
        3 MAPPED TO "Three"
        4 MAPPED TO "Four"
        5 MAPPED TO "Five"
        6 MAPPED TO "Six"
        7 MAPPED TO "Seven"
        8 MAPPED TO "Eight"
        9 MAPPED TO "Nine"
    SET filtered_arr TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF arr MINUS 1
        IF arr AT index IS GREATER THAN OR EQUAL TO 1 AND arr AT index IS LESS THAN OR EQUAL TO 9
            APPEND arr AT index TO filtered_arr
    FOR i FROM 0 TO LENGTH OF filtered_arr MINUS 2
        FOR j FROM 0 TO LENGTH OF filtered_arr MINUS 2 MINUS i
            IF filtered_arr AT j IS GREATER THAN filtered_arr AT j PLUS 1
                SET temp TO filtered_arr AT j
                SET filtered_arr AT j TO filtered_arr AT j PLUS 1
                SET filtered_arr AT j PLUS 1 TO temp
    SET reversed_arr TO LIST WITH ELEMENTS EMPTY
    FOR k FROM LENGTH OF filtered_arr MINUS 1 DOWNTO 0 STEP MINUS 1
        APPEND filtered_arr AT k TO reversed_arr
    SET new_arr TO LIST WITH ELEMENTS EMPTY
    FOR m FROM 0 TO LENGTH OF reversed_arr MINUS 1
        IF reversed_arr AT m IS IN dic
            APPEND dic AT reversed_arr AT m TO new_arr
    RETURN new_arr