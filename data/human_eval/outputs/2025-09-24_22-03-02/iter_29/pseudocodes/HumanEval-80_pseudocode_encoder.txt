FUNCTION is_happy WITH PARAMETER s
    IF CALL len WITH ARGUMENT s LESS THAN 3
        RETURN False
    SET length TO CALL len WITH ARGUMENT s
    SET i TO 0
    WHILE i LESS THAN length MINUS 2
        IF CALL s AT INDEX i EQUALS CALL s AT INDEX i PLUS 1 OR CALL s AT INDEX i PLUS 1 EQUALS CALL s AT INDEX i PLUS 2 OR CALL s AT INDEX i EQUALS CALL s AT INDEX i PLUS 2
            RETURN False
        INCREMENT i BY 1
    RETURN True