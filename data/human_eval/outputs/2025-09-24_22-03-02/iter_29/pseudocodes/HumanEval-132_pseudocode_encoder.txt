FUNCTION is_nested(string)
    SET opening_bracket_index TO LIST WITH ELEMENTS EMPTY
    SET closing_bracket_index TO LIST WITH ELEMENTS EMPTY
    FOR i FROM 0 TO LENGTH OF string MINUS 1
        IF CALL string AT i EQUALS '['
            CALL opening_bracket_index APPEND WITH ARGUMENTS i
        ELSE
            CALL closing_bracket_index APPEND WITH ARGUMENTS i
    CALL closing_bracket_index REVERSE
    SET cnt TO 0
    SET i TO 0
    SET l TO LENGTH OF closing_bracket_index
    FOR index FROM 0 TO LENGTH OF opening_bracket_index MINUS 1
        SET idx TO CALL opening_bracket_index AT index
        IF i LESS THAN l AND idx LESS THAN CALL closing_bracket_index AT i
            SET cnt TO cnt PLUS 1
            SET i TO i PLUS 1
    RETURN cnt GREATER THAN OR EQUAL TO 2