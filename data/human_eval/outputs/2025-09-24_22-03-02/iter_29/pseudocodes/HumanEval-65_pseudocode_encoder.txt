FUNCTION circular_shift(x, shift)  
    SET s TO CALL str WITH ARGUMENT x  
    IF shift GREATER THAN CALL len WITH ARGUMENT s  
        SET reversed_string TO EMPTY STRING  
        SET index TO CALL len WITH ARGUMENT s MINUS 1  
        WHILE index GREATER THAN OR EQUAL TO 0  
            SET reversed_string TO CONCATENATE reversed_string WITH s AT index  
            DECREMENT index BY 1  
        END WHILE  
        RETURN reversed_string  
    ELSE  
        SET length TO CALL len WITH ARGUMENT s  
        SET right_part TO EMPTY STRING  
        SET i TO length MINUS shift  
        WHILE i LESS THAN length  
            SET right_part TO CONCATENATE right_part WITH s AT i  
            INCREMENT i BY 1  
        END WHILE  
        SET left_part TO EMPTY STRING  
        SET j TO 0  
        WHILE j LESS THAN length MINUS shift  
            SET left_part TO CONCATENATE left_part WITH s AT j  
            INCREMENT j BY 1  
        END WHILE  
        RETURN CONCATENATE right_part WITH left_part  
    END IF  
END FUNCTION