FUNCTION digits(n)
    SET product TO 1
    SET odd_count TO 0
    SET digits_string TO CALL str WITH ARGUMENTS n
    FOR index FROM 0 TO LENGTH OF digits_string MINUS 1
        SET digit_char TO digits_string AT index
        SET int_digit TO CALL int WITH ARGUMENTS digit_char
        IF int_digit MODULO 2 EQUALS 1
            SET product TO product MULTIPLY BY int_digit
            INCREMENT odd_count BY 1
        ENDIF
    ENDFOR
    IF odd_count EQUALS 0
        RETURN 0
    ELSE
        RETURN product
    ENDIF
END FUNCTION