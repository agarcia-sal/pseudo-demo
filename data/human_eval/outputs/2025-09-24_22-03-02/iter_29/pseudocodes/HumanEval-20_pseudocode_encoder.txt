FUNCTION find_closest_elements WITH PARAMETER numbers OF TYPE LIST OF FLOAT RETURNS TUPLE OF FLOAT, FLOAT
    SET closest_pair TO NONE
    SET distance TO NONE
    SET length_numbers TO CALL length WITH ARGUMENT numbers
    FOR idx FROM 0 TO length_numbers MINUS 1
        SET elem TO CALL element AT INDEX idx OF numbers
        FOR idx2 FROM 0 TO length_numbers MINUS 1
            SET elem2 TO CALL element AT INDEX idx2 OF numbers
            IF idx NOT EQUAL TO idx2 THEN
                IF distance EQUALS NONE THEN
                    SET distance TO CALL absolute WITH ARGUMENT elem MINUS elem2
                    SET temp_list TO LIST WITH ELEMENTS elem, elem2
                    CALL temp_list SORTED IN ASCENDING ORDER
                    SET closest_pair TO TUPLE WITH ELEMENTS CALL element AT INDEX 0 OF temp_list, CALL element AT INDEX 1 OF temp_list
                ELSE
                    SET new_distance TO CALL absolute WITH ARGUMENT elem MINUS elem2
                    IF new_distance LESS THAN distance THEN
                        SET distance TO new_distance
                        SET temp_list TO LIST WITH ELEMENTS elem, elem2
                        CALL temp_list SORTED IN ASCENDING ORDER
                        SET closest_pair TO TUPLE WITH ELEMENTS CALL element AT INDEX 0 OF temp_list, CALL element AT INDEX 1 OF temp_list
                    END IF
                END IF
            END IF
        END FOR
    END FOR
    RETURN closest_pair
END FUNCTION