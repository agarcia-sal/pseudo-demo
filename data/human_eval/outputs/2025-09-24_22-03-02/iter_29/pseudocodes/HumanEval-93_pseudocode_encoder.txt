FUNCTION encode WITH PARAMETER message
    SET vowels TO "aeiouAEIOU"
    SET vowels_replace TO EMPTY DICTIONARY
    FOR index FROM 0 TO LENGTH OF vowels MINUS 1
        SET character TO vowels AT index
        SET new_char_code TO CALL ord WITH ARGUMENT character PLUS 2
        SET new_char TO CALL chr WITH ARGUMENT new_char_code
        SET vowels_replace AT KEY character TO new_char
    END FOR
    SET message TO CALL swapcase METHOD OF message WITH NO ARGUMENTS
    SET encoded_characters TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF message MINUS 1
        SET character TO message AT index
        IF character IN vowels
            APPEND vowels_replace AT KEY character TO encoded_characters
        ELSE
            APPEND character TO encoded_characters
        END IF
    END FOR
    SET encoded_message TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF encoded_characters MINUS 1
        SET encoded_message TO encoded_message CONCATENATE encoded_characters AT index
    END FOR
    RETURN encoded_message