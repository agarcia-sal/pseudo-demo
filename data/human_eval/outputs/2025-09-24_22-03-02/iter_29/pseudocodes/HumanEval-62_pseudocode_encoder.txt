FUNCTION derivative WITH PARAMETER xs AS list
    SET result AS LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF xs MINUS 1
        SET product AS index MULTIPLY xs AT index
        APPEND product TO result
    REMOVE FIRST ELEMENT FROM result
    RETURN result