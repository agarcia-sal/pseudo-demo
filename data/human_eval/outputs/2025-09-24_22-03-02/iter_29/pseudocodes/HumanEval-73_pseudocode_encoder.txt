FUNCTION smallest_change WITH PARAMETER arr OF TYPE LIST OF INTEGER RETURNS INTEGER
    SET ans TO 0
    SET length TO CALL len WITH ARGUMENTS arr
    SET half_length TO CALL length DIVIDE BY 2
    FOR i FROM 0 TO half_length MINUS 1
        SET left_element TO arr AT INDEX i
        SET right_element TO arr AT INDEX length MINUS i MINUS 1
        IF left_element NOT EQUALS right_element
            SET ans TO ans PLUS 1
    RETURN ans