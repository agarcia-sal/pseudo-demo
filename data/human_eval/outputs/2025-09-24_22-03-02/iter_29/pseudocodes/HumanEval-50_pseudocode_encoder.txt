FUNCTION encode_shift WITH PARAMETER s OF TYPE str RETURNS str
    SET result TO EMPTY LIST
    FOR i FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO s AT INDEX i
        SET shifted_value TO ((CALL ORD WITH ARGUMENT ch PLUS 5 MINUS CALL ORD WITH ARGUMENT "a") MODULO 26) PLUS CALL ORD WITH ARGUMENT "a"
        SET shifted_char TO CALL CHR WITH ARGUMENT shifted_value
        APPEND shifted_char TO result
    END FOR
    SET encoded_string TO EMPTY STRING
    FOR i FROM 0 TO LENGTH OF result MINUS 1
        CONCATENATE encoded_string WITH result AT INDEX i
    END FOR
    RETURN encoded_string
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE str RETURNS str
    SET result TO EMPTY LIST
    FOR i FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO s AT INDEX i
        SET shifted_value TO ((CALL ORD WITH ARGUMENT ch MINUS 5 MINUS CALL ORD WITH ARGUMENT "a") MODULO 26) PLUS CALL ORD WITH ARGUMENT "a"
        SET shifted_char TO CALL CHR WITH ARGUMENT shifted_value
        APPEND shifted_char TO result
    END FOR
    SET decoded_string TO EMPTY STRING
    FOR i FROM 0 TO LENGTH OF result MINUS 1
        CONCATENATE decoded_string WITH result AT INDEX i
    END FOR
    RETURN decoded_string
END FUNCTION