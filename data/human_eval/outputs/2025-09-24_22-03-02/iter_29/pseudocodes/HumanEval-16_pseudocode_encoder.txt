FUNCTION count_distinct_characters WITH PARAMETER string OF TYPE str RETURNS int
    SET lower_string TO CALL string.lower WITH NO ARGUMENTS
    SET character_set TO EMPTY LIST
    FOR index FROM 0 TO LENGTH OF lower_string MINUS 1
        SET current_character TO ELEMENT AT index OF lower_string
        SET found TO FALSE
        FOR inner_index FROM 0 TO LENGTH OF character_set MINUS 1
            IF ELEMENT AT inner_index OF character_set EQUALS current_character
                SET found TO TRUE
                BREAK
        IF found EQUALS FALSE
            APPEND current_character TO character_set
    RETURN LENGTH OF character_set