FUNCTION filter_by_substring WITH PARAMETERS strings OF TYPE LIST OF STRING, substring OF TYPE STRING RETURNS LIST OF STRING
    SET result TO LIST WITH ELEMENTS EMPTY
    SET index TO 0
    WHILE index LESS THAN LENGTH OF strings
        SET x TO ELEMENT AT index OF strings
        SET contains_substring TO FALSE
        SET position TO 0
        WHILE position LESS THAN LENGTH OF x AND contains_substring EQUALS FALSE
            IF CALL substring AT position TO position PLUS LENGTH OF substring EQUALS substring
                SET contains_substring TO TRUE
            INCREMENT position BY 1
        IF contains_substring EQUALS TRUE
            APPEND x TO result
        INCREMENT index BY 1
    RETURN result