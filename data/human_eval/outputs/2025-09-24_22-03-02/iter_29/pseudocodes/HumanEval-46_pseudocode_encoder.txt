FUNCTION fib4 WITH PARAMETER n AS INTEGER RETURNS INTEGER
    SET results TO LIST WITH ELEMENTS 0, 0, 2, 0
    IF n LESS THAN 4 THEN
        RETURN results AT INDEX n
    END IF
    FOR i FROM 4 TO n DO
        SET new_value TO results AT INDEX (LENGTH OF results MINUS 1) PLUS results AT INDEX (LENGTH OF results MINUS 2) PLUS results AT INDEX (LENGTH OF results MINUS 3) PLUS results AT INDEX (LENGTH OF results MINUS 4)
        CALL APPEND new_value TO results
        CALL REMOVE ELEMENT AT INDEX 0 FROM results
    END FOR
    RETURN results AT INDEX (LENGTH OF results MINUS 1)
END FUNCTION