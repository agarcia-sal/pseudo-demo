FUNCTION sort_numbers WITH PARAMETER numbers OF TYPE str RETURNS str
    SET value_map TO DICTIONARY WITH ELEMENTS
        'zero' MAPPED TO 0,
        'one' MAPPED TO 1,
        'two' MAPPED TO 2,
        'three' MAPPED TO 3,
        'four' MAPPED TO 4,
        'five' MAPPED TO 5,
        'six' MAPPED TO 6,
        'seven' MAPPED TO 7,
        'eight' MAPPED TO 8,
        'nine' MAPPED TO 9
    SET split_numbers TO CALL numbers.split WITH ARGUMENTS ' '
    SET filtered_numbers TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF split_numbers MINUS 1
        IF split_numbers AT index NOT EQUAL TO EMPTY STRING
            APPEND split_numbers AT index TO filtered_numbers
    FOR i FROM 0 TO LENGTH OF filtered_numbers MINUS 2
        FOR j FROM 0 TO LENGTH OF filtered_numbers MINUS 2 MINUS i
            SET left_value TO value_map AT filtered_numbers AT j
            SET right_value TO value_map AT filtered_numbers AT j PLUS 1
            IF left_value GREATER THAN right_value
                SET temp TO filtered_numbers AT j
                SET filtered_numbers AT j TO filtered_numbers AT j PLUS 1
                SET filtered_numbers AT j PLUS 1 TO temp
    SET result_string TO EMPTY STRING
    FOR k FROM 0 TO LENGTH OF filtered_numbers MINUS 1
        IF k GREATER THAN 0
            CONCATENATE result_string WITH SINGLE SPACE
        CONCATENATE result_string WITH filtered_numbers AT k
    RETURN result_string