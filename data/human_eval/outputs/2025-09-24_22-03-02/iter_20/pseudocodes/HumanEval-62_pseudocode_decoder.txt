FUNCTION derivative WITH PARAMETER xs OF TYPE list
    SET result TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF xs MINUS 1
        SET coefficient TO xs AT index
        SET product TO index MULTIPLY coefficient
        CALL APPEND product TO result
    END FOR
    SET derivative_result TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 1 TO LENGTH OF result MINUS 1
        SET element TO result AT index
        CALL APPEND element TO derivative_result
    END FOR
    RETURN derivative_result
END FUNCTION