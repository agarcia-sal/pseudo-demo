FUNCTION encode_shift WITH PARAMETER s OF TYPE str
    SET result TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO s AT index
        SET shifted_value TO ((CALL ord WITH ARGUMENT ch PLUS 5 MINUS CALL ord WITH ARGUMENT "a") MODULO 26) PLUS CALL ord WITH ARGUMENT "a"
        SET shifted_char TO CALL chr WITH ARGUMENT shifted_value
        APPEND shifted_char TO result
    END FOR
    SET encoded_string TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF result MINUS 1
        SET encoded_string TO encoded_string CONCATENATE result AT index
    END FOR
    RETURN encoded_string
END FUNCTION

FUNCTION decode_shift WITH PARAMETER s OF TYPE str
    SET result TO LIST WITH ELEMENTS EMPTY
    FOR index FROM 0 TO LENGTH OF s MINUS 1
        SET ch TO s AT index
        SET shifted_value TO ((CALL ord WITH ARGUMENT ch MINUS 5 MINUS CALL ord WITH ARGUMENT "a") MODULO 26) PLUS CALL ord WITH ARGUMENT "a"
        SET shifted_char TO CALL chr WITH ARGUMENT shifted_value
        APPEND shifted_char TO result
    END FOR
    SET decoded_string TO EMPTY STRING
    FOR index FROM 0 TO LENGTH OF result MINUS 1
        SET decoded_string TO decoded_string CONCATENATE result AT index
    END FOR
    RETURN decoded_string
END FUNCTION