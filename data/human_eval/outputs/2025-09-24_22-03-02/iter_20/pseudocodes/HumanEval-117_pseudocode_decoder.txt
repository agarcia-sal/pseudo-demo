FUNCTION select_words(s, n)  
    SET result TO LIST WITH ELEMENTS EMPTY  
    SET words TO LIST WITH ELEMENTS EMPTY  
    SET current_word TO EMPTY STRING  
    FOR each character_index FROM 0 TO LENGTH OF s MINUS 1  
        IF s AT character_index EQUALS SPACE  
            IF LENGTH OF current_word GREATER THAN 0  
                APPEND current_word TO words  
                SET current_word TO EMPTY STRING  
            END IF  
        ELSE  
            SET current_word TO current_word CONCATENATE s AT character_index  
        END IF  
    END FOR  
    IF LENGTH OF current_word GREATER THAN 0  
        APPEND current_word TO words  
    END IF  
    FOR word_index FROM 0 TO LENGTH OF words MINUS 1  
        SET word TO words AT word_index  
        SET n_consonants TO 0  
        FOR i FROM 0 TO LENGTH OF word MINUS 1  
            SET char_lower TO CALL LOWERCASE ON word AT i  
            IF char_lower NOT EQUAL TO "a" AND char_lower NOT EQUAL TO "e" AND char_lower NOT EQUAL TO "i" AND char_lower NOT EQUAL TO "o" AND char_lower NOT EQUAL TO "u"  
                SET n_consonants TO n_consonants PLUS 1  
            END IF  
        END FOR  
        IF n_consonants EQUALS n  
            APPEND word TO result  
        END IF  
    END FOR  
    RETURN result  
END FUNCTION